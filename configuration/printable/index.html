<!DOCTYPE html><html lang="en" data-reactroot=""><head><meta charset="utf-8"/><meta name="theme-color" content="#2B3A42"/><meta name="viewport" content="width=device-width, initial-scale=1"/><meta name="robots" content="noindex,nofollow"/><title>Combined printable page | webpack</title><meta name="description" content="webpack is a module bundler. Its main purpose is to bundle JavaScript files for usage in a browser, yet it is also capable of transforming, bundling, or packaging just about any resource or asset."/><meta property="og:site_name" content="webpack"/><meta property="og:type" content="website"/><meta property="og:title" content="Combined printable page | webpack"/><meta property="og:description" name="description" content="webpack is a module bundler. Its main purpose is to bundle JavaScript files for usage in a browser, yet it is also capable of transforming, bundling, or packaging just about any resource or asset."/><meta property="og:image" content="https://webpack.js.org/dcd5e077cf9f54ebe52d4f7ebe8c3080.png"/><meta property="twitter:card" content="summary"/><meta property="twitter:site" content="@webpack"/><meta property="twitter:creator" content="@webpack"/><meta property="twitter:domain" content="https://webpack.js.org/"/><link rel="icon" type="image/x-icon" href="/bc3effb418df77da9e04825c48a58a49.ico"/><link rel="stylesheet" href="/825d354484d51e407e17.css"/><link rel="stylesheet" href="/d7fbf94baf1febcb4a52.css"/><link rel="manifest" href="/manifest.json"/><link rel="canonical" href="https://webpack.js.org/configuration/printable/"/><meta name="mobile-web-app-capable" content="yes"/><link rel="icon" sizes="192x192" href="/icon_192x192.png"/><link rel="icon" sizes="512x512" href="/icon_512x512.png"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="black"/><meta name="apple-mobile-web-app-title" content="webpack"/><link rel="apple-touch-icon-precomposed" href="/icon_180x180.png"/><link rel="mask-icon" href="/aad9d51e01a0dcc2caf5bee43dc8e647.svg" color="#465e69"/><meta name="msapplication-TileImage" content="/icon_150x150.png"/><meta name="msapplication-TileColor" content="#465e69"/></head><body><div id="root"><div class="site"><div class="site__header"><div class="notification-bar"><div class="container notification-bar__inner"><p>Sponsor webpack and get apparel from the <a href="https://webpack.threadless.com">official shop</a>! All proceeds go to our <a href="https://opencollective.com/webpack">open collective</a>!</p></div></div><header class="navigation   "><section class="navigation__inner"><button aria-label="Open menu" class="navigation__mobile"><svg viewBox="-62 138 25 25"><g><g><path d="M-60.2,140.2h20.9c1,0,1.8,0.8,1.8,1.8l0,0c0,1-0.8,1.8-1.8,1.8h-20.9c-1,0-1.8-0.8-1.8-1.8l0,0 C-62,141-61.2,140.2-60.2,140.2z"></path><path d="M-60.2,148.7h20.9c1,0,1.8,0.8,1.8,1.8l0,0c0,1-0.8,1.8-1.8,1.8h-20.9c-1,0-1.8-0.8-1.8-1.8l0,0 C-62,149.5-61.2,148.7-60.2,148.7z"></path><path d="M-60.2,157.2h20.9c1,0,1.8,0.8,1.8,1.8l0,0c0,1-0.8,1.8-1.8,1.8h-20.9c-1,0-1.8-0.8-1.8-1.8l0,0 C-62,158-61.2,157.2-60.2,157.2z"></path></g></g></svg></button><a class="navigation__logo" href="/"><img class="logo" src="/e0b5805d423a4ec9473ee315250968b2.svg" alt="webpack logo"/></a><nav class="navigation__items"><a class="navigation__item  navigation__item--active" href="/concepts/">文档</a><a class="navigation__item  " href="/contribute/">参与贡献</a><a class="navigation__item  " href="/vote/">投票</a><a href="https://medium.com/webpack" target="_blank" rel="noopener" class="navigation__item  ">博客</a><a href="https://docschina.org" target="_blank" rel="noopener" class="navigation__item  ">印记中文</a><a href="https://github.com/webpack/webpack" target="_blank" rel="noopener" title="GitHub Repository" class="navigation__item navigation__item--icon "><i aria-hidden="true" class="icon-github"></i></a><a href="https://twitter.com/webpack" target="_blank" rel="noopener" title="webpack on Twitter" class="navigation__item navigation__item--icon "><i aria-hidden="true" class="icon-twitter"></i></a><a href="https://stackoverflow.com/questions/tagged/webpack" target="_blank" rel="noopener" title="webpack on Stack Overflow" class="navigation__item navigation__item--icon "><i aria-hidden="true" class="icon-stack-overflow"></i></a><span class="navigation__item navigation__item--icon"><nav class="dropdown navigation__languages"><button aria-haspopup="true" aria-expanded="false" aria-label="Select language"><img class="dropdown__language" alt="select language" src="/57c717e75066b659cfe19dc2a643153c.svg"/><i aria-hidden="true" class="dropdown__arrow"></i></button><div class="dropdown__list "><ul><li><a href="https://webpack.js.org/"><span>English</span></a></li><li><a href="https://webpack.docschina.org/"><span lang="zh">中文</span></a></li></ul></div></nav></span></nav><div class="navigation-search "><input type="text" class="navigation-search__input" placeholder="Search this site..." value=""/><button aria-label="Hide search box" class="navigation-search__icon navigation-search__clear"><svg viewBox="-137 138 25 25"><g transform="translate(0,-952.36218)"><path d="M-131.3,1094.4c-0.4,0-0.9,0.1-1.2,0.5c-0.7,0.7-0.7,1.7,0,2.4l5.6,5.6l-5.6,5.6c-0.7,0.7-0.7,1.7,0,2.4 c0.7,0.7,1.7,0.7,2.4,0l5.6-5.6l5.6,5.6c0.7,0.7,1.7,0.7,2.4,0c0.7-0.7,0.7-1.7,0-2.4l-5.6-5.6l5.6-5.6c0.7-0.7,0.7-1.7,0-2.4 c-0.7-0.7-1.7-0.7-2.4,0l-5.6,5.6l-5.6-5.6C-130.5,1094.5-130.9,1094.4-131.3,1094.4L-131.3,1094.4z"></path></g></svg></button><button aria-label="Show search box" class="navigation-search__icon navigation-search__search"><svg viewBox="-137 138 25 25"><g><path d="M-114.6,162.6l-7.5-7.5c-0.6-0.6-0.6-1.6,0-2.1l0,0c0.6-0.6,1.6-0.6,2.1,0l7.5,7.5c0.6,0.6,0.6,1.6,0,2.1l0,0 C-113,163.1-114,163.1-114.6,162.6z"></path><path d="M-134.1,140.9c-3.9,3.9-3.9,10.2,0,14.1s10.2,3.9,14.1,0s3.9-10.2,0-14.1S-130.2,137-134.1,140.9z M-122.1,153 c-2.7,2.7-7.1,2.7-9.8,0s-2.7-7.1,0-9.8s7.1-2.7,9.8,0C-119.4,145.9-119.4,150.2-122.1,153z"></path></g></svg></button></div></section><div class="navigation-sub"><div class="navigation-sub__inner"><a class="navigation-sub__link " title="指南" content="指南" href="/guides/">指南</a><a class="navigation-sub__link " title="api" content="api" href="/api/">api</a><a class="navigation-sub__link " title="plugin" content="plugin" href="/plugins/">plugin</a><a class="navigation-sub__link " title="概念" content="概念" href="/concepts/">概念</a><a class="navigation-sub__link navigation-sub__link--active" title="配置" content="配置" href="/configuration/">配置</a><a class="navigation-sub__link " title="迁移" content="迁移" href="/migrate/">迁移</a><a class="navigation-sub__link " title="loader" content="loader" href="/loaders/">loader</a></div></div></header></div><div class="container site__content"><div class="sponsors"><a href="https://www.ag-grid.com/?utm_source=webpack&amp;utm_medium=banner&amp;utm_campaign=sponsorship" target="_blank" rel="noopener" class="sponsors__content"><img src="/bf176a25b4f8227fea804854c98dc5e2.png"/><img src="/d19378a95ebe6b15d5ddea281138dcf4.svg" style="width:100px"/><div style="margin-top:1em;font-size:2em;text-align:center;color:#535353">ag-grid is proud to partner with webpack</div></a></div><nav class="sidebar site__sidebar"><div class="sidebar__inner"><div class="sidebar__shields"><a href="https://github.com/webpack/webpack/releases"><img alt="webpack shield" src="https://img.shields.io/github/package-json/v/webpack/webpack.svg?label=webpack&amp;style=flat-square&amp;maxAge=3600"/></a></div><div class="sidebar-item sidebar-item--disabled`"><i class="sidebar-item__toggle icon-vertical-bar"></i><a class="sidebar-item__title sidebar-link__print" href="/configuration/printable/" rel="nofollow" alt="Print" title="Print" target="_blank">Print Section<img src="/96ccbfac58b65e83657a220603e00abe.svg"/></a></div><div><div class="sidebar-item  "><i class="sidebar-item__toggle icon-chevron-right"></i><a class="sidebar-item__title" href="/configuration/">配置</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="使用不同的配置文件"><a href="/configuration/#使用不同的配置文件">使用不同的配置文件</a></li><li class="sidebar-item__anchor" title="选项"><a href="/configuration/#选项">选项</a></li></ul></div></div><div><div class="sidebar-item  "><i class="sidebar-item__toggle icon-chevron-right"></i><a class="sidebar-item__title" href="/configuration/configuration-languages/">Configuration Languages</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="TypeScript"><a href="/configuration/configuration-languages/#typescript">TypeScript</a></li><li class="sidebar-item__anchor" title="CoffeeScript"><a href="/configuration/configuration-languages/#coffeescript">CoffeeScript</a></li><li class="sidebar-item__anchor" title="Babel and JSX"><a href="/configuration/configuration-languages/#babel-and-jsx">Babel and JSX</a></li></ul></div></div><div><div class="sidebar-item  "><i class="sidebar-item__toggle icon-chevron-right"></i><a class="sidebar-item__title" href="/configuration/configuration-types/">Configuration Types</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="Exporting a Function"><a href="/configuration/configuration-types/#exporting-a-function">Exporting a Function</a></li><li class="sidebar-item__anchor" title="Exporting a Promise"><a href="/configuration/configuration-types/#exporting-a-promise">Exporting a Promise</a></li><li class="sidebar-item__anchor" title="Exporting multiple configurations"><a href="/configuration/configuration-types/#exporting-multiple-configurations">Exporting multiple configurations</a></li></ul></div></div><div><div class="sidebar-item  "><i class="sidebar-item__toggle icon-chevron-right"></i><a class="sidebar-item__title" href="/configuration/entry-context/">入口和上下文(entry and context)</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="context"><a href="/configuration/entry-context/#context">context</a></li><li class="sidebar-item__anchor" title="entry"><a href="/configuration/entry-context/#entry">entry</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="Naming"><a href="/configuration/entry-context/#naming">Naming</a></li><li class="sidebar-item__anchor" title="Entry descriptor"><a href="/configuration/entry-context/#entry-descriptor">Entry descriptor</a></li><li class="sidebar-item__anchor" title="Output filename"><a href="/configuration/entry-context/#output-filename">Output filename</a></li><li class="sidebar-item__anchor" title="Dependencies"><a href="/configuration/entry-context/#dependencies">Dependencies</a></li><li class="sidebar-item__anchor" title="Dynamic entry"><a href="/configuration/entry-context/#dynamic-entry">Dynamic entry</a></li></ul></li></ul></div></div><div><div class="sidebar-item  "><i class="sidebar-item__toggle icon-chevron-right"></i><a class="sidebar-item__title" href="/configuration/mode/">模式（Mode）</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="用法"><a href="/configuration/mode/#用法">用法</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="Mode: development"><a href="/configuration/mode/#mode-development">Mode: development</a></li><li class="sidebar-item__anchor" title="Mode: production"><a href="/configuration/mode/#mode-production">Mode: production</a></li><li class="sidebar-item__anchor" title="Mode: none"><a href="/configuration/mode/#mode-none">Mode: none</a></li></ul></li></ul></div></div><div><div class="sidebar-item  "><i class="sidebar-item__toggle icon-chevron-right"></i><a class="sidebar-item__title" href="/configuration/output/">输出(output)</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="output.auxiliaryComment"><a href="/configuration/output/#outputauxiliarycomment">output.auxiliaryComment</a></li><li class="sidebar-item__anchor" title="output.chunkFilename"><a href="/configuration/output/#outputchunkfilename">output.chunkFilename</a></li><li class="sidebar-item__anchor" title="output.chunkLoadTimeout"><a href="/configuration/output/#outputchunkloadtimeout">output.chunkLoadTimeout</a></li><li class="sidebar-item__anchor" title="output.chunkCallbackName"><a href="/configuration/output/#outputchunkcallbackname">output.chunkCallbackName</a></li><li class="sidebar-item__anchor" title="output.crossOriginLoading"><a href="/configuration/output/#outputcrossoriginloading">output.crossOriginLoading</a></li><li class="sidebar-item__anchor" title="output.jsonpScriptType"><a href="/configuration/output/#outputjsonpscripttype">output.jsonpScriptType</a></li><li class="sidebar-item__anchor" title="output.devtoolFallbackModuleFilenameTemplate"><a href="/configuration/output/#outputdevtoolfallbackmodulefilenametemplate">output.devtoolFallbackModuleFilenameTemplate</a></li><li class="sidebar-item__anchor" title="output.devtoolModuleFilenameTemplate"><a href="/configuration/output/#outputdevtoolmodulefilenametemplate">output.devtoolModuleFilenameTemplate</a></li><li class="sidebar-item__anchor" title="output.devtoolNamespace"><a href="/configuration/output/#outputdevtoolnamespace">output.devtoolNamespace</a></li><li class="sidebar-item__anchor" title="output.filename"><a href="/configuration/output/#outputfilename">output.filename</a></li><li class="sidebar-item__anchor" title="Template strings"><a href="/configuration/output/#template-strings">Template strings</a></li><li class="sidebar-item__anchor" title="output.assetModuleFilename"><a href="/configuration/output/#outputassetmodulefilename">output.assetModuleFilename</a></li><li class="sidebar-item__anchor" title="output.globalObject"><a href="/configuration/output/#outputglobalobject">output.globalObject</a></li><li class="sidebar-item__anchor" title="output.uniqueName"><a href="/configuration/output/#outputuniquename">output.uniqueName</a></li><li class="sidebar-item__anchor" title="output.hashDigest"><a href="/configuration/output/#outputhashdigest">output.hashDigest</a></li><li class="sidebar-item__anchor" title="output.hashDigestLength"><a href="/configuration/output/#outputhashdigestlength">output.hashDigestLength</a></li><li class="sidebar-item__anchor" title="output.hashFunction"><a href="/configuration/output/#outputhashfunction">output.hashFunction</a></li><li class="sidebar-item__anchor" title="output.hashSalt"><a href="/configuration/output/#outputhashsalt">output.hashSalt</a></li><li class="sidebar-item__anchor" title="output.hotUpdateChunkFilename"><a href="/configuration/output/#outputhotupdatechunkfilename">output.hotUpdateChunkFilename</a></li><li class="sidebar-item__anchor" title="output.hotUpdateFunction"><a href="/configuration/output/#outputhotupdatefunction">output.hotUpdateFunction</a></li><li class="sidebar-item__anchor" title="output.hotUpdateMainFilename"><a href="/configuration/output/#outputhotupdatemainfilename">output.hotUpdateMainFilename</a></li><li class="sidebar-item__anchor" title="output.jsonpFunction"><a href="/configuration/output/#outputjsonpfunction">output.jsonpFunction</a></li><li class="sidebar-item__anchor" title="output.library"><a href="/configuration/output/#outputlibrary">output.library</a></li><li class="sidebar-item__anchor" title="output.libraryExport"><a href="/configuration/output/#outputlibraryexport">output.libraryExport</a></li><li class="sidebar-item__anchor" title="output.libraryTarget"><a href="/configuration/output/#outputlibrarytarget">output.libraryTarget</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="暴露为一个变量"><a href="/configuration/output/#暴露为一个变量">暴露为一个变量</a></li><li class="sidebar-item__anchor" title="通过在对象上赋值暴露"><a href="/configuration/output/#通过在对象上赋值暴露">通过在对象上赋值暴露</a></li><li class="sidebar-item__anchor" title="模块定义系统"><a href="/configuration/output/#模块定义系统">模块定义系统</a></li><li class="sidebar-item__anchor" title="其他 Targets"><a href="/configuration/output/#其他-targets">其他 Targets</a></li></ul></li><li class="sidebar-item__anchor" title="output.importFunctionName"><a href="/configuration/output/#outputimportfunctionname">output.importFunctionName</a></li><li class="sidebar-item__anchor" title="output.path"><a href="/configuration/output/#outputpath">output.path</a></li><li class="sidebar-item__anchor" title="output.pathinfo"><a href="/configuration/output/#outputpathinfo">output.pathinfo</a></li><li class="sidebar-item__anchor" title="output.publicPath"><a href="/configuration/output/#outputpublicpath">output.publicPath</a></li><li class="sidebar-item__anchor" title="output.sourceMapFilename"><a href="/configuration/output/#outputsourcemapfilename">output.sourceMapFilename</a></li><li class="sidebar-item__anchor" title="output.sourcePrefix"><a href="/configuration/output/#outputsourceprefix">output.sourcePrefix</a></li><li class="sidebar-item__anchor" title="output.strictModuleExceptionHandling"><a href="/configuration/output/#outputstrictmoduleexceptionhandling">output.strictModuleExceptionHandling</a></li><li class="sidebar-item__anchor" title="output.umdNamedDefine"><a href="/configuration/output/#outputumdnameddefine">output.umdNamedDefine</a></li><li class="sidebar-item__anchor" title="output.enabledLibraryTypes"><a href="/configuration/output/#outputenabledlibrarytypes">output.enabledLibraryTypes</a></li><li class="sidebar-item__anchor" title="output.futureEmitAssets"><a href="/configuration/output/#outputfutureemitassets">output.futureEmitAssets</a></li><li class="sidebar-item__anchor" title="output.ecmaVersion"><a href="/configuration/output/#outputecmaversion">output.ecmaVersion</a></li><li class="sidebar-item__anchor" title="output.compareBeforeEmit"><a href="/configuration/output/#outputcomparebeforeemit">output.compareBeforeEmit</a></li><li class="sidebar-item__anchor" title="output.iife"><a href="/configuration/output/#outputiife">output.iife</a></li><li class="sidebar-item__anchor" title="output.module"><a href="/configuration/output/#outputmodule">output.module</a></li></ul></div></div><div><div class="sidebar-item  "><i class="sidebar-item__toggle icon-chevron-right"></i><a class="sidebar-item__title" href="/configuration/module/">模块（Module）</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="module.noParse"><a href="/configuration/module/#modulenoparse">module.noParse</a></li><li class="sidebar-item__anchor" title="module.unsafeCache"><a href="/configuration/module/#moduleunsafecache">module.unsafeCache</a></li><li class="sidebar-item__anchor" title="module.rules"><a href="/configuration/module/#modulerules">module.rules</a></li><li class="sidebar-item__anchor" title="Rule"><a href="/configuration/module/#rule">Rule</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="Rule 条件"><a href="/configuration/module/#rule-条件">Rule 条件</a></li><li class="sidebar-item__anchor" title="Rule 结果"><a href="/configuration/module/#rule-结果">Rule 结果</a></li></ul></li><li class="sidebar-item__anchor" title="嵌套的 Rule"><a href="/configuration/module/#嵌套的-rule">嵌套的 Rule</a></li><li class="sidebar-item__anchor" title="Rule.enforce"><a href="/configuration/module/#ruleenforce">Rule.enforce</a></li><li class="sidebar-item__anchor" title="Rule.exclude"><a href="/configuration/module/#ruleexclude">Rule.exclude</a></li><li class="sidebar-item__anchor" title="Rule.include"><a href="/configuration/module/#ruleinclude">Rule.include</a></li><li class="sidebar-item__anchor" title="Rule.issuer"><a href="/configuration/module/#ruleissuer">Rule.issuer</a></li><li class="sidebar-item__anchor" title="Rule.loader"><a href="/configuration/module/#ruleloader">Rule.loader</a></li><li class="sidebar-item__anchor" title="Rule.loaders"><a href="/configuration/module/#ruleloaders">Rule.loaders</a></li><li class="sidebar-item__anchor" title="Rule.oneOf"><a href="/configuration/module/#ruleoneof">Rule.oneOf</a></li><li class="sidebar-item__anchor" title="Rule.options / Rule.query"><a href="/configuration/module/#ruleoptions--rulequery">Rule.options / Rule.query</a></li><li class="sidebar-item__anchor" title="Rule.parser"><a href="/configuration/module/#ruleparser">Rule.parser</a></li><li class="sidebar-item__anchor" title="Rule.parser.dataUrlCondition"><a href="/configuration/module/#ruleparserdataurlcondition">Rule.parser.dataUrlCondition</a></li><li class="sidebar-item__anchor" title="Rule.generator.dataUrl"><a href="/configuration/module/#rulegeneratordataurl">Rule.generator.dataUrl</a></li><li class="sidebar-item__anchor" title="Rule.generator.filename"><a href="/configuration/module/#rulegeneratorfilename">Rule.generator.filename</a></li><li class="sidebar-item__anchor" title="Rule.resource"><a href="/configuration/module/#ruleresource">Rule.resource</a></li><li class="sidebar-item__anchor" title="Rule.resourceQuery"><a href="/configuration/module/#ruleresourcequery">Rule.resourceQuery</a></li><li class="sidebar-item__anchor" title="Rule.parser.parse"><a href="/configuration/module/#ruleparserparse">Rule.parser.parse</a></li><li class="sidebar-item__anchor" title="Rule.rules"><a href="/configuration/module/#rulerules">Rule.rules</a></li><li class="sidebar-item__anchor" title="Rule.sideEffects"><a href="/configuration/module/#rulesideeffects">Rule.sideEffects</a></li><li class="sidebar-item__anchor" title="Rule.test"><a href="/configuration/module/#ruletest">Rule.test</a></li><li class="sidebar-item__anchor" title="Rule.type"><a href="/configuration/module/#ruletype">Rule.type</a></li><li class="sidebar-item__anchor" title="Rule.use"><a href="/configuration/module/#ruleuse">Rule.use</a></li><li class="sidebar-item__anchor" title="Rule.resolve"><a href="/configuration/module/#ruleresolve">Rule.resolve</a></li><li class="sidebar-item__anchor" title="条件"><a href="/configuration/module/#条件">条件</a></li><li class="sidebar-item__anchor" title="UseEntry"><a href="/configuration/module/#useentry">UseEntry</a></li><li class="sidebar-item__anchor" title="模块上下文(Module Contexts)"><a href="/configuration/module/#模块上下文module-contexts">模块上下文(Module Contexts)</a></li></ul></div></div><div><div class="sidebar-item  "><i class="sidebar-item__toggle icon-chevron-right"></i><a class="sidebar-item__title" href="/configuration/resolve/">解析(Resolve)</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="resolve"><a href="/configuration/resolve/#resolve">resolve</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="resolve.alias"><a href="/configuration/resolve/#resolvealias">resolve.alias</a></li><li class="sidebar-item__anchor" title="resolve.aliasFields"><a href="/configuration/resolve/#resolvealiasfields">resolve.aliasFields</a></li><li class="sidebar-item__anchor" title="resolve.cacheWithContext"><a href="/configuration/resolve/#resolvecachewithcontext">resolve.cacheWithContext</a></li><li class="sidebar-item__anchor" title="resolve.descriptionFiles"><a href="/configuration/resolve/#resolvedescriptionfiles">resolve.descriptionFiles</a></li><li class="sidebar-item__anchor" title="resolve.enforceExtension"><a href="/configuration/resolve/#resolveenforceextension">resolve.enforceExtension</a></li><li class="sidebar-item__anchor" title="resolve.enforceModuleExtension"><a href="/configuration/resolve/#resolveenforcemoduleextension">resolve.enforceModuleExtension</a></li><li class="sidebar-item__anchor" title="resolve.extensions"><a href="/configuration/resolve/#resolveextensions">resolve.extensions</a></li><li class="sidebar-item__anchor" title="resolve.mainFields"><a href="/configuration/resolve/#resolvemainfields">resolve.mainFields</a></li><li class="sidebar-item__anchor" title="resolve.mainFiles"><a href="/configuration/resolve/#resolvemainfiles">resolve.mainFiles</a></li><li class="sidebar-item__anchor" title="resolve.modules"><a href="/configuration/resolve/#resolvemodules">resolve.modules</a></li><li class="sidebar-item__anchor" title="resolve.unsafeCache"><a href="/configuration/resolve/#resolveunsafecache">resolve.unsafeCache</a></li><li class="sidebar-item__anchor" title="resolve.plugins"><a href="/configuration/resolve/#resolveplugins">resolve.plugins</a></li><li class="sidebar-item__anchor" title="resolve.symlinks"><a href="/configuration/resolve/#resolvesymlinks">resolve.symlinks</a></li><li class="sidebar-item__anchor" title="resolve.cachePredicate"><a href="/configuration/resolve/#resolvecachepredicate">resolve.cachePredicate</a></li><li class="sidebar-item__anchor" title="resolve.restrictions"><a href="/configuration/resolve/#resolverestrictions">resolve.restrictions</a></li></ul></li><li class="sidebar-item__anchor" title="resolveLoader"><a href="/configuration/resolve/#resolveloader">resolveLoader</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="resolveLoader.moduleExtensions"><a href="/configuration/resolve/#resolveloadermoduleextensions">resolveLoader.moduleExtensions</a></li></ul></li></ul></div></div><div><div class="sidebar-item  "><i class="sidebar-item__toggle icon-chevron-right"></i><a class="sidebar-item__title" href="/configuration/optimization/">优化(Optimization)</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="optimization.minimize"><a href="/configuration/optimization/#optimizationminimize">optimization.minimize</a></li><li class="sidebar-item__anchor" title="optimization.minimizer"><a href="/configuration/optimization/#optimizationminimizer">optimization.minimizer</a></li><li class="sidebar-item__anchor" title="optimization.splitChunks"><a href="/configuration/optimization/#optimizationsplitchunks">optimization.splitChunks</a></li><li class="sidebar-item__anchor" title="optimization.runtimeChunk"><a href="/configuration/optimization/#optimizationruntimechunk">optimization.runtimeChunk</a></li><li class="sidebar-item__anchor" title="optimization.noEmitOnErrors"><a href="/configuration/optimization/#optimizationnoemitonerrors">optimization.noEmitOnErrors</a></li><li class="sidebar-item__anchor" title="optimization.namedModules"><a href="/configuration/optimization/#optimizationnamedmodules">optimization.namedModules</a></li><li class="sidebar-item__anchor" title="optimization.namedChunks"><a href="/configuration/optimization/#optimizationnamedchunks">optimization.namedChunks</a></li><li class="sidebar-item__anchor" title="optimization.moduleIds"><a href="/configuration/optimization/#optimizationmoduleids">optimization.moduleIds</a></li><li class="sidebar-item__anchor" title="optimization.chunkIds"><a href="/configuration/optimization/#optimizationchunkids">optimization.chunkIds</a></li><li class="sidebar-item__anchor" title="optimization.nodeEnv"><a href="/configuration/optimization/#optimizationnodeenv">optimization.nodeEnv</a></li><li class="sidebar-item__anchor" title="optimization.mangleWasmImports"><a href="/configuration/optimization/#optimizationmanglewasmimports">optimization.mangleWasmImports</a></li><li class="sidebar-item__anchor" title="optimization.removeAvailableModules"><a href="/configuration/optimization/#optimizationremoveavailablemodules">optimization.removeAvailableModules</a></li><li class="sidebar-item__anchor" title="optimization.removeEmptyChunks"><a href="/configuration/optimization/#optimizationremoveemptychunks">optimization.removeEmptyChunks</a></li><li class="sidebar-item__anchor" title="optimization.mergeDuplicateChunks"><a href="/configuration/optimization/#optimizationmergeduplicatechunks">optimization.mergeDuplicateChunks</a></li><li class="sidebar-item__anchor" title="optimization.flagIncludedChunks"><a href="/configuration/optimization/#optimizationflagincludedchunks">optimization.flagIncludedChunks</a></li><li class="sidebar-item__anchor" title="optimization.occurrenceOrder"><a href="/configuration/optimization/#optimizationoccurrenceorder">optimization.occurrenceOrder</a></li><li class="sidebar-item__anchor" title="optimization.providedExports"><a href="/configuration/optimization/#optimizationprovidedexports">optimization.providedExports</a></li><li class="sidebar-item__anchor" title="optimization.usedExports"><a href="/configuration/optimization/#optimizationusedexports">optimization.usedExports</a></li><li class="sidebar-item__anchor" title="optimization.concatenateModules"><a href="/configuration/optimization/#optimizationconcatenatemodules">optimization.concatenateModules</a></li><li class="sidebar-item__anchor" title="optimization.sideEffects"><a href="/configuration/optimization/#optimizationsideeffects">optimization.sideEffects</a></li><li class="sidebar-item__anchor" title="optimization.portableRecords"><a href="/configuration/optimization/#optimizationportablerecords">optimization.portableRecords</a></li><li class="sidebar-item__anchor" title="optimization.mangleExports"><a href="/configuration/optimization/#optimizationmangleexports">optimization.mangleExports</a></li><li class="sidebar-item__anchor" title="optimization.innerGraph"><a href="/configuration/optimization/#optimizationinnergraph">optimization.innerGraph</a></li></ul></div></div><div><div class="sidebar-item  "><i class="sidebar-item__toggle icon-chevron-right"></i><a class="sidebar-item__title" href="/configuration/plugins/">插件(Plugins)</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="plugins"><a href="/configuration/plugins/#plugins">plugins</a></li></ul></div></div><div><div class="sidebar-item  "><i class="sidebar-item__toggle icon-chevron-right"></i><a class="sidebar-item__title" href="/configuration/dev-server/">DevServer</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="devServer"><a href="/configuration/dev-server/#devserver">devServer</a></li><li class="sidebar-item__anchor" title="devServer.after"><a href="/configuration/dev-server/#devserverafter">devServer.after</a></li><li class="sidebar-item__anchor" title="devServer.allowedHosts"><a href="/configuration/dev-server/#devserverallowedhosts">devServer.allowedHosts</a></li><li class="sidebar-item__anchor" title="devServer.before"><a href="/configuration/dev-server/#devserverbefore">devServer.before</a></li><li class="sidebar-item__anchor" title="devServer.bonjour"><a href="/configuration/dev-server/#devserverbonjour">devServer.bonjour</a></li><li class="sidebar-item__anchor" title="devServer.clientLogLevel"><a href="/configuration/dev-server/#devserverclientloglevel">devServer.clientLogLevel</a></li><li class="sidebar-item__anchor" title="devServer.color - CLI only"><a href="/configuration/dev-server/#devservercolor---cli-only">devServer.color - CLI only</a></li><li class="sidebar-item__anchor" title="devServer.compress"><a href="/configuration/dev-server/#devservercompress">devServer.compress</a></li><li class="sidebar-item__anchor" title="devServer.contentBase"><a href="/configuration/dev-server/#devservercontentbase">devServer.contentBase</a></li><li class="sidebar-item__anchor" title="devServer.contentBasePublicPath"><a href="/configuration/dev-server/#devservercontentbasepublicpath">devServer.contentBasePublicPath</a></li><li class="sidebar-item__anchor" title="devServer.disableHostCheck"><a href="/configuration/dev-server/#devserverdisablehostcheck">devServer.disableHostCheck</a></li><li class="sidebar-item__anchor" title="devServer.filename 🔑"><a href="/configuration/dev-server/#devserverfilename-">devServer.filename 🔑</a></li><li class="sidebar-item__anchor" title="devServer.headers 🔑"><a href="/configuration/dev-server/#devserverheaders-">devServer.headers 🔑</a></li><li class="sidebar-item__anchor" title="devServer.historyApiFallback"><a href="/configuration/dev-server/#devserverhistoryapifallback">devServer.historyApiFallback</a></li><li class="sidebar-item__anchor" title="devServer.host"><a href="/configuration/dev-server/#devserverhost">devServer.host</a></li><li class="sidebar-item__anchor" title="devServer.hot"><a href="/configuration/dev-server/#devserverhot">devServer.hot</a></li><li class="sidebar-item__anchor" title="devServer.hotOnly"><a href="/configuration/dev-server/#devserverhotonly">devServer.hotOnly</a></li><li class="sidebar-item__anchor" title="devServer.http2"><a href="/configuration/dev-server/#devserverhttp2">devServer.http2</a></li><li class="sidebar-item__anchor" title="devServer.https"><a href="/configuration/dev-server/#devserverhttps">devServer.https</a></li><li class="sidebar-item__anchor" title="devServer.index"><a href="/configuration/dev-server/#devserverindex">devServer.index</a></li><li class="sidebar-item__anchor" title="devServer.info - CLI only"><a href="/configuration/dev-server/#devserverinfo---cli-only">devServer.info - CLI only</a></li><li class="sidebar-item__anchor" title="devServer.injectClient"><a href="/configuration/dev-server/#devserverinjectclient">devServer.injectClient</a></li><li class="sidebar-item__anchor" title="devServer.injectHot"><a href="/configuration/dev-server/#devserverinjecthot">devServer.injectHot</a></li><li class="sidebar-item__anchor" title="devServer.inline"><a href="/configuration/dev-server/#devserverinline">devServer.inline</a></li><li class="sidebar-item__anchor" title="devServer.lazy 🔑"><a href="/configuration/dev-server/#devserverlazy-">devServer.lazy 🔑</a></li><li class="sidebar-item__anchor" title="devServer.liveReload"><a href="/configuration/dev-server/#devserverlivereload">devServer.liveReload</a></li><li class="sidebar-item__anchor" title="devServer.mimeTypes 🔑"><a href="/configuration/dev-server/#devservermimetypes-">devServer.mimeTypes 🔑</a></li><li class="sidebar-item__anchor" title="devServer.noInfo 🔑"><a href="/configuration/dev-server/#devservernoinfo-">devServer.noInfo 🔑</a></li><li class="sidebar-item__anchor" title="devServer.onListening"><a href="/configuration/dev-server/#devserveronlistening">devServer.onListening</a></li><li class="sidebar-item__anchor" title="devServer.open"><a href="/configuration/dev-server/#devserveropen">devServer.open</a></li><li class="sidebar-item__anchor" title="devServer.openPage"><a href="/configuration/dev-server/#devserveropenpage">devServer.openPage</a></li><li class="sidebar-item__anchor" title="devServer.overlay"><a href="/configuration/dev-server/#devserveroverlay">devServer.overlay</a></li><li class="sidebar-item__anchor" title="devServer.pfx"><a href="/configuration/dev-server/#devserverpfx">devServer.pfx</a></li><li class="sidebar-item__anchor" title="devServer.pfxPassphrase"><a href="/configuration/dev-server/#devserverpfxpassphrase">devServer.pfxPassphrase</a></li><li class="sidebar-item__anchor" title="devServer.port"><a href="/configuration/dev-server/#devserverport">devServer.port</a></li><li class="sidebar-item__anchor" title="devServer.proxy"><a href="/configuration/dev-server/#devserverproxy">devServer.proxy</a></li><li class="sidebar-item__anchor" title="devServer.progress - CLI only"><a href="/configuration/dev-server/#devserverprogress---cli-only">devServer.progress - CLI only</a></li><li class="sidebar-item__anchor" title="devServer.public"><a href="/configuration/dev-server/#devserverpublic">devServer.public</a></li><li class="sidebar-item__anchor" title="devServer.publicPath 🔑"><a href="/configuration/dev-server/#devserverpublicpath-">devServer.publicPath 🔑</a></li><li class="sidebar-item__anchor" title="devServer.quiet 🔑"><a href="/configuration/dev-server/#devserverquiet-">devServer.quiet 🔑</a></li><li class="sidebar-item__anchor" title="devServer.serveIndex"><a href="/configuration/dev-server/#devserverserveindex">devServer.serveIndex</a></li><li class="sidebar-item__anchor" title="devServer.setup"><a href="/configuration/dev-server/#devserversetup">devServer.setup</a></li><li class="sidebar-item__anchor" title="devServer.socket"><a href="/configuration/dev-server/#devserversocket">devServer.socket</a></li><li class="sidebar-item__anchor" title="devServer.sockHost"><a href="/configuration/dev-server/#devserversockhost">devServer.sockHost</a></li><li class="sidebar-item__anchor" title="devServer.sockPath"><a href="/configuration/dev-server/#devserversockpath">devServer.sockPath</a></li><li class="sidebar-item__anchor" title="devServer.sockPort"><a href="/configuration/dev-server/#devserversockport">devServer.sockPort</a></li><li class="sidebar-item__anchor" title="devServer.staticOptions"><a href="/configuration/dev-server/#devserverstaticoptions">devServer.staticOptions</a></li><li class="sidebar-item__anchor" title="devServer.stats 🔑"><a href="/configuration/dev-server/#devserverstats-">devServer.stats 🔑</a></li><li class="sidebar-item__anchor" title="devServer.stdin - CLI only"><a href="/configuration/dev-server/#devserverstdin---cli-only">devServer.stdin - CLI only</a></li><li class="sidebar-item__anchor" title="devServer.transportMode"><a href="/configuration/dev-server/#devservertransportmode">devServer.transportMode</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="devServer.transportMode.client"><a href="/configuration/dev-server/#devservertransportmodeclient">devServer.transportMode.client</a></li><li class="sidebar-item__anchor" title="devServer.transportMode.server"><a href="/configuration/dev-server/#devservertransportmodeserver">devServer.transportMode.server</a></li></ul></li><li class="sidebar-item__anchor" title="devServer.useLocalIp"><a href="/configuration/dev-server/#devserveruselocalip">devServer.useLocalIp</a></li><li class="sidebar-item__anchor" title="devServer.watchContentBase"><a href="/configuration/dev-server/#devserverwatchcontentbase">devServer.watchContentBase</a></li><li class="sidebar-item__anchor" title="devServer.watchOptions 🔑"><a href="/configuration/dev-server/#devserverwatchoptions-">devServer.watchOptions 🔑</a></li><li class="sidebar-item__anchor" title="devServer.writeToDisk 🔑"><a href="/configuration/dev-server/#devserverwritetodisk-">devServer.writeToDisk 🔑</a></li></ul></div></div><div><div class="sidebar-item  "><i class="sidebar-item__toggle icon-chevron-right"></i><a class="sidebar-item__title" href="/configuration/devtool/">Devtool</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="devtool"><a href="/configuration/devtool/#devtool">devtool</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="品质说明(quality)"><a href="/configuration/devtool/#品质说明quality">品质说明(quality)</a></li><li class="sidebar-item__anchor" title="对于开发环境"><a href="/configuration/devtool/#对于开发环境">对于开发环境</a></li><li class="sidebar-item__anchor" title="特定场景"><a href="/configuration/devtool/#特定场景">特定场景</a></li><li class="sidebar-item__anchor" title="对于生产环境"><a href="/configuration/devtool/#对于生产环境">对于生产环境</a></li></ul></li></ul></div></div><div><div class="sidebar-item  "><i class="sidebar-item__toggle icon-chevron-right"></i><a class="sidebar-item__title" href="/configuration/target/">构建目标(Targets)</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="target"><a href="/configuration/target/#target">target</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="string"><a href="/configuration/target/#string">string</a></li><li class="sidebar-item__anchor" title="function"><a href="/configuration/target/#function">function</a></li></ul></li></ul></div></div><div><div class="sidebar-item  "><i class="sidebar-item__toggle icon-chevron-right"></i><a class="sidebar-item__title" href="/configuration/watch/">watch 和 watchOptions</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="watch"><a href="/configuration/watch/#watch">watch</a></li><li class="sidebar-item__anchor" title="watchOptions"><a href="/configuration/watch/#watchoptions">watchOptions</a></li><li class="sidebar-item__anchor" title="watchOptions.aggregateTimeout"><a href="/configuration/watch/#watchoptionsaggregatetimeout">watchOptions.aggregateTimeout</a></li><li class="sidebar-item__anchor" title="watchOptions.ignored"><a href="/configuration/watch/#watchoptionsignored">watchOptions.ignored</a></li><li class="sidebar-item__anchor" title="watchOptions.poll"><a href="/configuration/watch/#watchoptionspoll">watchOptions.poll</a></li><li class="sidebar-item__anchor" title="info-verbosity"><a href="/configuration/watch/#info-verbosity">info-verbosity</a></li><li class="sidebar-item__anchor" title="故障排除"><a href="/configuration/watch/#故障排除">故障排除</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="发现修改，但并未做处理"><a href="/configuration/watch/#发现修改，但并未做处理">发现修改，但并未做处理</a></li><li class="sidebar-item__anchor" title="没有足够的文件观察者"><a href="/configuration/watch/#没有足够的文件观察者">没有足够的文件观察者</a></li><li class="sidebar-item__anchor" title="macOS fsevents Bug"><a href="/configuration/watch/#macos-fsevents-bug">macOS fsevents Bug</a></li><li class="sidebar-item__anchor" title="Windows Paths"><a href="/configuration/watch/#windows-paths">Windows Paths</a></li><li class="sidebar-item__anchor" title="Vim"><a href="/configuration/watch/#vim">Vim</a></li><li class="sidebar-item__anchor" title="在 WebStorm 中保存"><a href="/configuration/watch/#在-webstorm-中保存">在 WebStorm 中保存</a></li></ul></li></ul></div></div><div><div class="sidebar-item  "><i class="sidebar-item__toggle icon-chevron-right"></i><a class="sidebar-item__title" href="/configuration/externals/">外部扩展(externals)</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="externals"><a href="/configuration/externals/#externals">externals</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="字符串"><a href="/configuration/externals/#字符串">字符串</a></li><li class="sidebar-item__anchor" title="字符串数组"><a href="/configuration/externals/#字符串数组">字符串数组</a></li><li class="sidebar-item__anchor" title="对象"><a href="/configuration/externals/#对象">对象</a></li><li class="sidebar-item__anchor" title="函数"><a href="/configuration/externals/#函数">函数</a></li><li class="sidebar-item__anchor" title="RegExp"><a href="/configuration/externals/#regexp">RegExp</a></li><li class="sidebar-item__anchor" title="混用语法"><a href="/configuration/externals/#混用语法">混用语法</a></li></ul></li><li class="sidebar-item__anchor" title="externalsType"><a href="/configuration/externals/#externalstype">externalsType</a></li></ul></div></div><div><div class="sidebar-item  "><i class="sidebar-item__toggle icon-chevron-right"></i><a class="sidebar-item__title" href="/configuration/performance/">性能(performance)</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="performance"><a href="/configuration/performance/#performance">performance</a></li><li class="sidebar-item__anchor" title="performance.hints"><a href="/configuration/performance/#performancehints">performance.hints</a></li><li class="sidebar-item__anchor" title="performance.maxEntrypointSize"><a href="/configuration/performance/#performancemaxentrypointsize">performance.maxEntrypointSize</a></li><li class="sidebar-item__anchor" title="performance.maxAssetSize"><a href="/configuration/performance/#performancemaxassetsize">performance.maxAssetSize</a></li><li class="sidebar-item__anchor" title="performance.assetFilter"><a href="/configuration/performance/#performanceassetfilter">performance.assetFilter</a></li></ul></div></div><div><div class="sidebar-item  "><i class="sidebar-item__toggle icon-chevron-right"></i><a class="sidebar-item__title" href="/configuration/node/">Node</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="node"><a href="/configuration/node/#node">node</a></li><li class="sidebar-item__anchor" title="node.global"><a href="/configuration/node/#nodeglobal">node.global</a></li><li class="sidebar-item__anchor" title="node.__filename"><a href="/configuration/node/#node__filename">node.__filename</a></li><li class="sidebar-item__anchor" title="node.__dirname"><a href="/configuration/node/#node__dirname">node.__dirname</a></li></ul></div></div><div><div class="sidebar-item  "><i class="sidebar-item__toggle icon-chevron-right"></i><a class="sidebar-item__title" href="/configuration/stats/">stats 对象</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="Stats Presets"><a href="/configuration/stats/#stats-presets">Stats Presets</a></li><li class="sidebar-item__anchor" title="Stats 选项"><a href="/configuration/stats/#stats-选项">Stats 选项</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="stats.all"><a href="/configuration/stats/#statsall">stats.all</a></li><li class="sidebar-item__anchor" title="stats.assets"><a href="/configuration/stats/#statsassets">stats.assets</a></li><li class="sidebar-item__anchor" title="stats.assetsSort"><a href="/configuration/stats/#statsassetssort">stats.assetsSort</a></li><li class="sidebar-item__anchor" title="stats.builtAt"><a href="/configuration/stats/#statsbuiltat">stats.builtAt</a></li><li class="sidebar-item__anchor" title="stats.moduleAssets"><a href="/configuration/stats/#statsmoduleassets">stats.moduleAssets</a></li><li class="sidebar-item__anchor" title="stats.cached"><a href="/configuration/stats/#statscached">stats.cached</a></li><li class="sidebar-item__anchor" title="stats.cachedAssets"><a href="/configuration/stats/#statscachedassets">stats.cachedAssets</a></li><li class="sidebar-item__anchor" title="stats.children"><a href="/configuration/stats/#statschildren">stats.children</a></li><li class="sidebar-item__anchor" title="stats.chunks"><a href="/configuration/stats/#statschunks">stats.chunks</a></li><li class="sidebar-item__anchor" title="stats.chunkGroups"><a href="/configuration/stats/#statschunkgroups">stats.chunkGroups</a></li><li class="sidebar-item__anchor" title="stats.chunkModules"><a href="/configuration/stats/#statschunkmodules">stats.chunkModules</a></li><li class="sidebar-item__anchor" title="stats.chunkRootModules"><a href="/configuration/stats/#statschunkrootmodules">stats.chunkRootModules</a></li><li class="sidebar-item__anchor" title="stats.chunkOrigins"><a href="/configuration/stats/#statschunkorigins">stats.chunkOrigins</a></li><li class="sidebar-item__anchor" title="stats.chunksSort"><a href="/configuration/stats/#statschunkssort">stats.chunksSort</a></li><li class="sidebar-item__anchor" title="stats.context"><a href="/configuration/stats/#statscontext">stats.context</a></li><li class="sidebar-item__anchor" title="stats.colors"><a href="/configuration/stats/#statscolors">stats.colors</a></li><li class="sidebar-item__anchor" title="stats.depth"><a href="/configuration/stats/#statsdepth">stats.depth</a></li><li class="sidebar-item__anchor" title="stats.entrypoints"><a href="/configuration/stats/#statsentrypoints">stats.entrypoints</a></li><li class="sidebar-item__anchor" title="stats.env"><a href="/configuration/stats/#statsenv">stats.env</a></li><li class="sidebar-item__anchor" title="stats.orphanModules"><a href="/configuration/stats/#statsorphanmodules">stats.orphanModules</a></li><li class="sidebar-item__anchor" title="stats.errors"><a href="/configuration/stats/#statserrors">stats.errors</a></li><li class="sidebar-item__anchor" title="stats.errorDetails"><a href="/configuration/stats/#statserrordetails">stats.errorDetails</a></li><li class="sidebar-item__anchor" title="stats.errorStack"><a href="/configuration/stats/#statserrorstack">stats.errorStack</a></li><li class="sidebar-item__anchor" title="stats.excludeAssets"><a href="/configuration/stats/#statsexcludeassets">stats.excludeAssets</a></li><li class="sidebar-item__anchor" title="stats.excludeModules"><a href="/configuration/stats/#statsexcludemodules">stats.excludeModules</a></li><li class="sidebar-item__anchor" title="stats.exclude"><a href="/configuration/stats/#statsexclude">stats.exclude</a></li><li class="sidebar-item__anchor" title="stats.hash"><a href="/configuration/stats/#statshash">stats.hash</a></li><li class="sidebar-item__anchor" title="stats.logging"><a href="/configuration/stats/#statslogging">stats.logging</a></li><li class="sidebar-item__anchor" title="stats.loggingDebug"><a href="/configuration/stats/#statsloggingdebug">stats.loggingDebug</a></li><li class="sidebar-item__anchor" title="stats.loggingTrace"><a href="/configuration/stats/#statsloggingtrace">stats.loggingTrace</a></li><li class="sidebar-item__anchor" title="stats.maxModules"><a href="/configuration/stats/#statsmaxmodules">stats.maxModules</a></li><li class="sidebar-item__anchor" title="stats.modules"><a href="/configuration/stats/#statsmodules">stats.modules</a></li><li class="sidebar-item__anchor" title="stats.modulesSort"><a href="/configuration/stats/#statsmodulessort">stats.modulesSort</a></li><li class="sidebar-item__anchor" title="stats.moduleTrace"><a href="/configuration/stats/#statsmoduletrace">stats.moduleTrace</a></li><li class="sidebar-item__anchor" title="stats.outputPath"><a href="/configuration/stats/#statsoutputpath">stats.outputPath</a></li><li class="sidebar-item__anchor" title="stats.performance"><a href="/configuration/stats/#statsperformance">stats.performance</a></li><li class="sidebar-item__anchor" title="stats.preset"><a href="/configuration/stats/#statspreset">stats.preset</a></li><li class="sidebar-item__anchor" title="stats.providedExports"><a href="/configuration/stats/#statsprovidedexports">stats.providedExports</a></li><li class="sidebar-item__anchor" title="stats.publicPath"><a href="/configuration/stats/#statspublicpath">stats.publicPath</a></li><li class="sidebar-item__anchor" title="stats.reasons"><a href="/configuration/stats/#statsreasons">stats.reasons</a></li><li class="sidebar-item__anchor" title="stats.source"><a href="/configuration/stats/#statssource">stats.source</a></li><li class="sidebar-item__anchor" title="stats.timings"><a href="/configuration/stats/#statstimings">stats.timings</a></li><li class="sidebar-item__anchor" title="stats.usedExports"><a href="/configuration/stats/#statsusedexports">stats.usedExports</a></li><li class="sidebar-item__anchor" title="stats.version"><a href="/configuration/stats/#statsversion">stats.version</a></li><li class="sidebar-item__anchor" title="stats.warnings"><a href="/configuration/stats/#statswarnings">stats.warnings</a></li><li class="sidebar-item__anchor" title="stats.warningsFilter"><a href="/configuration/stats/#statswarningsfilter">stats.warningsFilter</a></li><li class="sidebar-item__anchor" title="stats.chunkRelations"><a href="/configuration/stats/#statschunkrelations">stats.chunkRelations</a></li><li class="sidebar-item__anchor" title="字段排序"><a href="/configuration/stats/#字段排序">字段排序</a></li><li class="sidebar-item__anchor" title="扩展统计信息行为"><a href="/configuration/stats/#扩展统计信息行为">扩展统计信息行为</a></li></ul></li></ul></div></div><div><div class="sidebar-item  "><i class="sidebar-item__toggle icon-chevron-right"></i><a class="sidebar-item__title" href="/configuration/experiments/">实验特性(experiments)</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="experiments"><a href="/configuration/experiments/#experiments">experiments</a></li></ul></div></div><div><div class="sidebar-item  "><i class="sidebar-item__toggle icon-chevron-right"></i><a class="sidebar-item__title" href="/configuration/other-options/">其它选项</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="amd"><a href="/configuration/other-options/#amd">amd</a></li><li class="sidebar-item__anchor" title="bail"><a href="/configuration/other-options/#bail">bail</a></li><li class="sidebar-item__anchor" title="cache"><a href="/configuration/other-options/#cache">cache</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="cache.type"><a href="/configuration/other-options/#cachetype">cache.type</a></li><li class="sidebar-item__anchor" title="cache.cacheDirectory"><a href="/configuration/other-options/#cachecachedirectory">cache.cacheDirectory</a></li><li class="sidebar-item__anchor" title="cache.cacheLocation"><a href="/configuration/other-options/#cachecachelocation">cache.cacheLocation</a></li><li class="sidebar-item__anchor" title="cache.buildDependencies"><a href="/configuration/other-options/#cachebuilddependencies">cache.buildDependencies</a></li><li class="sidebar-item__anchor" title="cache.managedPaths"><a href="/configuration/other-options/#cachemanagedpaths">cache.managedPaths</a></li><li class="sidebar-item__anchor" title="cache.hashAlgorithm"><a href="/configuration/other-options/#cachehashalgorithm">cache.hashAlgorithm</a></li><li class="sidebar-item__anchor" title="cache.name"><a href="/configuration/other-options/#cachename">cache.name</a></li><li class="sidebar-item__anchor" title="cache.store"><a href="/configuration/other-options/#cachestore">cache.store</a></li><li class="sidebar-item__anchor" title="cache.version"><a href="/configuration/other-options/#cacheversion">cache.version</a></li><li class="sidebar-item__anchor" title="cache.idleTimeout"><a href="/configuration/other-options/#cacheidletimeout">cache.idleTimeout</a></li><li class="sidebar-item__anchor" title="cache.idleTimeoutForInitialStore"><a href="/configuration/other-options/#cacheidletimeoutforinitialstore">cache.idleTimeoutForInitialStore</a></li></ul></li><li class="sidebar-item__anchor" title="loader"><a href="/configuration/other-options/#loader">loader</a></li><li class="sidebar-item__anchor" title="parallelism"><a href="/configuration/other-options/#parallelism">parallelism</a></li><li class="sidebar-item__anchor" title="profile"><a href="/configuration/other-options/#profile">profile</a></li><li class="sidebar-item__anchor" title="recordsPath"><a href="/configuration/other-options/#recordspath">recordsPath</a></li><li class="sidebar-item__anchor" title="recordsInputPath"><a href="/configuration/other-options/#recordsinputpath">recordsInputPath</a></li><li class="sidebar-item__anchor" title="recordsOutputPath"><a href="/configuration/other-options/#recordsoutputpath">recordsOutputPath</a></li><li class="sidebar-item__anchor" title="name"><a href="/configuration/other-options/#name">name</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="infrastructureLogging"><a href="/configuration/other-options/#infrastructurelogging">infrastructureLogging</a></li></ul></li></ul></div></div><div class="sidebar__docs-version">You are reading webpack <!-- -->5<!-- --> documentation. Change here to:<ul><li><a rel="nofollow" href="https://v4.webpack.docschina.org">webpack <!-- -->4<!-- --> documentation</a></li></ul></div></div></nav><section class="page"><div class="page-links"><a class="page-links__link" href="https://github.com/docschina/webpack.js.org/edit/cn/src/content/configuration/printable.md">编辑此页<i class="page-links__icon icon-edit"></i></a><span class="page-links__gap">|</span><button class="page-links__link page-links__print as-link" title="Print this page">打印文档<img src="/96ccbfac58b65e83657a220603e00abe.svg"/></button></div><div class="markdown"><h1>Printable</h1><div><h1 id="配置">配置<a href="#%E9%85%8D%E7%BD%AE" aria-hidden="true"><span class="icon icon-link"></span></a></h1>
<p>webpack 开箱即用，可以无需使用任何配置文件。然而，webpack 会假定项目的入口起点为 <code>src/index.js</code>，然后会在 <code>dist/main.js</code> 输出结果，并且在生产环境开启压缩和优化。</p>
<p>通常你的项目还需要继续扩展此能力，为此你可以在项目根目录下创建一个 <code>webpack.config.js</code> 文件，然后 webpack 会自动使用它。</p>
<p>下面指定了所有可用的配置选项。</p>
<blockquote class="tip">
<p>刚开始学习 webpack？请查看我们提供的指南，从 webpack 一些 <a href="/concepts">核心概念</a> 开始学习吧！</p>
</blockquote>
<h2 id="使用不同的配置文件">使用不同的配置文件<a href="#%E4%BD%BF%E7%94%A8%E4%B8%8D%E5%90%8C%E7%9A%84%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6" aria-hidden="true"><span class="icon icon-link"></span></a></h2>
<p>如果出于某些原因，需要根据特定情况使用不同的配置文件，则可以通过在命令行中使用 <code>--config</code> flag 修改此配置文件名称。</p>
<p><strong>package.json</strong></p>
<pre><code class="hljs language-json"><span class="token property">"scripts"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
  <span class="token property">"build"</span><span class="token operator">:</span> <span class="token string">"webpack --config prod.config.js"</span>
<span class="token punctuation">}</span></code></pre>
<h2 id="选项">选项<a href="#%E9%80%89%E9%A1%B9" aria-hidden="true"><span class="icon icon-link"></span></a></h2>
<p>点击下面配置代码中每个选项的名称，跳转到详细的文档。还要注意，带有箭头的项目可以展开，以显示更多示例，在某些情况下可以看到高级配置。</p>
<blockquote class="tip">
<p>注意整个配置中我们使用 Node 内置的 <a href="https://nodejs.org/api/path.html">path 模块</a>，并在它前面加上 <a href="https://nodejs.org/docs/latest/api/globals.html#globals_dirname">__dirname</a>这个全局变量。可以防止不同操作系统之间的文件路径问题，并且可以使相对路径按照预期工作。更多「POSIX 和 Windows」的相关信息请查看 <a href="https://nodejs.org/api/path.html#path_windows_vs_posix">此章节</a>。</p>
</blockquote>
<p><strong>webpack.config.js</strong></p>
<pre><code class="hljs language-js-with-links-details">const path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'path'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token keyword" componentname="mode" url="/configuration/mode"><span class="token operator">&#x3C;</span>mode <span class="token string">"/configuration/mode"</span><span class="token operator">></span>
    <span class="token tag"><span class="token operator">&#x3C;</span><span class="token keyword">default</span><span class="token operator">></span></span>
      mode<span class="token punctuation">:</span> <span class="token string">"production"</span><span class="token punctuation">,</span> <span class="token comment">// "production" | "development" | "none"</span>
    <span class="token tag"><span class="token operator">&#x3C;</span><span class="token operator">/</span><span class="token keyword">default</span><span class="token operator">></span></span>
    mode<span class="token punctuation">:</span> <span class="token string">"production"</span><span class="token punctuation">,</span> <span class="token comment">// enable many optimizations for production builds</span>
    mode<span class="token punctuation">:</span> <span class="token string">"development"</span><span class="token punctuation">,</span> <span class="token comment">// enabled useful tools for development</span>
    mode<span class="token punctuation">:</span> <span class="token string">"none"</span><span class="token punctuation">,</span> <span class="token comment">// no defaults</span>
  <span class="token operator">&#x3C;</span><span class="token operator">/</span>mode<span class="token operator">></span></span>
  <span class="token comment">// Chosen mode tells webpack to use its built-in optimizations accordingly.</span>
  <span class="token keyword" componentname="entry" url="/configuration/entry-context/#entry"><span class="token operator">&#x3C;</span>entry <span class="token string">"/configuration/entry-context/#entry"</span><span class="token operator">></span>
    <span class="token tag"><span class="token operator">&#x3C;</span><span class="token keyword">default</span><span class="token operator">></span></span>
      entry<span class="token punctuation">:</span> <span class="token string">"./app/entry"</span><span class="token punctuation">,</span> <span class="token comment">// string | object | array</span>
    <span class="token tag"><span class="token operator">&#x3C;</span><span class="token operator">/</span><span class="token keyword">default</span><span class="token operator">></span></span>
    entry<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">"./app/entry1"</span><span class="token punctuation">,</span> <span class="token string">"./app/entry2"</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    entry<span class="token punctuation">:</span> <span class="token punctuation">{</span>
      a<span class="token punctuation">:</span> <span class="token string">"./app/entry-a"</span><span class="token punctuation">,</span>
      b<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">"./app/entry-b1"</span><span class="token punctuation">,</span> <span class="token string">"./app/entry-b2"</span><span class="token punctuation">]</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token operator">&#x3C;</span><span class="token operator">/</span>entry<span class="token operator">></span></span>
  <span class="token comment">// 默认为 ./src</span>
  <span class="token comment">// 这里应用程序开始执行</span>
  <span class="token comment">// webpack 开始打包</span>
  <span class="token keyword" componentname="link" url="/configuration/output"><span class="token operator">&#x3C;</span>link <span class="token string">"/configuration/output"</span><span class="token operator">></span>
    <span class="token tag"><span class="token operator">&#x3C;</span><span class="token keyword">default</span><span class="token operator">></span></span>
      output<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    <span class="token tag"><span class="token operator">&#x3C;</span><span class="token operator">/</span><span class="token keyword">default</span><span class="token operator">></span></span>
  <span class="token operator">&#x3C;</span><span class="token operator">/</span>link<span class="token operator">></span></span>
    <span class="token comment">// webpack 如何输出结果的相关选项</span>
    path<span class="token punctuation">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">"dist"</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token comment">// string</span>
    <span class="token comment">// 所有输出文件的目标路径</span>
    <span class="token comment">// 必须是绝对路径（使用 Node.js 的 path 模块）</span>
    <span class="token keyword" componentname="filename" url="/configuration/output/#outputfilename"><span class="token operator">&#x3C;</span>filename <span class="token string">"/configuration/output/#outputfilename"</span><span class="token operator">></span>
      <span class="token tag"><span class="token operator">&#x3C;</span><span class="token keyword">default</span><span class="token operator">></span></span>
        filename<span class="token punctuation">:</span> <span class="token string">"bundle.js"</span><span class="token punctuation">,</span> <span class="token comment">// string</span>
      <span class="token tag"><span class="token operator">&#x3C;</span><span class="token operator">/</span><span class="token keyword">default</span><span class="token operator">></span></span>
      filename<span class="token punctuation">:</span> <span class="token string">"[name].js"</span><span class="token punctuation">,</span> <span class="token comment">// 用于多个入口起点(entry point)</span>
      filename<span class="token punctuation">:</span> <span class="token string">"[chunkhash].js"</span><span class="token punctuation">,</span> <span class="token comment">// 用于长效缓存</span>
    <span class="token operator">&#x3C;</span><span class="token operator">/</span>filename<span class="token operator">></span></span>
    <span class="token comment">// entry chunk 的文件名模板</span>
    <span class="token keyword" componentname="publicPath" url="/configuration/output/#outputpublicpath"><span class="token operator">&#x3C;</span>publicPath <span class="token string">"/configuration/output/#outputpublicpath"</span><span class="token operator">></span>
      <span class="token tag"><span class="token operator">&#x3C;</span><span class="token keyword">default</span><span class="token operator">></span></span>
        publicPath<span class="token punctuation">:</span> <span class="token string">"/assets/"</span><span class="token punctuation">,</span> <span class="token comment">// string</span>
      <span class="token tag"><span class="token operator">&#x3C;</span><span class="token operator">/</span><span class="token keyword">default</span><span class="token operator">></span></span>
      publicPath<span class="token punctuation">:</span> <span class="token string">""</span><span class="token punctuation">,</span>
      publicPath<span class="token punctuation">:</span> <span class="token string">"https://cdn.example.com/"</span><span class="token punctuation">,</span>
    <span class="token operator">&#x3C;</span><span class="token operator">/</span>publicPath<span class="token operator">></span></span>
    <span class="token comment">// 输出解析文件的目录，url 相对于 HTML 页面</span>
    library<span class="token punctuation">:</span> <span class="token string">"MyLibrary"</span><span class="token punctuation">,</span> <span class="token comment">// string,</span>
    <span class="token comment">// 导出库(export library)的名称</span>
    <span class="token keyword" componentname="libraryTarget" url="/configuration/output/#outputlibrarytarget"><span class="token operator">&#x3C;</span>libraryTarget <span class="token string">"/configuration/output/#outputlibrarytarget"</span><span class="token operator">></span>
      <span class="token tag"><span class="token operator">&#x3C;</span><span class="token keyword">default</span><span class="token operator">></span></span>
        libraryTarget<span class="token punctuation">:</span> <span class="token string">"umd"</span><span class="token punctuation">,</span> <span class="token comment">// 通用模块定义</span>
      <span class="token tag"><span class="token operator">&#x3C;</span><span class="token operator">/</span><span class="token keyword">default</span><span class="token operator">></span></span>
      libraryTarget<span class="token punctuation">:</span> <span class="token string">"umd2"</span><span class="token punctuation">,</span> <span class="token comment">// 通用模块定义</span>
      libraryTarget<span class="token punctuation">:</span> <span class="token string">"commonjs2"</span><span class="token punctuation">,</span> <span class="token comment">// 使用 module.exports 导出</span>
      libraryTarget<span class="token punctuation">:</span> <span class="token string">"commonjs"</span><span class="token punctuation">,</span> <span class="token comment">// 作为 exports 的属性导出</span>
      libraryTarget<span class="token punctuation">:</span> <span class="token string">"amd"</span><span class="token punctuation">,</span> <span class="token comment">// 使用 AMD 定义方法来定义</span>
      libraryTarget<span class="token punctuation">:</span> <span class="token string">"this"</span><span class="token punctuation">,</span> <span class="token comment">// 在 this 上设置属性</span>
      libraryTarget<span class="token punctuation">:</span> <span class="token string">"var"</span><span class="token punctuation">,</span> <span class="token comment">// 变量定义于根作用域下</span>
      libraryTarget<span class="token punctuation">:</span> <span class="token string">"assign"</span><span class="token punctuation">,</span> <span class="token comment">// 盲分配(blind assignment)</span>
      libraryTarget<span class="token punctuation">:</span> <span class="token string">"window"</span><span class="token punctuation">,</span> <span class="token comment">// 在 window 对象上设置属性</span>
      libraryTarget<span class="token punctuation">:</span> <span class="token string">"global"</span><span class="token punctuation">,</span> <span class="token comment">// 在 global 对象上设置属性</span>
      libraryTarget<span class="token punctuation">:</span> <span class="token string">"jsonp"</span><span class="token punctuation">,</span> <span class="token comment">// jsonp 包裹</span>
    <span class="token operator">&#x3C;</span><span class="token operator">/</span>libraryTarget<span class="token operator">></span></span>
    <span class="token comment">// 导出库(export library)的类型</span>
    <span class="token keyword" componentname="advancedOutput" url="#"><span class="token operator">&#x3C;</span>advancedOutput <span class="token string">"#"</span><span class="token operator">></span>
      <span class="token tag"><span class="token operator">&#x3C;</span><span class="token keyword">default</span><span class="token operator">></span></span>
        <span class="token comment">/* 高级输出配置（点击显示） */</span>
      <span class="token tag"><span class="token operator">&#x3C;</span><span class="token operator">/</span><span class="token keyword">default</span><span class="token operator">></span></span>
      pathinfo<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// boolean</span>
      <span class="token comment">// 包括一些有帮助的路径信息，例如在生成代码时的 module(模块), export(导出), request 等路径信息。</span>
      chunkFilename<span class="token punctuation">:</span> <span class="token string">"[id].js"</span><span class="token punctuation">,</span>
      chunkFilename<span class="token punctuation">:</span> <span class="token string">"[chunkhash].js"</span><span class="token punctuation">,</span> <span class="token comment">// 长效缓存</span>
      <span class="token comment">// 附加 chunk(additional chunk) 的文件名模板</span>
      jsonpFunction<span class="token punctuation">:</span> <span class="token string">"myWebpackJsonp"</span><span class="token punctuation">,</span> <span class="token comment">// string</span>
      <span class="token comment">// 用于加载 chunk 的 JSONP 函数名</span>
      sourceMapFilename<span class="token punctuation">:</span> <span class="token string">"[file].map"</span><span class="token punctuation">,</span> <span class="token comment">// string</span>
      sourceMapFilename<span class="token punctuation">:</span> <span class="token string">"sourcemaps/[file].map"</span><span class="token punctuation">,</span> <span class="token comment">// string</span>
      <span class="token comment">// source map location 的文件名模板</span>
      devtoolModuleFilenameTemplate<span class="token punctuation">:</span> <span class="token string">"webpack:///[resource-path]"</span><span class="token punctuation">,</span> <span class="token comment">// string</span>
      <span class="token comment">// devtool 模块的文件名模板</span>
      devtoolFallbackModuleFilenameTemplate<span class="token punctuation">:</span> <span class="token string">"webpack:///[resource-path]?[hash]"</span><span class="token punctuation">,</span> <span class="token comment">// string</span>
      <span class="token comment">// devtool 模块的文件名模板（用于冲突）</span>
      umdNamedDefine<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// boolean</span>
      <span class="token comment">// 在 UMD 库中使用命名的 AMD 模块</span>
      crossOriginLoading<span class="token punctuation">:</span> <span class="token string">"use-credentials"</span><span class="token punctuation">,</span> <span class="token comment">// 枚举</span>
      crossOriginLoading<span class="token punctuation">:</span> <span class="token string">"anonymous"</span><span class="token punctuation">,</span>
      crossOriginLoading<span class="token punctuation">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
      <span class="token comment">// 指定 runtime 如何处理跨域请求问题</span>
    <span class="token operator">&#x3C;</span><span class="token operator">/</span>advancedOutput<span class="token operator">></span></span>
    <span class="token keyword" componentname="expert" url="#"><span class="token operator">&#x3C;</span>expert <span class="token string">"#"</span><span class="token operator">></span>
      <span class="token tag"><span class="token operator">&#x3C;</span><span class="token keyword">default</span><span class="token operator">></span></span>
        <span class="token comment">/* 专家级输出配置（自行承担风险） */</span>
      <span class="token tag"><span class="token operator">&#x3C;</span><span class="token operator">/</span><span class="token keyword">default</span><span class="token operator">></span></span>
      devtoolLineToLine<span class="token punctuation">:</span> <span class="token punctuation">{</span>
        test<span class="token punctuation">:</span> <span class="token regex">/\\.jsx$/</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token comment">// 为这些模块使用 1:1 映射 SourceMaps（快速）</span>
      hotUpdateMainFilename<span class="token punctuation">:</span> <span class="token string">"[hash].hot-update.json"</span><span class="token punctuation">,</span> <span class="token comment">// string</span>
      <span class="token comment">// HMR manifest 的文件名模板</span>
      hotUpdateChunkFilename<span class="token punctuation">:</span> <span class="token string">"[id].[hash].hot-update.js"</span><span class="token punctuation">,</span> <span class="token comment">// string</span>
      <span class="token comment">// HMR chunk 的文件名模板</span>
      sourcePrefix<span class="token punctuation">:</span> <span class="token string">"\\t"</span><span class="token punctuation">,</span> <span class="token comment">// string</span>
      <span class="token comment">// 使 bundle 内前置式模块资源具有更好可读性</span>
    <span class="token operator">&#x3C;</span><span class="token operator">/</span>expert<span class="token operator">></span></span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  module<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    <span class="token comment">// configuration regarding modules</span>
    rules<span class="token punctuation">:</span> <span class="token punctuation">[</span>
      <span class="token comment">// rules for modules (configure loaders, parser options, etc.)</span>
      <span class="token punctuation">{</span>
        test<span class="token punctuation">:</span> <span class="token regex">/\\.jsx?$/</span><span class="token punctuation">,</span>
        include<span class="token punctuation">:</span> <span class="token punctuation">[</span>
          path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">"app"</span><span class="token punctuation">)</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
        exclude<span class="token punctuation">:</span> <span class="token punctuation">[</span>
          path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">"app/demo-files"</span><span class="token punctuation">)</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token comment">// these are matching conditions, each accepting a regular expression or string</span>
        <span class="token comment">// test and include have the same behavior, both must be matched</span>
        <span class="token comment">// exclude must not be matched (takes preferrence over test and include)</span>
        <span class="token comment">// Best practices:</span>
        <span class="token comment">// - Use RegExp only in test and for filename matching</span>
        <span class="token comment">// - Use arrays of absolute paths in include and exclude</span>
        <span class="token comment">// - Try to avoid exclude and prefer include</span>
        issuer<span class="token punctuation">:</span> <span class="token punctuation">{</span> test<span class="token punctuation">,</span> include<span class="token punctuation">,</span> exclude <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token comment">// conditions for the issuer (the origin of the import)</span>
        enforce<span class="token punctuation">:</span> <span class="token string">"pre"</span><span class="token punctuation">,</span>
        enforce<span class="token punctuation">:</span> <span class="token string">"post"</span><span class="token punctuation">,</span>
        <span class="token comment">// flags to apply these rules, even if they are overridden (advanced option)</span>
        loader<span class="token punctuation">:</span> <span class="token string">"babel-loader"</span><span class="token punctuation">,</span>
        <span class="token comment">// the loader which should be applied, it'll be resolved relative to the context</span>
        options<span class="token punctuation">:</span> <span class="token punctuation">{</span>
          presets<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">"es2015"</span><span class="token punctuation">]</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token comment">// options for the loader</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        test<span class="token punctuation">:</span> <span class="token regex">/\\.html$/</span><span class="token punctuation">,</span>
        use<span class="token punctuation">:</span> <span class="token punctuation">[</span>
          <span class="token comment">// apply multiple loaders and options</span>
          <span class="token string">"htmllint-loader"</span><span class="token punctuation">,</span>
          <span class="token punctuation">{</span>
            loader<span class="token punctuation">:</span> <span class="token string">"html-loader"</span><span class="token punctuation">,</span>
            options<span class="token punctuation">:</span> <span class="token punctuation">{</span>
              <span class="token comment">/* ... */</span>
            <span class="token punctuation">}</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">]</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span> oneOf<span class="token punctuation">:</span> <span class="token punctuation">[</span> <span class="token comment">/* rules */</span> <span class="token punctuation">]</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token comment">// only use one of these nested rules</span>
      <span class="token punctuation">{</span> rules<span class="token punctuation">:</span> <span class="token punctuation">[</span> <span class="token comment">/* rules */</span> <span class="token punctuation">]</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token comment">// use all of these nested rules (combine with conditions to be useful)</span>
      <span class="token punctuation">{</span> resource<span class="token punctuation">:</span> <span class="token punctuation">{</span> and<span class="token punctuation">:</span> <span class="token punctuation">[</span> <span class="token comment">/* conditions */</span> <span class="token punctuation">]</span> <span class="token punctuation">}</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token comment">// matches only if all conditions are matched</span>
      <span class="token punctuation">{</span> resource<span class="token punctuation">:</span> <span class="token punctuation">{</span> or<span class="token punctuation">:</span> <span class="token punctuation">[</span> <span class="token comment">/* conditions */</span> <span class="token punctuation">]</span> <span class="token punctuation">}</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span> resource<span class="token punctuation">:</span> <span class="token punctuation">[</span> <span class="token comment">/* conditions */</span> <span class="token punctuation">]</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token comment">// matches if any condition is matched (default for arrays)</span>
      <span class="token punctuation">{</span> resource<span class="token punctuation">:</span> <span class="token punctuation">{</span> not<span class="token punctuation">:</span> <span class="token comment">/* condition */</span> <span class="token punctuation">}</span> <span class="token punctuation">}</span>
      <span class="token comment">// matches if the condition is not matched</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token keyword" componentname="advancedModule" url="#"><span class="token operator">&#x3C;</span>advancedModule <span class="token string">"#"</span><span class="token operator">></span>
      <span class="token tag"><span class="token operator">&#x3C;</span><span class="token keyword">default</span><span class="token operator">></span></span>
        <span class="token comment">/* Advanced module configuration (click to show) */</span>
      <span class="token tag"><span class="token operator">&#x3C;</span><span class="token operator">/</span><span class="token keyword">default</span><span class="token operator">></span></span>
      noParse<span class="token punctuation">:</span> <span class="token punctuation">[</span>
        <span class="token regex">/special-library\\.js$/</span>
      <span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token comment">// do not parse this module</span>
      unknownContextRequest<span class="token punctuation">:</span> <span class="token string">"."</span><span class="token punctuation">,</span>
      unknownContextRecursive<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
      unknownContextRegExp<span class="token punctuation">:</span> <span class="token regex">/^\\.\\/</span><span class="token punctuation">.</span><span class="token operator">*</span>$<span class="token operator">/</span><span class="token punctuation">,</span>
      unknownContextCritical<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
      exprContextRequest<span class="token punctuation">:</span> <span class="token string">"."</span><span class="token punctuation">,</span>
      exprContextRegExp<span class="token punctuation">:</span> <span class="token regex">/^\\.\\/</span><span class="token punctuation">.</span><span class="token operator">*</span>$<span class="token operator">/</span><span class="token punctuation">,</span>
      exprContextRecursive<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
      exprContextCritical<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
      wrappedContextRegExp<span class="token punctuation">:</span> <span class="token regex">/.*/</span><span class="token punctuation">,</span>
      wrappedContextRecursive<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
      wrappedContextCritical<span class="token punctuation">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
      <span class="token comment">// specifies default behavior for dynamic requests</span>
    <span class="token operator">&#x3C;</span><span class="token operator">/</span>advancedModule<span class="token operator">></span></span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  resolve<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    <span class="token comment">// options for resolving module requests</span>
    <span class="token comment">// (does not apply to resolving to loaders)</span>
    modules<span class="token punctuation">:</span> <span class="token punctuation">[</span>
      <span class="token string">"node_modules"</span><span class="token punctuation">,</span>
      path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">"app"</span><span class="token punctuation">)</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token comment">// directories where to look for modules</span>
    extensions<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">".js"</span><span class="token punctuation">,</span> <span class="token string">".json"</span><span class="token punctuation">,</span> <span class="token string">".jsx"</span><span class="token punctuation">,</span> <span class="token string">".css"</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token comment">// extensions that are used</span>
    alias<span class="token punctuation">:</span> <span class="token punctuation">{</span>
      <span class="token comment">// a list of module name aliases</span>
      <span class="token string">"module"</span><span class="token punctuation">:</span> <span class="token string">"new-module"</span><span class="token punctuation">,</span>
      <span class="token comment">// alias "module" -> "new-module" and "module/path/file" -> "new-module/path/file"</span>
      <span class="token string">"only-module$"</span><span class="token punctuation">:</span> <span class="token string">"new-module"</span><span class="token punctuation">,</span>
      <span class="token comment">// alias "only-module" -> "new-module", but not "only-module/path/file" -> "new-module/path/file"</span>
      <span class="token string">"module"</span><span class="token punctuation">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">"app/third/module.js"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
      <span class="token comment">// alias "module" -> "./app/third/module.js" and "module/file" results in error</span>
      <span class="token comment">// modules aliases are imported relative to the current context</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token keyword" componentname="alias" url="/configuration/resolve/#resolvealias"><span class="token operator">&#x3C;</span>alias <span class="token string">"/configuration/resolve/#resolvealias"</span><span class="token operator">></span>
      <span class="token tag"><span class="token operator">&#x3C;</span><span class="token keyword">default</span><span class="token operator">></span></span>
        <span class="token comment">/* Alternative alias syntax (click to show) */</span>
      <span class="token tag"><span class="token operator">&#x3C;</span><span class="token operator">/</span><span class="token keyword">default</span><span class="token operator">></span></span>
      alias<span class="token punctuation">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
          name<span class="token punctuation">:</span> <span class="token string">"module"</span><span class="token punctuation">,</span>
          <span class="token comment">// the old request</span>
          alias<span class="token punctuation">:</span> <span class="token string">"new-module"</span><span class="token punctuation">,</span>
          <span class="token comment">// the new request</span>
          onlyModule<span class="token punctuation">:</span> <span class="token boolean">true</span>
          <span class="token comment">// if true only "module" is aliased</span>
          <span class="token comment">// if false "module/inner/path" is also aliased</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token operator">&#x3C;</span><span class="token operator">/</span>alias<span class="token operator">></span></span>
    <span class="token keyword" componentname="advancedResolve" url="#"><span class="token operator">&#x3C;</span>advancedResolve <span class="token string">"#"</span><span class="token operator">></span>
      <span class="token tag"><span class="token operator">&#x3C;</span><span class="token keyword">default</span><span class="token operator">></span></span>
        <span class="token comment">/* Advanced resolve configuration (click to show) */</span>
      <span class="token tag"><span class="token operator">&#x3C;</span><span class="token operator">/</span><span class="token keyword">default</span><span class="token operator">></span></span>
      symlinks<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
      <span class="token comment">// follow symlinks to new location</span>
      descriptionFiles<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">"package.json"</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token comment">// files that are read for package description</span>
      mainFields<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">"main"</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token comment">// properties that are read from description file</span>
      <span class="token comment">// when a folder is requested</span>
      aliasFields<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">"browser"</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token comment">// properties that are read from description file</span>
      <span class="token comment">// to alias requests in this package</span>
      enforceExtension<span class="token punctuation">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
      <span class="token comment">// if true request must not include an extension</span>
      <span class="token comment">// if false request may already include an extension</span>
      moduleExtensions<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">"-module"</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      enforceModuleExtension<span class="token punctuation">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
      <span class="token comment">// like extensions/enforceExtension but for module names instead of files</span>
      unsafeCache<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
      unsafeCache<span class="token punctuation">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token comment">// enables caching for resolved requests</span>
      <span class="token comment">// this is unsafe as folder structure may change</span>
      <span class="token comment">// but performance improvement is really big</span>
      cachePredicate<span class="token punctuation">:</span> <span class="token punctuation">(</span>path<span class="token punctuation">,</span> request<span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token boolean">true</span><span class="token punctuation">,</span>
      <span class="token comment">// predicate function which selects requests for caching</span>
      plugins<span class="token punctuation">:</span> <span class="token punctuation">[</span>
        <span class="token comment">// ...</span>
      <span class="token punctuation">]</span>
      <span class="token comment">// additional plugins applied to the resolver</span>
    <span class="token operator">&#x3C;</span><span class="token operator">/</span>advancedResolve<span class="token operator">></span></span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  performance<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    <span class="token keyword" componentname="hints" url="/configuration/performance/#performance-hints"><span class="token operator">&#x3C;</span>hints <span class="token string">"/configuration/performance/#performance-hints"</span><span class="token operator">></span>
      <span class="token tag"><span class="token operator">&#x3C;</span><span class="token keyword">default</span><span class="token operator">></span></span>
        hints<span class="token punctuation">:</span> <span class="token string">"warning"</span><span class="token punctuation">,</span> <span class="token comment">// enum</span>
      <span class="token tag"><span class="token operator">&#x3C;</span><span class="token operator">/</span><span class="token keyword">default</span><span class="token operator">></span></span>
      hints<span class="token punctuation">:</span> <span class="token string">"error"</span><span class="token punctuation">,</span> <span class="token comment">// emit errors for perf hints</span>
      hints<span class="token punctuation">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token comment">// turn off perf hints</span>
    <span class="token operator">&#x3C;</span><span class="token operator">/</span>hints<span class="token operator">></span></span>
    maxAssetSize<span class="token punctuation">:</span> <span class="token number">200000</span><span class="token punctuation">,</span> <span class="token comment">// int (in bytes),</span>
    maxEntrypointSize<span class="token punctuation">:</span> <span class="token number">400000</span><span class="token punctuation">,</span> <span class="token comment">// int (in bytes)</span>
    assetFilter<span class="token punctuation">:</span> <span class="token function">function</span><span class="token punctuation">(</span>assetFilename<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">// Function predicate that provides asset filenames</span>
      return assetFilename<span class="token punctuation">.</span><span class="token function">endsWith</span><span class="token punctuation">(</span><span class="token string">'.css'</span><span class="token punctuation">)</span> <span class="token operator">||</span> assetFilename<span class="token punctuation">.</span><span class="token function">endsWith</span><span class="token punctuation">(</span><span class="token string">'.js'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token keyword" componentname="devtool" url="/configuration/devtool"><span class="token operator">&#x3C;</span>devtool <span class="token string">"/configuration/devtool"</span><span class="token operator">></span>
    <span class="token tag"><span class="token operator">&#x3C;</span><span class="token keyword">default</span><span class="token operator">></span></span>
      devtool<span class="token punctuation">:</span> <span class="token string">"source-map"</span><span class="token punctuation">,</span> <span class="token comment">// enum</span>
    <span class="token tag"><span class="token operator">&#x3C;</span><span class="token operator">/</span><span class="token keyword">default</span><span class="token operator">></span></span>
    devtool<span class="token punctuation">:</span> <span class="token string">"inline-source-map"</span><span class="token punctuation">,</span> <span class="token comment">// inlines SourceMap into original file</span>
    devtool<span class="token punctuation">:</span> <span class="token string">"eval-source-map"</span><span class="token punctuation">,</span> <span class="token comment">// inlines SourceMap per module</span>
    devtool<span class="token punctuation">:</span> <span class="token string">"hidden-source-map"</span><span class="token punctuation">,</span> <span class="token comment">// SourceMap without reference in original file</span>
    devtool<span class="token punctuation">:</span> <span class="token string">"cheap-source-map"</span><span class="token punctuation">,</span> <span class="token comment">// cheap-variant of SourceMap without module mappings</span>
    devtool<span class="token punctuation">:</span> <span class="token string">"cheap-module-source-map"</span><span class="token punctuation">,</span> <span class="token comment">// cheap-variant of SourceMap with module mappings</span>
    devtool<span class="token punctuation">:</span> <span class="token string">"eval"</span><span class="token punctuation">,</span> <span class="token comment">// no SourceMap, but named modules. Fastest at the expense of detail.</span>
  <span class="token operator">&#x3C;</span><span class="token operator">/</span>devtool<span class="token operator">></span></span>
  <span class="token comment">// enhance debugging by adding meta info for the browser devtools</span>
  <span class="token comment">// source-map most detailed at the expense of build speed.</span>
  context<span class="token punctuation">:</span> __dirname<span class="token punctuation">,</span> <span class="token comment">// string (absolute path!)</span>
  <span class="token comment">// the home directory for webpack</span>
  <span class="token comment">// the entry and module.rules.loader option</span>
  <span class="token comment">//   is resolved relative to this directory</span>
  <span class="token keyword" componentname="target" url="/configuration/target"><span class="token operator">&#x3C;</span>target <span class="token string">"/configuration/target"</span><span class="token operator">></span>
    <span class="token tag"><span class="token operator">&#x3C;</span><span class="token keyword">default</span><span class="token operator">></span></span>
      target<span class="token punctuation">:</span> <span class="token string">"web"</span><span class="token punctuation">,</span> <span class="token comment">// enum</span>
    <span class="token tag"><span class="token operator">&#x3C;</span><span class="token operator">/</span><span class="token keyword">default</span><span class="token operator">></span></span>
    target<span class="token punctuation">:</span> <span class="token string">"webworker"</span><span class="token punctuation">,</span> <span class="token comment">// WebWorker</span>
    target<span class="token punctuation">:</span> <span class="token string">"node"</span><span class="token punctuation">,</span> <span class="token comment">// Node.js via require</span>
    target<span class="token punctuation">:</span> <span class="token string">"async-node"</span><span class="token punctuation">,</span> <span class="token comment">// Node.js via fs and vm</span>
    target<span class="token punctuation">:</span> <span class="token string">"node-webkit"</span><span class="token punctuation">,</span> <span class="token comment">// nw.js</span>
    target<span class="token punctuation">:</span> <span class="token string">"electron-main"</span><span class="token punctuation">,</span> <span class="token comment">// electron, main process</span>
    target<span class="token punctuation">:</span> <span class="token string">"electron-renderer"</span><span class="token punctuation">,</span> <span class="token comment">// electron, renderer process</span>
    target<span class="token punctuation">:</span> <span class="token punctuation">(</span>compiler<span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span> <span class="token comment">/* ... */</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token comment">// custom</span>
  <span class="token operator">&#x3C;</span><span class="token operator">/</span>target<span class="token operator">></span></span>
  <span class="token comment">// the environment in which the bundle should run</span>
  <span class="token comment">// changes chunk loading behavior and available modules</span>
  <span class="token keyword" componentname="externals" url="/configuration/externals"><span class="token operator">&#x3C;</span>externals <span class="token string">"/configuration/externals"</span><span class="token operator">></span>
    <span class="token tag"><span class="token operator">&#x3C;</span><span class="token keyword">default</span><span class="token operator">></span></span>
      externals<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">"react"</span><span class="token punctuation">,</span> <span class="token operator">/</span><span class="token operator">^</span>@angular<span class="token operator">/</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token tag"><span class="token operator">&#x3C;</span><span class="token operator">/</span><span class="token keyword">default</span><span class="token operator">></span></span>
    externals<span class="token punctuation">:</span> <span class="token string">"react"</span><span class="token punctuation">,</span> <span class="token comment">// string (exact match)</span>
    externals<span class="token punctuation">:</span> <span class="token regex">/^[a-z\\-]+($|\\/</span><span class="token punctuation">)</span><span class="token operator">/</span><span class="token punctuation">,</span> <span class="token comment">// Regex</span>
    externals<span class="token punctuation">:</span> <span class="token punctuation">{</span> <span class="token comment">// object</span>
      angular<span class="token punctuation">:</span> <span class="token string">"this angular"</span><span class="token punctuation">,</span> <span class="token comment">// this["angular"]</span>
      react<span class="token punctuation">:</span> <span class="token punctuation">{</span> <span class="token comment">// UMD</span>
        commonjs<span class="token punctuation">:</span> <span class="token string">"react"</span><span class="token punctuation">,</span>
        commonjs2<span class="token punctuation">:</span> <span class="token string">"react"</span><span class="token punctuation">,</span>
        amd<span class="token punctuation">:</span> <span class="token string">"react"</span><span class="token punctuation">,</span>
        root<span class="token punctuation">:</span> <span class="token string">"React"</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    externals<span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token punctuation">{</span>request<span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span> <span class="token comment">/* ... */</span> <span class="token keyword">return</span> <span class="token string">"commonjs "</span> <span class="token operator">+</span> request <span class="token punctuation">}</span>
  <span class="token operator">&#x3C;</span><span class="token operator">/</span>externals<span class="token operator">></span></span>
  <span class="token comment">// Don't follow/bundle these modules, but request them at runtime from the environment</span>
  <span class="token keyword" componentname="stats" url="/configuration/stats"><span class="token operator">&#x3C;</span>stats <span class="token string">"/configuration/stats"</span><span class="token operator">></span>
    <span class="token tag"><span class="token operator">&#x3C;</span><span class="token keyword">default</span><span class="token operator">></span></span>
      stats<span class="token punctuation">:</span> <span class="token string">"errors-only"</span><span class="token punctuation">,</span>
    <span class="token tag"><span class="token operator">&#x3C;</span><span class="token operator">/</span><span class="token keyword">default</span><span class="token operator">></span></span>
    stats<span class="token punctuation">:</span> <span class="token punctuation">{</span> <span class="token comment">//object</span>
      assets<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
      colors<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
      errors<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
      errorDetails<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
      hash<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
      <span class="token comment">// ...</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token operator">&#x3C;</span><span class="token operator">/</span>stats<span class="token operator">></span></span>
  <span class="token comment">// lets you precisely control what bundle information gets displayed</span>
  devServer<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    proxy<span class="token punctuation">:</span> <span class="token punctuation">{</span> <span class="token comment">// proxy URLs to backend development server</span>
      <span class="token string">'/api'</span><span class="token punctuation">:</span> <span class="token string">'http://localhost:3000'</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    contentBase<span class="token punctuation">:</span> path<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">'public'</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token comment">// boolean | string | array, static file location</span>
    compress<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// enable gzip compression</span>
    historyApiFallback<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// true for index.html upon 404, object for multiple paths</span>
    hot<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// hot module replacement. Depends on HotModuleReplacementPlugin</span>
    https<span class="token punctuation">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token comment">// true for self-signed, object for cert authority</span>
    noInfo<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// only errors &#x26; warns on hot reload</span>
    <span class="token comment">// ...</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  plugins<span class="token punctuation">:</span> <span class="token punctuation">[</span>
    <span class="token comment">// ...</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token comment">// list of additional plugins</span>
  <span class="token keyword" componentname="advanced" url="#"><span class="token operator">&#x3C;</span>advanced <span class="token string">"#"</span><span class="token operator">></span>
    <span class="token tag"><span class="token operator">&#x3C;</span><span class="token keyword">default</span><span class="token operator">></span></span>
      <span class="token comment">/* Advanced configuration (click to show) */</span>
    <span class="token tag"><span class="token operator">&#x3C;</span><span class="token operator">/</span><span class="token keyword">default</span><span class="token operator">></span></span>
    resolveLoader<span class="token punctuation">:</span> <span class="token punctuation">{</span> <span class="token comment">/* same as resolve */</span> <span class="token punctuation">}</span>
    <span class="token comment">// separate resolve options for loaders</span>
    parallelism<span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token comment">// number</span>
    <span class="token comment">// limit the number of parallel processed modules</span>
    profile<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// boolean</span>
    <span class="token comment">// capture timing information</span>
    bail<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">//boolean</span>
    <span class="token comment">// fail out on the first error instead of tolerating it.</span>
    cache<span class="token punctuation">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token comment">// boolean</span>
    <span class="token comment">// disable/enable caching</span>
    watch<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// boolean</span>
    <span class="token comment">// enables watching</span>
    watchOptions<span class="token punctuation">:</span> <span class="token punctuation">{</span>
      aggregateTimeout<span class="token punctuation">:</span> <span class="token number">1000</span><span class="token punctuation">,</span> <span class="token comment">// in ms</span>
      <span class="token comment">// aggregates multiple changes to a single rebuild</span>
      poll<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
      poll<span class="token punctuation">:</span> <span class="token number">500</span><span class="token punctuation">,</span> <span class="token comment">// intervall in ms</span>
      <span class="token comment">// enables polling mode for watching</span>
      <span class="token comment">// must be used on filesystems that doesn't notify on change</span>
      <span class="token comment">// i. e. nfs shares</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    node<span class="token punctuation">:</span> <span class="token punctuation">{</span>
      <span class="token comment">// Polyfills and mocks to run Node.js-</span>
      <span class="token comment">// environment code in non-Node environments.</span>
      console<span class="token punctuation">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token comment">// boolean | "mock"</span>
      global<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// boolean | "mock"</span>
      process<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// boolean</span>
      __filename<span class="token punctuation">:</span> <span class="token string">"mock"</span><span class="token punctuation">,</span> <span class="token comment">// boolean | "mock"</span>
      __dirname<span class="token punctuation">:</span> <span class="token string">"mock"</span><span class="token punctuation">,</span> <span class="token comment">// boolean | "mock"</span>
      Buffer<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// boolean | "mock"</span>
      setImmediate<span class="token punctuation">:</span> <span class="token boolean">true</span> <span class="token comment">// boolean | "mock" | "empty"</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    recordsPath<span class="token punctuation">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">"build/records.json"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    recordsInputPath<span class="token punctuation">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">"build/records.json"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    recordsOutputPath<span class="token punctuation">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">"build/records.json"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token comment">// TODO</span>
  <span class="token operator">&#x3C;</span><span class="token operator">/</span>advanced<span class="token operator">></span></span></code></pre>
<blockquote class="warning">
<p>webpack applies configuration defaults after <a href="/contribute/writing-a-plugin/#configuration-defaults">plugins defaults</a> are applied.</p>
</blockquote>
<blockquote class="tip">
<p>Want to rapidly generate webpack configuration file for your project requirements with few clicks away.</p>
</blockquote>
<p><a href="https://generatewebpackconfig.netlify.com/">Generate Custom Webpack Configuration</a> is an interactive portal you can play around by selecting custom webpack configuration options tailored for your frontend project. It automatically generates
a minimal webpack configuration based on your selection of loaders/plugins, etc.</p>
<p>Or use <a href="https://github.com/webpack/webpack-cli/tree/master/packages/init#cli-via-webpack-cli">webpack-cli's <code>init</code> command</a> that will ask you a couple of questions before creating a configuration file.</p>
<pre><code class="hljs language-bash">npx webpack-cli init</code></pre>
<blockquote class="warning">
<p>You might be prompted to install <code>@webpack-cli/init</code> if it is not yet installed in the project or globally.</p>
</blockquote>
<blockquote class="tip">
<p>After running <code>npx webpack-cli init</code> you might get more packages installed to your project depending on the choices you've made during configuration generation.</p>
</blockquote>
<pre><code class="hljs language-bash">npx webpack-cli init

ℹ INFO For <span class="token function">more</span> information and a detailed description of each question, have a <span class="token function">look</span> at https://github.com/webpack/webpack-cli/blob/master/INIT.md
ℹ INFO Alternatively, run <span class="token variable"><span class="token variable">`</span>webpack<span class="token punctuation">(</span>-cli<span class="token punctuation">)</span> --help<span class="token variable">`</span></span> <span class="token keyword">for</span> usage info.

? Will your application have multiple bundles? No
? Which module will be the first to enter the application? <span class="token punctuation">[</span>default: ./src/index<span class="token punctuation">]</span>
? Which folder will your generated bundles be in? <span class="token punctuation">[</span>default: dist<span class="token punctuation">]</span>:
? Will you be using ES2015? Yes
? Will you use one of the below CSS solutions? No

+ babel-plugin-syntax-dynamic-import@6.18.0
+ uglifyjs-webpack-plugin@2.0.1
+ webpack-cli@3.2.3
+ @babel/core@7.2.2
+ babel-loader@8.0.4
+ @babel/preset-env@7.1.0
+ webpack@4.29.3
added 124 packages from 39 contributors, updated 4 packages and audited 25221 packages <span class="token keyword">in</span> 7.463s
found 0 vulnerabilities


Congratulations<span class="token operator">!</span> Your new webpack configuration <span class="token function">file</span> has been created<span class="token operator">!</span></code></pre>
<p><a href="https://createapp.dev/webpack">createapp.dev - create a webpack configuration in your browser</a> is an online tool for creating custom webpack configuration. It allows you to select various features that will be combined and added to resulting configuration file. Also, it generates an example project based on provided webpack configuration that you can review in your browser and download.</p>
<h1 id="configuration-languages">Configuration Languages<a href="#configuration-languages" aria-hidden="true"><span class="icon icon-link"></span></a></h1>
<p>webpack 支持使用多种编程语言和数据描述格式来编写配置文件。在 <a href="https://github.com/gulpjs/interpret">node-interpret</a> 中你可以找到当前所支持的文件类型列表，通过 <a href="https://github.com/gulpjs/interpret">node-interpret</a>，webpack 能够处理这些类型的配置文件。</p>
<h2 id="typescript">TypeScript<a href="#typescript" aria-hidden="true"><span class="icon icon-link"></span></a></h2>
<p>要使用 <a href="https://www.typescriptlang.org/">Typescript</a> 来编写 webpack 配置，你需要先安装必要的依赖，比如 Typescript 以及其相应的类型声明，类型声明可以从 <a href="https://definitelytyped.org/">DefinitelyTyped</a> 项目中获取，依赖安装如下所示：</p>
<pre><code class="hljs language-bash"><span class="token function">npm</span> <span class="token function">install</span> --save-dev typescript ts-node @types/node @types/webpack
<span class="token comment"># 如果使用 webpack-dev-server，还需要安装以下依赖</span>
<span class="token function">npm</span> <span class="token function">install</span> --save-dev @types/webpack-dev-server</code></pre>
<p>完成依赖安装后便可以开始编写配置文件，示例如下：</p>
<p><strong>webpack.config.ts</strong></p>
<pre><code class="hljs language-typescript"><span class="token keyword">import</span> <span class="token operator">*</span> <span class="token keyword">as</span> path <span class="token keyword">from</span> <span class="token string">'path'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token operator">*</span> <span class="token keyword">as</span> webpack <span class="token keyword">from</span> <span class="token string">'webpack'</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> config<span class="token punctuation">:</span> webpack<span class="token punctuation">.</span>Configuration <span class="token operator">=</span> <span class="token punctuation">{</span>
  mode<span class="token punctuation">:</span> <span class="token string">'production'</span><span class="token punctuation">,</span>
  entry<span class="token punctuation">:</span> <span class="token string">'./foo.js'</span><span class="token punctuation">,</span>
  output<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    path<span class="token punctuation">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">'dist'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    filename<span class="token punctuation">:</span> <span class="token string">'foo.bundle.js'</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> config<span class="token punctuation">;</span></code></pre>
<p>该示例需要 typescript 版本在 2.7 及以上，并在 <code>tsconfig.json</code> 文件的 compilerOptions 中添加 <code>esModuleInterop</code> 和 <code>allowSyntheticDefaultImports</code> 两个配置项。</p>
<p>值得注意的是你需要确保 <code>tsconfig.json</code> 的 <code>compilerOptions</code> 中 module 选项的值为 <code>commonjs</code>,否则 webpack 的运行会失败报错，因为 <code>ts-node</code> 不支持 <code>commonjs</code> 以外的其他模块规范。</p>
<p>你可以通过两个途径来完成 module 的设置:</p>
<ul>
<li>直接修改 <code>tsconfig.json</code> 文件</li>
<li>使用 <code>tsconfig-paths</code></li>
</ul>
<p>第一种方法就是打开你的 <code>tsconfig.json</code> 文件，找到 <code>compilerOptions</code> 的配置，然后设置 <code>target</code> 和 <code>module</code> 的选项分别为 <code>"ES5"</code> 和 <code>"CommonJs"</code> (在 <code>target</code> 设置为 <code>es5</code> 时你也可以不显示编写 <code>module</code> 配置)。</p>
<p>第二种方法需要先安装 <code>tsconfig-paths</code> 这个 npm 包，如下所示：</p>
<pre><code class="hljs language-bash"><span class="token function">npm</span> <span class="token function">install</span> --save-dev tsconfig-paths</code></pre>
<p>安装后你可以为 webpack 配置创建一个单独的 TypeScript 配置文件，示例如下：</p>
<p><strong>tsconfig-for-webpack-config.json</strong></p>
<pre><code class="hljs language-json"><span class="token punctuation">{</span>
  <span class="token property">"compilerOptions"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">"module"</span><span class="token operator">:</span> <span class="token string">"commonjs"</span><span class="token punctuation">,</span>
    <span class="token property">"target"</span><span class="token operator">:</span> <span class="token string">"es5"</span><span class="token punctuation">,</span>
    <span class="token property">"esModuleInterop"</span><span class="token operator">:</span> <span class="token boolean">true</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre>
<blockquote class="tip">
<p>ts-node 可以根据 <code>tsconfig-paths</code> 提供的环境变量 <code>process.env.TS_NODE_PROJECT</code> 来找到 <code>tsconfig.json</code> 文件路径。</p>
</blockquote>
<p><code>process.env.TS_NODE_PROJECT</code> 变量的设置如下所示:</p>
<p><strong>package.json</strong></p>
<pre><code class="hljs language-json"><span class="token punctuation">{</span>
  <span class="token property">"scripts"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">"build"</span><span class="token operator">:</span> <span class="token string">"cross-env TS_NODE_PROJECT=\"tsconfig-for-webpack-config.json\" webpack"</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre>
<p>之所以要添加 <code>cross-env</code>，是因为我们在直接使用 <code>TS_NODE_PROJECT</code> 时遇到过 <code>"TS_NODE_PROJECT" unrecognized command</code> 报错的反馈，添加 <code>cross-env</code> 之后该问题也似乎得到了解决，你可以查看<a href="https://github.com/webpack/webpack.js.org/issues/2733">这个 issue</a>获取到关于该问题的更多信息。</p>
<h2 id="coffeescript">CoffeeScript<a href="#coffeescript" aria-hidden="true"><span class="icon icon-link"></span></a></h2>
<p>与 <code>Typescript</code> 类似，在使用 CoffeeScript 前需要先安装其依赖，如下所示:</p>
<pre><code class="hljs language-bash"><span class="token function">npm</span> <span class="token function">install</span> --save-dev coffee-script</code></pre>
<p>完成安装之后便可以开始编写 webpack 配置，示例如下:</p>
<p><strong>webpack.config.coffee</strong></p>
<!-- eslint-skip -->
<pre><code class="hljs language-js">HtmlWebpackPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'html-webpack-plugin'</span><span class="token punctuation">)</span>
webpack <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'webpack'</span><span class="token punctuation">)</span>
path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'path'</span><span class="token punctuation">)</span>

config <span class="token operator">=</span>
  mode<span class="token punctuation">:</span> <span class="token string">'production'</span>
  entry<span class="token punctuation">:</span> <span class="token string">'./path/to/my/entry/file.js'</span>
  output<span class="token punctuation">:</span>
    path<span class="token punctuation">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">'dist'</span><span class="token punctuation">)</span>
    filename<span class="token punctuation">:</span> <span class="token string">'my-first-webpack.bundle.js'</span>
  module<span class="token punctuation">:</span> rules<span class="token punctuation">:</span> <span class="token punctuation">[</span> <span class="token punctuation">{</span>
    test<span class="token punctuation">:</span> <span class="token regex">/\.(js|jsx)$/</span>
    use<span class="token punctuation">:</span> <span class="token string">'babel-loader'</span>
  <span class="token punctuation">}</span> <span class="token punctuation">]</span>
  plugins<span class="token punctuation">:</span> <span class="token punctuation">[</span>
    <span class="token keyword">new</span> <span class="token class-name">HtmlWebpackPlugin</span><span class="token punctuation">(</span>template<span class="token punctuation">:</span> <span class="token string">'./src/index.html'</span><span class="token punctuation">)</span>
  <span class="token punctuation">]</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> config</code></pre>
<h2 id="babel-and-jsx">Babel and JSX<a href="#babel-and-jsx" aria-hidden="true"><span class="icon icon-link"></span></a></h2>
<p>下述的示例中使用了 JSX（用于 React 的 JavaScript 标记语言）和 babel 来创建格式为 json 的 webpack 配置文件。</p>
<blockquote>
<p>感谢 <a href="https://twitter.com/_developit">Jason Miller</a> 提供示例代码</p>
</blockquote>
<p>首先需要安装一些必要依赖，如下所示:</p>
<pre><code class="hljs language-bash"><span class="token function">npm</span> <span class="token function">install</span> --save-dev babel-register jsxobj babel-preset-es2015</code></pre>
<p><strong>.babelrc</strong></p>
<pre><code class="hljs language-json"><span class="token punctuation">{</span>
  <span class="token property">"presets"</span><span class="token operator">:</span> <span class="token punctuation">[</span> <span class="token string">"es2015"</span> <span class="token punctuation">]</span>
<span class="token punctuation">}</span></code></pre>
<p><strong>webpack.config.babel.js</strong></p>
<pre><code class="hljs language-js"><span class="token keyword">import</span> jsxobj <span class="token keyword">from</span> <span class="token string">'jsxobj'</span><span class="token punctuation">;</span>

<span class="token comment">// 插件引入示例</span>
<span class="token keyword">const</span> <span class="token function-variable function">CustomPlugin</span> <span class="token operator">=</span> config <span class="token operator">=></span> <span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token operator">...</span>config<span class="token punctuation">,</span>
  name<span class="token punctuation">:</span> <span class="token string">'custom-plugin'</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">(</span>
  <span class="token operator">&#x3C;</span>webpack target<span class="token operator">=</span><span class="token string">"web"</span> watch mode<span class="token operator">=</span><span class="token string">"production"</span><span class="token operator">></span>
    <span class="token operator">&#x3C;</span>entry path<span class="token operator">=</span><span class="token string">"src/index.js"</span> <span class="token operator">/</span><span class="token operator">></span>
    <span class="token operator">&#x3C;</span>resolve<span class="token operator">></span>
      <span class="token operator">&#x3C;</span>alias <span class="token punctuation">{</span><span class="token operator">...</span><span class="token punctuation">{</span>
        react<span class="token punctuation">:</span> <span class="token string">'preact-compat'</span><span class="token punctuation">,</span>
        <span class="token string">'react-dom'</span><span class="token punctuation">:</span> <span class="token string">'preact-compat'</span>
      <span class="token punctuation">}</span><span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">></span>
    <span class="token operator">&#x3C;</span><span class="token operator">/</span>resolve<span class="token operator">></span>
    <span class="token operator">&#x3C;</span>plugins<span class="token operator">></span>
      <span class="token operator">&#x3C;</span>CustomPlugin foo<span class="token operator">=</span><span class="token string">"bar"</span> <span class="token operator">/</span><span class="token operator">></span>
    <span class="token operator">&#x3C;</span><span class="token operator">/</span>plugins<span class="token operator">></span>
  <span class="token operator">&#x3C;</span><span class="token operator">/</span>webpack<span class="token operator">></span>
<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
<p>如果你在其他地方也使用了 Babel 并且 <code>modules</code> 的值设置为 <code>false</code>，则必须维护两份 <code>.babelrc</code> 的文件，或者你也可以将上述示例中的 <code>import jsxobj from 'jsxobj';</code> 替换为 <code>const jsxobj = require('jsxobj');</code> 并将新的 <code>export</code> 语法替换为 <code>module.exports</code>，因为尽管 Node 目前已经支持了 ES6 的许多新特性，但是仍然没有支持 ES6 的模块语法。</p>
<h1 id="configuration-types">Configuration Types<a href="#configuration-types" aria-hidden="true"><span class="icon icon-link"></span></a></h1>
<p>Besides exporting a single configuration object, there are a few more ways that cover other needs as well.</p>
<h2 id="exporting-a-function">Exporting a Function<a href="#exporting-a-function" aria-hidden="true"><span class="icon icon-link"></span></a></h2>
<p>Eventually you will find the need to disambiguate in your <code>webpack.config.js</code> between <a href="/guides/development">development</a> and <a href="/guides/production">production builds</a>. You have (at least) two options:</p>
<p>One option is to export a function from your webpack configuration instead of exporting an object. The function will be invoked with two arguments:</p>
<ul>
<li>An environment as the first parameter. See the <a href="/api/cli/#environment-options">environment options CLI documentation</a> for syntax examples.</li>
<li>An options map (<code>argv</code>) as the second parameter. This describes the options passed to webpack, with keys such as <a href="/api/cli/#output-options"><code>output-filename</code></a> and <a href="/api/cli/#optimize-options"><code>optimize-minimize</code></a>.</li>
</ul>
<pre><code class="hljs language-diff"><span class="token deleted">-module.exports = {</span>
<span class="token inserted">+module.exports = function(env, argv) {</span>
<span class="token inserted">+  return {</span>
<span class="token inserted">+    mode: env.production ? 'production' : 'development',</span>
<span class="token inserted">+    devtool: env.production ? 'source-maps' : 'eval',</span>
     plugins: [
       new TerserPlugin({
         terserOptions: {
<span class="token inserted">+          compress: argv['optimize-minimize'] // only if -p or --optimize-minimize were passed</span>
         }
       })
     ]
<span class="token inserted">+  };</span>
};</code></pre>
<h2 id="exporting-a-promise">Exporting a Promise<a href="#exporting-a-promise" aria-hidden="true"><span class="icon icon-link"></span></a></h2>
<p>webpack will run the function exported by the configuration file and wait for a Promise to be returned. Handy when you need to asynchronously load configuration variables.</p>
<blockquote class="tip">
<p>It is possible to export multiple promises by wrapping them into <code>Promise.all([/* Your promises */]).</code></p>
</blockquote>
<pre><code class="hljs language-js">module<span class="token punctuation">.</span><span class="token function-variable function">exports</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span>resolve<span class="token punctuation">,</span> reject<span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
    <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
      <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        entry<span class="token punctuation">:</span> <span class="token string">'./app.js'</span><span class="token punctuation">,</span>
        <span class="token comment">/* ... */</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">5000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<blockquote class="warning">
<p>Returning a <code>Promise</code> only works when using webpack via CLI. <a href="/api/node/#webpack"><code>webpack()</code></a> expects an object.</p>
</blockquote>
<h2 id="exporting-multiple-configurations">Exporting multiple configurations<a href="#exporting-multiple-configurations" aria-hidden="true"><span class="icon icon-link"></span></a></h2>
<p>Instead of exporting a single configuration object/function, you may export multiple configurations (multiple functions are supported since webpack 3.1.0). When running webpack, all configurations are built. For instance, this is useful for <a href="/guides/author-libraries">bundling a library</a> for multiple <a href="/configuration/output/#outputlibrarytarget">targets</a> such as AMD and CommonJS:</p>
<pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">{</span>
  output<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    filename<span class="token punctuation">:</span> <span class="token string">'./dist-amd.js'</span><span class="token punctuation">,</span>
    libraryTarget<span class="token punctuation">:</span> <span class="token string">'amd'</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  name<span class="token punctuation">:</span> <span class="token string">'amd'</span><span class="token punctuation">,</span>
  entry<span class="token punctuation">:</span> <span class="token string">'./app.js'</span><span class="token punctuation">,</span>
  mode<span class="token punctuation">:</span> <span class="token string">'production'</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
  output<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    filename<span class="token punctuation">:</span> <span class="token string">'./dist-commonjs.js'</span><span class="token punctuation">,</span>
    libraryTarget<span class="token punctuation">:</span> <span class="token string">'commonjs'</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  name<span class="token punctuation">:</span> <span class="token string">'commonjs'</span><span class="token punctuation">,</span>
  entry<span class="token punctuation">:</span> <span class="token string">'./app.js'</span><span class="token punctuation">,</span>
  mode<span class="token punctuation">:</span> <span class="token string">'production'</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">;</span></code></pre>
<blockquote class="tip">
<p>If you pass a name to <a href="/api/cli/#configuration-options"><code>--config-name</code></a> flag, webpack will only build that specific configuration.</p>
</blockquote>
<h1 id="入口和上下文entry-and-context">入口和上下文(entry and context)<a href="#%E5%85%A5%E5%8F%A3%E5%92%8C%E4%B8%8A%E4%B8%8B%E6%96%87entry-and-context" aria-hidden="true"><span class="icon icon-link"></span></a></h1>
<p>入口对象是用于 webpack 查找开始构建 bundle 的地方。上下文是入口文件所处的目录的绝对路径的字符串。</p>
<h2 id="context"><code>context</code><a href="#context" aria-hidden="true"><span class="icon icon-link"></span></a></h2>
<p><code>string</code></p>
<p>基础目录，<strong>绝对路径</strong>，用于从配置中解析入口点(entry point)和 加载器(loader)。</p>
<pre><code class="hljs language-js"><span class="token keyword">const</span> path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'path'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  context<span class="token punctuation">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">'app'</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<p>默认使用当前目录，但是推荐在配置中传入一个值。这使得你的配置独立于 CWD(current working directory, 当前工作目录)。</p>
<hr>
<h2 id="entry"><code>entry</code><a href="#entry" aria-hidden="true"><span class="icon icon-link"></span></a></h2>
<p><code>string</code> <code>[string]</code> <code>object = { &#x3C;key> string | [string] | object = { import string | [string], dependOn string | [string], filename string }}</code> <code>(function() => string | [string] | object = { &#x3C;key> string | [string] } | object = { import string | [string], dependOn string | [string], filename string })</code></p>
<p>开始应用程序打包过程的一个或多个起点。如果传入数组，则会处理所有条目。</p>
<p>动态加载的模块 <strong>不是</strong> 入口起点。</p>
<p>简单规则：每个 HTML 页面都有一个入口起点。单页应用(SPA)：一个入口起点，多页应用(MPA)：多个入口起点。</p>
<pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  entry<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    home<span class="token punctuation">:</span> <span class="token string">'./home.js'</span><span class="token punctuation">,</span>
    about<span class="token punctuation">:</span> <span class="token string">'./about.js'</span><span class="token punctuation">,</span>
    contact<span class="token punctuation">:</span> <span class="token string">'./contact.js'</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<h3 id="naming">Naming<a href="#naming" aria-hidden="true"><span class="icon icon-link"></span></a></h3>
<p>如果传入一个字符串或字符串数组，chunk 会被命名为 <code>main</code>。如果传入一个对象，则每个属性的键(key)会是 chunk 的名称，该属性的值描述了 chunk 的入口点。</p>
<h3 id="entry-descriptor">Entry descriptor<a href="#entry-descriptor" aria-hidden="true"><span class="icon icon-link"></span></a></h3>
<p>如果传入一个对象，对象的属性的值可以是一个字符串、字符串数组或者一个描述符(descriptor):</p>
<pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  entry<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    home<span class="token punctuation">:</span> <span class="token string">'./home.js'</span><span class="token punctuation">,</span>
    shared<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">'react'</span><span class="token punctuation">,</span> <span class="token string">'react-dom'</span><span class="token punctuation">,</span> <span class="token string">'redux'</span><span class="token punctuation">,</span> <span class="token string">'react-redux'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    catalog<span class="token punctuation">:</span> <span class="token punctuation">{</span>
      <span class="token keyword">import</span><span class="token punctuation">:</span> <span class="token string">'./catalog.js'</span><span class="token punctuation">,</span>
      filename<span class="token punctuation">:</span> <span class="token string">'pages/catalog.js'</span><span class="token punctuation">,</span>
      dependOn<span class="token punctuation">:</span><span class="token string">'shared'</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    personal<span class="token punctuation">:</span> <span class="token punctuation">{</span>
      <span class="token keyword">import</span><span class="token punctuation">:</span> <span class="token string">'./personal.js'</span><span class="token punctuation">,</span>
      filename<span class="token punctuation">:</span> <span class="token string">'pages/personal.js'</span><span class="token punctuation">,</span>
      dependOn<span class="token punctuation">:</span><span class="token string">'shared'</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<p>描述符语法可以用来传入额外的选项给入口。</p>
<h3 id="output-filename">Output filename<a href="#output-filename" aria-hidden="true"><span class="icon icon-link"></span></a></h3>
<p>默认情况下，入口 chunk 的输出文件名是从 <a href="/configuration/output/#outputfilename"><code>output.filename</code></a> 中提取出来的，但你可以为特定的入口指定一个自定义的输出文件名。</p>
<pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  entry<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    app<span class="token punctuation">:</span> <span class="token string">'./app.js'</span><span class="token punctuation">,</span>
    home<span class="token punctuation">:</span> <span class="token punctuation">{</span> <span class="token keyword">import</span><span class="token punctuation">:</span> <span class="token string">'./contact.js'</span><span class="token punctuation">,</span> filename<span class="token punctuation">:</span> <span class="token string">'pages/[name][ext]'</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    about<span class="token punctuation">:</span> <span class="token punctuation">{</span> <span class="token keyword">import</span><span class="token punctuation">:</span> <span class="token string">'./about.js'</span><span class="token punctuation">,</span> filename<span class="token punctuation">:</span> <span class="token string">'pages/[name][ext]'</span> <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<p>描述符语法在这里被用来将 <code>filename</code>—选项传递给指定的入口点。</p>
<h3 id="dependencies">Dependencies<a href="#dependencies" aria-hidden="true"><span class="icon icon-link"></span></a></h3>
<p>默认情况下，每个入口 chunk 保存了全部其用的模块(modules)。使用 <code>dependOn</code>—选项你可以与另一个入口 chunk 共享模块:</p>
<pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  entry<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    app<span class="token punctuation">:</span> <span class="token punctuation">{</span> <span class="token keyword">import</span><span class="token punctuation">:</span> <span class="token string">'./app.js'</span><span class="token punctuation">,</span> dependOn<span class="token punctuation">:</span> <span class="token string">'react-vendors'</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token string">'react-vendors'</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">'react'</span><span class="token punctuation">,</span> <span class="token string">'react-dom'</span><span class="token punctuation">,</span> <span class="token string">'prop-types'</span><span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<p><code>app</code> 这个 chunk 就不会包含 <code>react-vendors</code> 拥有的模块了.</p>
<p>你也可以使用数组为一个入口指定多个文件：</p>
<pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  entry<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    app<span class="token punctuation">:</span> <span class="token punctuation">{</span> <span class="token keyword">import</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">'./app.js'</span><span class="token punctuation">,</span> <span class="token string">'./app2.js'</span><span class="token punctuation">]</span><span class="token punctuation">,</span> dependOn<span class="token punctuation">:</span> <span class="token string">'react-vendors'</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token string">'react-vendors'</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">'react'</span><span class="token punctuation">,</span> <span class="token string">'react-dom'</span><span class="token punctuation">,</span> <span class="token string">'prop-types'</span><span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<h3 id="dynamic-entry">Dynamic entry<a href="#dynamic-entry" aria-hidden="true"><span class="icon icon-link"></span></a></h3>
<p>如果传入一个函数，那么它将会在每次 <a href="/api/compiler-hooks/#make">make</a> 事件中被调用。</p>
<blockquote>
<p>要注意的是，make 事件在 webpack 启动和每当 <a href="/configuration/watch/">监听文件变化</a> 时都会触发。</p>
</blockquote>
<pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  entry<span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token string">'./demo'</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<p>或者</p>
<pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  entry<span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span>resolve<span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'./demo'</span><span class="token punctuation">,</span> <span class="token string">'./demo2'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<p>例如，你可以使用动态入口来从外部来源（远程服务器，文件系统内容或者数据库）获取真正的入口：</p>
<p><strong>webpack.config.js</strong></p>
<pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token function">entry</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token function">fetchPathsFromSomeExternalSource</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 返回一个会被用像 ['src/main-layout.js', 'src/admin-layout.js'] 的东西 resolve 的 promise</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<p>当和 <a href="/configuration/output/#outputlibrary"><code>output.library</code></a> 选项结合：如果传入的是一个数组，只有数组的最后一个条目会被导出。</p>
<h1 id="模式（mode）">模式（Mode）<a href="#%E6%A8%A1%E5%BC%8F%EF%BC%88mode%EF%BC%89" aria-hidden="true"><span class="icon icon-link"></span></a></h1>
<p>提供 <code>mode</code> 配置选项，告知 webpack 使用相应模式的内置优化。</p>
<p><code>string = 'production': 'none' | 'development' | 'production'</code></p>
<h2 id="用法">用法<a href="#%E7%94%A8%E6%B3%95" aria-hidden="true"><span class="icon icon-link"></span></a></h2>
<p>只需在配置对象中提供 <code>mode</code> 选项：</p>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  mode<span class="token punctuation">:</span> <span class="token string">'development'</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<p>或者从 <a href="/api/cli/">CLI</a> 参数中传递：</p>
<pre><code class="hljs language-bash">webpack --mode<span class="token operator">=</span>development</code></pre>
<p>支持以下字符串值：</p>
<table>
<thead>
<tr>
<th>选项</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td><div class="title"><p>选项</p><p>描述</p></div>
<div class="content"><p><code>development</code><p class="description mobile">会将 <code>DefinePlugin</code> 中 <code>process.env.NODE_ENV</code> 的值设置为 <code>development</code>. 启用 <code>NamedChunksPlugin</code> 和 <code>NamedModulesPlugin</code> 。</p></p></div></td>
<td class="description desktop">会将 
<code>DefinePlugin</code>
 中 
<code>process.env.NODE_ENV</code>
 的值设置为 
<code>development</code>
. 启用 
<code>NamedChunksPlugin</code>
 和 
<code>NamedModulesPlugin</code>
 。</td>
</tr>
<tr>
<td><div class="title"><p>选项</p><p>描述</p></div>
<div class="content"><p><code>production</code><p class="description mobile">会将 <code>DefinePlugin</code> 中 <code>process.env.NODE_ENV</code> 的值设置为 <code>production</code>. 启用 <code>FlagDependencyUsagePlugin</code>, <code>FlagIncludedChunksPlugin</code>, <code>ModuleConcatenationPlugin</code>, <code>NoEmitOnErrorsPlugin</code>, <code>OccurrenceOrderPlugin</code>, <code>SideEffectsFlagPlugin</code> 和 <code>TerserPlugin</code> 。</p></p></div></td>
<td class="description desktop">会将 
<code>DefinePlugin</code>
 中 
<code>process.env.NODE_ENV</code>
 的值设置为 
<code>production</code>
. 启用 
<code>FlagDependencyUsagePlugin</code>
, 
<code>FlagIncludedChunksPlugin</code>
, 
<code>ModuleConcatenationPlugin</code>
, 
<code>NoEmitOnErrorsPlugin</code>
, 
<code>OccurrenceOrderPlugin</code>
, 
<code>SideEffectsFlagPlugin</code>
 和 
<code>TerserPlugin</code>
 。</td>
</tr>
<tr>
<td><div class="title"><p>选项</p><p>描述</p></div>
<div class="content"><p><code>none</code><p class="description mobile">不使用任何默认优化选项</p></p></div></td>
<td class="description desktop">不使用任何默认优化选项</td>
</tr>
</tbody>
</table>
<p>如果没有设置，webpack 会给 <code>mode</code> 的默认值设置为 <code>production</code>。</p>
<blockquote class="tip">
<p>请注意，设置 <code>NODE_ENV</code> 并不会自动地设置 <code>mode</code>。</p>
</blockquote>
<h3 id="mode-development">Mode: development<a href="#mode-development" aria-hidden="true"><span class="icon icon-link"></span></a></h3>
<pre><code class="hljs language-diff">// webpack.development.config.js
module.exports = {
<span class="token inserted">+ mode: 'development'</span>
<span class="token deleted">- devtool: 'eval',</span>
<span class="token deleted">- cache: true,</span>
<span class="token deleted">- performance: {</span>
<span class="token deleted">-   hints: false</span>
<span class="token deleted">- },</span>
<span class="token deleted">- output: {</span>
<span class="token deleted">-   pathinfo: true</span>
<span class="token deleted">- },</span>
<span class="token deleted">- optimization: {</span>
<span class="token deleted">-   namedModules: true,</span>
<span class="token deleted">-   namedChunks: true,</span>
<span class="token deleted">-   nodeEnv: 'development',</span>
<span class="token deleted">-   flagIncludedChunks: false,</span>
<span class="token deleted">-   occurrenceOrder: false,</span>
<span class="token deleted">-   concatenateModules: false,</span>
<span class="token deleted">-   splitChunks: {</span>
<span class="token deleted">-     hidePathInfo: false,</span>
<span class="token deleted">-     minSize: 10000,</span>
<span class="token deleted">-     maxAsyncRequests: Infinity,</span>
<span class="token deleted">-     maxInitialRequests: Infinity,</span>
<span class="token deleted">-   },</span>
<span class="token deleted">-   noEmitOnErrors: false,</span>
<span class="token deleted">-   checkWasmTypes: false,</span>
<span class="token deleted">-   minimize: false,</span>
<span class="token deleted">-   removeAvailableModules: false</span>
<span class="token deleted">- },</span>
<span class="token deleted">- plugins: [</span>
<span class="token deleted">-   new webpack.NamedModulesPlugin(),</span>
<span class="token deleted">-   new webpack.NamedChunksPlugin(),</span>
<span class="token deleted">-   new webpack.DefinePlugin({ "process.env.NODE_ENV": JSON.stringify("development") }),</span>
<span class="token deleted">- ]</span>
}</code></pre>
<h3 id="mode-production">Mode: production<a href="#mode-production" aria-hidden="true"><span class="icon icon-link"></span></a></h3>
<pre><code class="hljs language-diff">// webpack.production.config.js
module.exports = {
<span class="token inserted">+  mode: 'production',</span>
<span class="token deleted">- performance: {</span>
<span class="token deleted">-   hints: 'warning'</span>
<span class="token deleted">- },</span>
<span class="token deleted">- output: {</span>
<span class="token deleted">-   pathinfo: false</span>
<span class="token deleted">- },</span>
<span class="token deleted">- optimization: {</span>
<span class="token deleted">-   namedModules: false,</span>
<span class="token deleted">-   namedChunks: false,</span>
<span class="token deleted">-   nodeEnv: 'production',</span>
<span class="token deleted">-   flagIncludedChunks: true,</span>
<span class="token deleted">-   occurrenceOrder: true,</span>
<span class="token deleted">-   concatenateModules: true,</span>
<span class="token deleted">-   splitChunks: {</span>
<span class="token deleted">-     hidePathInfo: true,</span>
<span class="token deleted">-     minSize: 30000,</span>
<span class="token deleted">-     maxAsyncRequests: 5,</span>
<span class="token deleted">-     maxInitialRequests: 3,</span>
<span class="token deleted">-   },</span>
<span class="token deleted">-   noEmitOnErrors: true,</span>
<span class="token deleted">-   checkWasmTypes: true,</span>
<span class="token deleted">-   minimize: true,</span>
<span class="token deleted">- },</span>
<span class="token deleted">- plugins: [</span>
<span class="token deleted">-   new TerserPlugin(/* ... */),</span>
<span class="token deleted">-   new webpack.DefinePlugin({ "process.env.NODE_ENV": JSON.stringify("production") }),</span>
<span class="token deleted">-   new webpack.optimize.ModuleConcatenationPlugin(),</span>
<span class="token deleted">-   new webpack.NoEmitOnErrorsPlugin()</span>
<span class="token deleted">- ]</span>
}</code></pre>
<h3 id="mode-none">Mode: none<a href="#mode-none" aria-hidden="true"><span class="icon icon-link"></span></a></h3>
<pre><code class="hljs language-diff">// webpack.custom.config.js
module.exports = {
<span class="token inserted">+ mode: 'none',</span>
<span class="token deleted">- performance: {</span>
<span class="token deleted">-  hints: false</span>
<span class="token deleted">- },</span>
<span class="token deleted">- optimization: {</span>
<span class="token deleted">-   flagIncludedChunks: false,</span>
<span class="token deleted">-   occurrenceOrder: false,</span>
<span class="token deleted">-   concatenateModules: false,</span>
<span class="token deleted">-   splitChunks: {</span>
<span class="token deleted">-     hidePathInfo: false,</span>
<span class="token deleted">-     minSize: 10000,</span>
<span class="token deleted">-     maxAsyncRequests: Infinity,</span>
<span class="token deleted">-     maxInitialRequests: Infinity,</span>
<span class="token deleted">-   },</span>
<span class="token deleted">-   noEmitOnErrors: false,</span>
<span class="token deleted">-   checkWasmTypes: false,</span>
<span class="token deleted">-   minimize: false,</span>
<span class="token deleted">- },</span>
<span class="token deleted">- plugins: []</span>
}</code></pre>
<p>如果要根据 <em>webpack.config.js</em> 中的 <strong>mode</strong> 变量更改打包行为，则必须将配置导出为函数，而不是导出对象：</p>
<pre><code class="hljs language-javascript"><span class="token keyword">var</span> config <span class="token operator">=</span> <span class="token punctuation">{</span>
  entry<span class="token punctuation">:</span> <span class="token string">'./app.js'</span>
  <span class="token comment">//...</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

module<span class="token punctuation">.</span><span class="token function-variable function">exports</span> <span class="token operator">=</span> <span class="token punctuation">(</span>env<span class="token punctuation">,</span> argv<span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>

  <span class="token keyword">if</span> <span class="token punctuation">(</span>argv<span class="token punctuation">.</span>mode <span class="token operator">===</span> <span class="token string">'development'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    config<span class="token punctuation">.</span>devtool <span class="token operator">=</span> <span class="token string">'source-map'</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">if</span> <span class="token punctuation">(</span>argv<span class="token punctuation">.</span>mode <span class="token operator">===</span> <span class="token string">'production'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">//...</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">return</span> config<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<h1 id="输出output">输出(output)<a href="#%E8%BE%93%E5%87%BAoutput" aria-hidden="true"><span class="icon icon-link"></span></a></h1>
<p><code>output</code> 位于对象最顶级键(key)，包括了一组选项，指示 webpack 如何去输出、以及在哪里输出你的「bundle、asset 和其他你所打包或使用 webpack 载入的任何内容」。</p>
<h2 id="outputauxiliarycomment"><code>output.auxiliaryComment</code><a href="#outputauxiliarycomment" aria-hidden="true"><span class="icon icon-link"></span></a></h2>
<p><code>string</code> <code>object</code></p>
<p>在和 <a href="#outputlibrary"><code>output.library</code></a> 和 <a href="#outputlibrarytarget"><code>output.libraryTarget</code></a> 一起使用时，此选项允许用户向导出容器(export wrapper)中插入注释。要为 <code>libraryTarget</code> 每种类型都插入相同的注释，将 <code>auxiliaryComment</code> 设置为一个字符串：</p>
<p><strong>webpack.config.js</strong></p>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  output<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    library<span class="token punctuation">:</span> <span class="token string">'someLibName'</span><span class="token punctuation">,</span>
    libraryTarget<span class="token punctuation">:</span> <span class="token string">'umd'</span><span class="token punctuation">,</span>
    filename<span class="token punctuation">:</span> <span class="token string">'someLibName.js'</span><span class="token punctuation">,</span>
    auxiliaryComment<span class="token punctuation">:</span> <span class="token string">'Test Comment'</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<p>将会生成如下：</p>
<p><strong>someLibName.js</strong></p>
<pre><code class="hljs language-javascript"><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token function">webpackUniversalModuleDefinition</span><span class="token punctuation">(</span>root<span class="token punctuation">,</span> factory<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// Test Comment</span>
  <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> exports <span class="token operator">===</span> <span class="token string">'object'</span> <span class="token operator">&#x26;&#x26;</span> <span class="token keyword">typeof</span> module <span class="token operator">===</span> <span class="token string">'object'</span><span class="token punctuation">)</span>
    module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token function">factory</span><span class="token punctuation">(</span><span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'lodash'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// Test Comment</span>
  <span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> define <span class="token operator">===</span> <span class="token string">'function'</span> <span class="token operator">&#x26;&#x26;</span> define<span class="token punctuation">.</span>amd<span class="token punctuation">)</span>
    <span class="token function">define</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'lodash'</span><span class="token punctuation">]</span><span class="token punctuation">,</span> factory<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// Test Comment</span>
  <span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> exports <span class="token operator">===</span> <span class="token string">'object'</span><span class="token punctuation">)</span>
    exports<span class="token punctuation">[</span><span class="token string">'someLibName'</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">factory</span><span class="token punctuation">(</span><span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'lodash'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// Test Comment</span>
  <span class="token keyword">else</span>
    root<span class="token punctuation">[</span><span class="token string">'someLibName'</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">factory</span><span class="token punctuation">(</span>root<span class="token punctuation">[</span><span class="token string">'_'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span>__WEBPACK_EXTERNAL_MODULE_1__<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// ...</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
<p>对于 <code>libraryTarget</code> 每种类型的注释进行更细粒度地控制，请传入一个对象：</p>
<p><strong>webpack.config.js</strong></p>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  output<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    <span class="token comment">//...</span>
    auxiliaryComment<span class="token punctuation">:</span> <span class="token punctuation">{</span>
      root<span class="token punctuation">:</span> <span class="token string">'Root Comment'</span><span class="token punctuation">,</span>
      commonjs<span class="token punctuation">:</span> <span class="token string">'CommonJS Comment'</span><span class="token punctuation">,</span>
      commonjs2<span class="token punctuation">:</span> <span class="token string">'CommonJS2 Comment'</span><span class="token punctuation">,</span>
      amd<span class="token punctuation">:</span> <span class="token string">'AMD Comment'</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<h2 id="outputchunkfilename"><code>output.chunkFilename</code><a href="#outputchunkfilename" aria-hidden="true"><span class="icon icon-link"></span></a></h2>
<p><code>string = '[id].js'</code></p>
<p>此选项决定了非入口(non-entry) chunk 文件的名称。有关可取的值的详细信息，请查看 <a href="#outputfilename"><code>output.filename</code></a> 选项。</p>
<p>注意，这些文件名需要在运行时根据 chunk 发送的请求去生成。因此，需要在 webpack runtime 输出 bundle 值时，将 chunk id 的值对应映射到占位符(如 <code>[name]</code> 和 <code>[chunkhash]</code>)。这会增加文件大小，并且在任何 chunk 的占位符值修改后，都会使 bundle 失效。</p>
<p>默认使用 <code>[id].js</code> 或从 <a href="#outputfilename"><code>output.filename</code></a> 中推断出的值（<code>[name]</code> 会被预先替换为 <code>[id]</code> 或 <code>[id].</code>）。</p>
<p><strong>webpack.config.js</strong></p>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  output<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    <span class="token comment">//...</span>
    chunkFilename<span class="token punctuation">:</span> <span class="token string">'[id].js'</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<h2 id="outputchunkloadtimeout"><code>output.chunkLoadTimeout</code><a href="#outputchunkloadtimeout" aria-hidden="true"><span class="icon icon-link"></span></a></h2>
<p><code>number = 120000</code></p>
<p>chunk 请求到期之前的毫秒数，默认为 120000。从 webpack 2.6.0 开始支持此选项。</p>
<p><strong>webpack.config.js</strong></p>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  output<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    <span class="token comment">//...</span>
    chunkLoadTimeout<span class="token punctuation">:</span> <span class="token number">30000</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<h2 id="outputchunkcallbackname"><code>output.chunkCallbackName</code><a href="#outputchunkcallbackname" aria-hidden="true"><span class="icon icon-link"></span></a></h2>
<p><code>string = 'webpackChunkwebpack'</code></p>
<p>回调函数的名称在 Web Workers 环境中 webpack 加载 chunks 时使用。</p>
<p><strong>webpack.config.js</strong></p>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  output<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    <span class="token comment">//...</span>
    chunkCallbackName<span class="token punctuation">:</span> <span class="token string">'myCustomFunc'</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<h2 id="outputcrossoriginloading"><code>output.crossOriginLoading</code><a href="#outputcrossoriginloading" aria-hidden="true"><span class="icon icon-link"></span></a></h2>
<p><code>boolean = false</code> <code>string: 'anonymous' | 'use-credentials'</code></p>
<p>告诉 webpack 启用 <a href="https://developer.mozilla.org/en/docs/Web/HTML/Element/script#attr-crossorigin">cross-origin 属性</a> 加载 chunk。仅在 <a href="/configuration/target/"><code>target</code></a> 设置为 <code>'web'</code> 时生效，通过使用 JSONP 来添加脚本标签，实现按需加载模块。</p>
<ul>
<li><code>'anonymous'</code> - <strong>不带凭据(credential)</strong> 启用跨域加载</li>
<li><code>'use-credentials'</code> - <strong>携带凭据(credential)</strong> 启用跨域加载</li>
</ul>
<h2 id="outputjsonpscripttype"><code>output.jsonpScriptType</code><a href="#outputjsonpscripttype" aria-hidden="true"><span class="icon icon-link"></span></a></h2>
<p><code>string = 'text/javascript': 'module' | 'text/javascript'</code></p>
<p>webpack 会注入 DOM 中的 <code>script</code> 标签的 <code>type</code> 属性，以下载 async chunk。可以使用以下选项：</p>
<ul>
<li><code>'text/javascript'</code>: HTML5 中的默认 <code>type</code>，在一些浏览器的 HTML4 必需。</li>
<li><code>'module'</code>: 代码会被视为 JavaScript 模块。</li>
</ul>
<h2 id="outputdevtoolfallbackmodulefilenametemplate"><code>output.devtoolFallbackModuleFilenameTemplate</code><a href="#outputdevtoolfallbackmodulefilenametemplate" aria-hidden="true"><span class="icon icon-link"></span></a></h2>
<p><code>string</code> <code>function (info)</code></p>
<p>当上面的模板字符串或函数产生重复时使用的备用内容。</p>
<p>查看 <a href="#outputdevtoolmodulefilenametemplate"><code>output.devtoolModuleFilenameTemplate</code></a>。</p>
<h2 id="outputdevtoolmodulefilenametemplate"><code>output.devtoolModuleFilenameTemplate</code><a href="#outputdevtoolmodulefilenametemplate" aria-hidden="true"><span class="icon icon-link"></span></a></h2>
<p><code>string = 'webpack://[namespace]/[resource-path]?[loaders]'</code> <code>function (info) => string</code></p>
<p>此选项仅在 「<a href="/configuration/devtool"><code>devtool</code></a> 使用了需要模块名称的选项」时使用。</p>
<p>自定义每个 source map 的 <code>sources</code> 数组中使用的名称。可以通过传递模板字符串(template string)或者函数来完成。例如，当使用 <code>devtool: 'eval'</code>，默认值是：</p>
<p><strong>webpack.config.js</strong></p>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  output<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    devtoolModuleFilenameTemplate<span class="token punctuation">:</span> <span class="token string">'webpack://[namespace]/[resource-path]?[loaders]'</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<p>模板字符串(template string)中做以下替换（通过 webpack 内部的 <a href="https://github.com/webpack/webpack/blob/master/lib/ModuleFilenameHelpers.js"><code>ModuleFilenameHelpers</code></a>）：</p>
<table>
<thead>
<tr>
<th>Template</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><div class="title"><p>Template</p><p>Description</p></div>
<div class="content"><p>[absolute-resource-path]<p class="description mobile">绝对路径文件名</p></p></div></td>
<td class="description desktop">绝对路径文件名</td>
</tr>
<tr>
<td><div class="title"><p>Template</p><p>Description</p></div>
<div class="content"><p>[all-loaders]<p class="description mobile">自动和显式的 loader，并且参数取决于第一个 loader 名称</p></p></div></td>
<td class="description desktop">自动和显式的 loader，并且参数取决于第一个 loader 名称</td>
</tr>
<tr>
<td><div class="title"><p>Template</p><p>Description</p></div>
<div class="content"><p>[hash]<p class="description mobile">模块标识符的 hash</p></p></div></td>
<td class="description desktop">模块标识符的 hash</td>
</tr>
<tr>
<td><div class="title"><p>Template</p><p>Description</p></div>
<div class="content"><p>[id]<p class="description mobile">模块标识符</p></p></div></td>
<td class="description desktop">模块标识符</td>
</tr>
<tr>
<td><div class="title"><p>Template</p><p>Description</p></div>
<div class="content"><p>[loaders]<p class="description mobile">显式的 loader，并且参数取决于第一个 loader 名称</p></p></div></td>
<td class="description desktop">显式的 loader，并且参数取决于第一个 loader 名称</td>
</tr>
<tr>
<td><div class="title"><p>Template</p><p>Description</p></div>
<div class="content"><p>[resource]<p class="description mobile">用于解析文件的路径和用于第一个 loader 的任意查询参数</p></p></div></td>
<td class="description desktop">用于解析文件的路径和用于第一个 loader 的任意查询参数</td>
</tr>
<tr>
<td><div class="title"><p>Template</p><p>Description</p></div>
<div class="content"><p>[resource-path]<p class="description mobile">不带任何查询参数，用于解析文件的路径</p></p></div></td>
<td class="description desktop">不带任何查询参数，用于解析文件的路径</td>
</tr>
<tr>
<td><div class="title"><p>Template</p><p>Description</p></div>
<div class="content"><p>[namespace]<p class="description mobile">模块命名空间。在构建成为一个 library 之后，通常也是 library 名称，否则为空</p></p></div></td>
<td class="description desktop">模块命名空间。在构建成为一个 library 之后，通常也是 library 名称，否则为空</td>
</tr>
</tbody>
</table>
<p>当使用一个函数，同样的选项要通过 <code>info</code> 参数并使用驼峰式(camel-cased)：</p>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  output<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    devtoolModuleFilenameTemplate<span class="token punctuation">:</span> info <span class="token operator">=></span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token template-string"><span class="token string">`webpack:///</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>info<span class="token punctuation">.</span>resourcePath<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">?</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>info<span class="token punctuation">.</span>loaders<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">`</span></span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<p>如果多个模块产生相同的名称，使用 <a href="#outputdevtoolfallbackmodulefilenametemplate"><code>output.devtoolFallbackModuleFilenameTemplate</code></a> 来代替这些模块。</p>
<h2 id="outputdevtoolnamespace"><code>output.devtoolNamespace</code><a href="#outputdevtoolnamespace" aria-hidden="true"><span class="icon icon-link"></span></a></h2>
<p><code>string</code></p>
<p>此选项确定 <a href="#outputdevtoolmodulefilenametemplate"><code>output.devtoolModuleFilenameTemplate</code></a> 使用的模块名称空间。未指定时的默认值为：<a href="#outputlibrary"><code>output.library</code></a>。在加载多个通过 webpack 构建的 library 时，用于防止 source map 中源文件路径冲突。</p>
<p>例如，如果你有两个 library，分别使用命名空间 <code>library1</code> 和 <code>library2</code>，并且都有一个文件 <code>./src/index.js</code>（可能具有不同内容），它们会将这些文件暴露为 <code>webpack://library1/./src/index.js</code> 和 <code>webpack://library2/./src/index.js</code>。</p>
<h2 id="outputfilename"><code>output.filename</code><a href="#outputfilename" aria-hidden="true"><span class="icon icon-link"></span></a></h2>
<p><code>string</code> <code>function (pathData, assetInfo) => string</code></p>
<p>此选项决定了每个输出 bundle 的名称。这些 bundle 将写入到 <a href="#outputpath"><code>output.path</code></a> 选项指定的目录下。</p>
<p>对于单个<a href="/configuration/entry-context#entry"><code>入口</code></a>起点，filename 会是一个静态名称。</p>
<p><strong>webpack.config.js</strong></p>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  output<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    filename<span class="token punctuation">:</span> <span class="token string">'bundle.js'</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<p>然而，当通过多个入口起点(entry point)、代码拆分(code splitting)或各种插件(plugin)创建多个 bundle，应该使用以下一种替换方式，来赋予每个 bundle 一个唯一的名称……</p>
<p>使用入口名称：</p>
<p><strong>webpack.config.js</strong></p>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  output<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    filename<span class="token punctuation">:</span> <span class="token string">'[name].bundle.js'</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<p>使用内部 chunk id</p>
<p><strong>webpack.config.js</strong></p>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  output<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    filename<span class="token punctuation">:</span> <span class="token string">'[id].bundle.js'</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<p>使用每次构建过程中，唯一的 hash 生成</p>
<p><strong>webpack.config.js</strong></p>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  output<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    filename<span class="token punctuation">:</span> <span class="token string">'[name].[hash].bundle.js'</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<p>使用基于每个 chunk 内容的 hash：</p>
<p><strong>webpack.config.js</strong></p>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  output<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    filename<span class="token punctuation">:</span> <span class="token string">'[chunkhash].bundle.js'</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<p>Using hashes generated for extracted content:</p>
<p><strong>webpack.config.js</strong></p>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  output<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    filename<span class="token punctuation">:</span> <span class="token string">'[contenthash].bundle.css'</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<p>Using function to return the filename:</p>
<p><strong>webpack.config.js</strong></p>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  output<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    filename<span class="token punctuation">:</span> <span class="token punctuation">(</span>pathData<span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> pathData<span class="token punctuation">.</span>chunk<span class="token punctuation">.</span>name <span class="token operator">===</span> <span class="token string">'main'</span> <span class="token operator">?</span> <span class="token string">'[name].js'</span><span class="token punctuation">:</span> <span class="token string">'[name]/[name].js'</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<p>请确保已阅读过 <a href="/guides/caching">指南 - 缓存</a> 的详细信息。这里涉及更多步骤，不仅仅是设置此选项。</p>
<p>注意此选项被称为文件名，但是你还是可以使用像 <code>'js/[name]/bundle.js'</code> 这样的文件夹结构。</p>
<p>注意，此选项不会影响那些「按需加载 chunk」的输出文件。对于这些文件，请使用 <a href="#outputchunkfilename"><code>output.chunkFilename</code></a> 选项来控制输出。通过 loader 创建的文件也不受影响。在这种情况下，你必须尝试 loader 特定的可用选项。</p>
<h2 id="template-strings">Template strings<a href="#template-strings" aria-hidden="true"><span class="icon icon-link"></span></a></h2>
<p>可以使用以下替换模板字符串（通过 webpack 内部的<a href="https://github.com/webpack/webpack/blob/master/lib/TemplatedPathPlugin.js"><code>TemplatedPathPlugin</code></a>）:</p>
<table>
<thead>
<tr>
<th>模板</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td><div class="title"><p>模板</p><p>描述</p></div>
<div class="content"><p>[hash]<p class="description mobile">模块标识符(module identifier)的 hash</p></p></div></td>
<td class="description desktop">模块标识符(module identifier)的 hash</td>
</tr>
<tr>
<td><div class="title"><p>模板</p><p>描述</p></div>
<div class="content"><p>[contenthash]<p class="description mobile">文件内容 hash，每个资源生成的 hash 都是不同的</p></p></div></td>
<td class="description desktop">文件内容 hash，每个资源生成的 hash 都是不同的</td>
</tr>
<tr>
<td><div class="title"><p>模板</p><p>描述</p></div>
<div class="content"><p>[chunkhash]<p class="description mobile">chunk 内容的 hash</p></p></div></td>
<td class="description desktop">chunk 内容的 hash</td>
</tr>
<tr>
<td><div class="title"><p>模板</p><p>描述</p></div>
<div class="content"><p>[name]<p class="description mobile">模块名称</p></p></div></td>
<td class="description desktop">模块名称</td>
</tr>
<tr>
<td><div class="title"><p>模板</p><p>描述</p></div>
<div class="content"><p>[id]<p class="description mobile">模块标识符(module identifier)</p></p></div></td>
<td class="description desktop">模块标识符(module identifier)</td>
</tr>
<tr>
<td><div class="title"><p>模板</p><p>描述</p></div>
<div class="content"><p>[query]<p class="description mobile">模块的 query，例如，文件名 <code>?</code> 后面的字符串</p></p></div></td>
<td class="description desktop">模块的 query，例如，文件名 
<code>?</code>
 后面的字符串</td>
</tr>
<tr>
<td><div class="title"><p>模板</p><p>描述</p></div>
<div class="content"><p>[function]<p class="description mobile">The function, which can return filename [string]</p></p></div></td>
<td class="description desktop">The function, which can return filename 
[
string
]</td>
</tr>
</tbody>
</table>
<p><code>[hash]</code> 和 <code>[chunkhash]</code> 的长度可以使用 <code>[hash:16]</code>（默认为 20）来指定。或者，通过指定<a href="#outputhashdigestlength"><code>output.hashDigestLength</code></a> 在全局配置长度。</p>
<p>当你要在实际文件名中使用占位符时，webpack 会过滤出需要替换的占位符。例如，输出一个文件 <code>[name].js</code>， 你必须通过在括号之间添加反斜杠来转义<code>[name]</code>占位符。 因此，<code>[\name\]</code> 生成 <code>[name]</code> 而不是 <code>name</code>。</p>
<p>例如：<code>[\id\]</code> 生成 <code>[id]</code> 而不是 <code>id</code>。</p>
<p>如果将这个选项设为一个函数，函数将返回一个包含上面表格中替换信息的对象。</p>
<blockquote class="tip">
<p>在使用 <a href="/plugins/extract-text-webpack-plugin"><code>ExtractTextWebpackPlugin</code></a> 时，可以用 <code>[contenthash]</code> 来获取提取文件的 hash（既不是 <code>[hash]</code> 也不是 <code>[chunkhash]</code>）。</p>
</blockquote>
<h2 id="outputassetmodulefilename"><code>output.assetModuleFilename</code><a href="#outputassetmodulefilename" aria-hidden="true"><span class="icon icon-link"></span></a></h2>
<p>参考 <a href="#outputfilename"><code>output.filename</code></a> 不过应用于 <a href="/guides/asset-modules/">Asset Modules</a></p>
<h2 id="outputglobalobject"><code>output.globalObject</code><a href="#outputglobalobject" aria-hidden="true"><span class="icon icon-link"></span></a></h2>
<p><code>string = 'window'</code></p>
<p>When targeting a library, especially when <code>libraryTarget</code> is <code>'umd'</code>, this option indicates what global object will be used to mount the library. To make UMD build available on both browsers and Node.js, set <code>output.globalObject</code> option to <code>'this'</code>.</p>
<p>For example:</p>
<p><strong>webpack.config.js</strong></p>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">// ...</span>
  output<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    library<span class="token punctuation">:</span> <span class="token string">'myLib'</span><span class="token punctuation">,</span>
    libraryTarget<span class="token punctuation">:</span> <span class="token string">'umd'</span><span class="token punctuation">,</span>
    filename<span class="token punctuation">:</span> <span class="token string">'myLib.js'</span><span class="token punctuation">,</span>
    globalObject<span class="token punctuation">:</span> <span class="token string">'this'</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<h2 id="outputuniquename"><code>output.uniqueName</code><a href="#outputuniquename" aria-hidden="true"><span class="icon icon-link"></span></a></h2>
<p><code>string</code></p>
<p>在全局环境下为防止多个 webpack 运行时 冲突所使用的唯一名称。默认使用 <a href="/configuration/output/#outputlibrary"><code>output.library</code></a> 名称或者上下文中的 <code>package.json</code> 的 包名称(package name)， 如果两者都不存在，值为 <code>''</code>。</p>
<p><code>output.uniqueName</code> 将用于生成唯一全局变量:</p>
<ul>
<li><a href="/configuration/output/#outputjsonpfunction"><code>output.jsonpFunction</code></a></li>
<li><a href="/configuration/output/#outputchunkcallbackname"><code>output.chunkCallbackName</code></a></li>
</ul>
<p><strong>webpack.config.js</strong></p>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">// ...</span>
  output<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    uniqueName<span class="token punctuation">:</span> <span class="token string">'my-package-xyz'</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<h2 id="outputhashdigest"><code>output.hashDigest</code><a href="#outputhashdigest" aria-hidden="true"><span class="icon icon-link"></span></a></h2>
<p><code>string = 'hex'</code></p>
<p>在生成 hash 时使用的编码方式。支持 Node.js <a href="https://nodejs.org/api/crypto.html#crypto_hash_digest_encoding"><code>hash.digest</code></a> 的所有编码。对文件名使用 <code>'base64'</code>，可能会出现问题，因为 base64 字母表中具有 <code>/</code> 这个字符(character)。同样的，<code>'latin1'</code> 规定可以含有任何字符(character)。</p>
<h2 id="outputhashdigestlength"><code>output.hashDigestLength</code><a href="#outputhashdigestlength" aria-hidden="true"><span class="icon icon-link"></span></a></h2>
<p><code>number = 20</code></p>
<p>散列摘要的前缀长度。</p>
<h2 id="outputhashfunction"><code>output.hashFunction</code><a href="#outputhashfunction" aria-hidden="true"><span class="icon icon-link"></span></a></h2>
<p><code>string = 'md4'</code> <code>function</code></p>
<p>散列算法。支持 Node.JS <a href="https://nodejs.org/api/crypto.html#crypto_crypto_createhash_algorithm_options"><code>crypto.createHash</code></a> 的所有功能。从 <code>4.0.0-alpha2</code> 开始，<code>hashFunction</code> 现在可以是一个返回自定义 hash 的构造函数。出于性能原因，你可以提供一个不加密的哈希函数(non-crypto hash function)。</p>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  output<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    hashFunction<span class="token punctuation">:</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'metrohash'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>MetroHash64
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<p>确保 hash 函数有可访问的 <code>update</code> 和 <code>digest</code> 方法。</p>
<h2 id="outputhashsalt"><code>output.hashSalt</code><a href="#outputhashsalt" aria-hidden="true"><span class="icon icon-link"></span></a></h2>
<p>一个可选的加盐值，通过 Node.JS <a href="https://nodejs.org/api/crypto.html#crypto_hash_update_data_inputencoding"><code>hash.update</code></a> 来更新哈希。</p>
<h2 id="outputhotupdatechunkfilename"><code>output.hotUpdateChunkFilename</code><a href="#outputhotupdatechunkfilename" aria-hidden="true"><span class="icon icon-link"></span></a></h2>
<p><code>string = '[id].[hash].hot-update.js'</code></p>
<p>自定义热更新 chunk 的文件名。可选的值的详细信息，请查看 <a href="#outputfilename"><code>output.filename</code></a> 选项。</p>
<p>占位符只能是 <code>[id]</code> 和 <code>[hash]</code>，默认值是：</p>
<p><strong>webpack.config.js</strong></p>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  output<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    hotUpdateChunkFilename<span class="token punctuation">:</span> <span class="token string">'[id].[hash].hot-update.js'</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<blockquote class="tip">
<p>通常，你不需要修改 <code>output.hotUpdateChunkFilename</code>.</p>
</blockquote>
<h2 id="outputhotupdatefunction"><code>output.hotUpdateFunction</code><a href="#outputhotupdatefunction" aria-hidden="true"><span class="icon icon-link"></span></a></h2>
<p><code>string</code></p>
<p>只在 <a href="/configuration/target/"><code>target</code></a> 设置为 <code>'web'</code> 时使用，用于加载热更新(hot update)的 JSONP 函数。</p>
<p>JSONP 函数用于异步加载(async load)热更新(hot-update) chunk。</p>
<p>详细请查看 <a href="#outputjsonpfunction"><code>output.jsonpFunction</code></a>。</p>
<h2 id="outputhotupdatemainfilename"><code>output.hotUpdateMainFilename</code><a href="#outputhotupdatemainfilename" aria-hidden="true"><span class="icon icon-link"></span></a></h2>
<p><code>string = '[hash].hot-update.json'</code> <code>function</code></p>
<p>自定义热更新的主文件名(main filename)。<code>[hash]</code> 是唯一可用的占位符。</p>
<blockquote class="tip">
<p>通常，你不需要修改 <code>output.hotUpdateMainFilename</code>.</p>
</blockquote>
<h2 id="outputjsonpfunction"><code>output.jsonpFunction</code><a href="#outputjsonpfunction" aria-hidden="true"><span class="icon icon-link"></span></a></h2>
<p><code>string = 'webpackJsonp'</code></p>
<p>仅在 <a href="/configuration/target/"><code>target</code></a> 设置为 <code>'web'</code> 时生效，通过使用 JSONP 来实现按需加载模块。</p>
<p>JSONP 函数用于异步加载 chunk，或者拼接多个初始 chunk(SplitChunksPlugin, AggressiveSplittingPlugin)。</p>
<p>如果使用了 <a href="#outputlibrary"><code>output.library</code></a> 选项，library 名称会自动与 <code>output.jsonpFunction</code> 的值拼接在一起。</p>
<blockquote class="warning">
<p>如果在同一网页中使用了多个（来自不同 compilation 的）webpack runtime，在全局名称空间中存在 on-demand chunk(按需 chunk) 冲突的风险。</p>
</blockquote>
<p>默认的 on-demand chunk 的输出以如下开始：</p>
<p><strong>example-on-demand-chunk.js</strong></p>
<pre><code class="hljs language-javascript"><span class="token punctuation">(</span>window<span class="token punctuation">.</span>webpackJsonp <span class="token operator">=</span> window<span class="token punctuation">.</span>webpackJsonp <span class="token operator">||</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token comment">/* ... */</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
<p>修改 <code>output.jsonpFunction</code> 以安全使用同一网页上的多个 webpack runtime：</p>
<p><strong>webpack.config.flight-widget.js</strong></p>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  output<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    jsonpFunction<span class="token punctuation">:</span> <span class="token string">'wpJsonpFlightsWidget'</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<p>On-demand chunks content would now change to:</p>
<p><strong>example-on-demand-chunk.js</strong></p>
<pre><code class="hljs language-javascript"><span class="token punctuation">(</span>window<span class="token punctuation">.</span>wpJsonpFlightsWidget <span class="token operator">=</span> window<span class="token punctuation">.</span>wpJsonpFlightsWidget <span class="token operator">||</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token comment">/* ... */</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
<h2 id="outputlibrary"><code>output.library</code><a href="#outputlibrary" aria-hidden="true"><span class="icon icon-link"></span></a></h2>
<p><code>string</code> <code>object</code></p>
<blockquote class="tip">
<p><code>object</code> 从 webpack 3.1.0 开始应用。用于 <code>libraryTarget: 'umd'</code>。</p>
</blockquote>
<p><code>output.library</code> 的值的作用，取决于<a href="#outputlibrarytarget"><code>output.libraryTarget</code></a> 选项的值；完整的详细信息请查阅该章节。注意，<code>output.libraryTarget</code> 的默认选项是 <code>var</code>，所以如果使用以下配置选项：</p>
<p><strong>webpack.config.js</strong></p>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  output<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    library<span class="token punctuation">:</span> <span class="token string">'MyLibrary'</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<p>如果生成的输出文件，是在 HTML 页面中作为一个 script 标签引入，则变量 <code>MyLibrary</code> 将与入口文件的返回值绑定。</p>
<blockquote class="warning">
<p>注意，如果将<code>数组</code>作为 <code>entry</code>，那么只会暴露数组中的最后一个模块。如果将<code>对象</code>作为 <code>entry</code>，还可以使用 <code>array</code> 语法暴露（具体查看<a href="https://github.com/webpack/webpack/tree/master/examples/multi-part-library">这个示例</a> for details)）。</p>
</blockquote>
<blockquote class="tip">
<p>有关 <code>output.library</code> 以及 <code>output.libraryTarget</code> 详细信息，请查看<a href="/guides/author-libraries/">创建 library 指南</a>。</p>
</blockquote>
<h2 id="outputlibraryexport"><code>output.libraryExport</code><a href="#outputlibraryexport" aria-hidden="true"><span class="icon icon-link"></span></a></h2>
<p><code>string</code> <code>[string]</code></p>
<p>Configure which module or modules will be exposed via the <code>libraryTarget</code>. It is <code>undefined</code> by default, same behaviour will be applied if you set <code>libraryTarget</code> to an empty string e.g. <code>''</code> it will export the whole (namespace) object. The examples below demonstrate the effect of this configuration when using <code>libraryTarget: 'var'</code>.</p>
<p>The following configurations are supported:</p>
<p><code>libraryExport: 'default'</code> - The <strong>default export of your entry point</strong> will be assigned to the library target:</p>
<pre><code class="hljs language-javascript"><span class="token comment">// if your entry has a default export of `MyDefaultModule`</span>
<span class="token keyword">var</span> MyDefaultModule <span class="token operator">=</span> _entry_return_<span class="token punctuation">.</span><span class="token keyword">default</span><span class="token punctuation">;</span></code></pre>
<p><code>libraryExport: 'MyModule'</code> - The <strong>specified module</strong> will be assigned to the library target:</p>
<pre><code class="hljs language-javascript"><span class="token keyword">var</span> MyModule <span class="token operator">=</span> _entry_return_<span class="token punctuation">.</span>MyModule<span class="token punctuation">;</span></code></pre>
<p><code>libraryExport: ['MyModule', 'MySubModule']</code> - The array is interpreted as a <strong>path to a module</strong> to be assigned to the library target:</p>
<pre><code class="hljs language-javascript"><span class="token keyword">var</span> MySubModule <span class="token operator">=</span> _entry_return_<span class="token punctuation">.</span>MyModule<span class="token punctuation">.</span>MySubModule<span class="token punctuation">;</span></code></pre>
<p>With the <code>libraryExport</code> configurations specified above, the resulting libraries could be utilized as such:</p>
<pre><code class="hljs language-javascript">MyDefaultModule<span class="token punctuation">.</span><span class="token function">doSomething</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
MyModule<span class="token punctuation">.</span><span class="token function">doSomething</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
MySubModule<span class="token punctuation">.</span><span class="token function">doSomething</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
<h2 id="outputlibrarytarget"><code>output.libraryTarget</code><a href="#outputlibrarytarget" aria-hidden="true"><span class="icon icon-link"></span></a></h2>
<p><code>string = 'var'</code></p>
<p>配置如何暴露 library。可以使用下面的选项中的任意一个。注意，此选项与分配给 <a href="#outputlibrary"><code>output.library</code></a> 的值一同使用。对于下面的所有示例，都假定将 <code>output.library</code> 的值配置为 <code>MyLibrary</code>。</p>
<blockquote class="tip">
<p>注意，下面的示例代码中的 <code>_entry_return_</code> 是入口起点返回的值。在 bundle 本身中，它是从入口起点、由 webpack 生成的函数的输出结果。</p>
</blockquote>
<h3 id="暴露为一个变量">暴露为一个变量<a href="#%E6%9A%B4%E9%9C%B2%E4%B8%BA%E4%B8%80%E4%B8%AA%E5%8F%98%E9%87%8F" aria-hidden="true"><span class="icon icon-link"></span></a></h3>
<p>这些选项将入口起点的返回值（例如，入口起点的任何导出值），在 bundle 包所引入的位置，赋值给 output.library 提供的变量名。</p>
<p><code>libraryTarget: 'var'</code> - （默认值）当 library 加载完成，<strong>入口起点的返回值</strong>将分配给一个变量：</p>
<pre><code class="hljs language-javascript"><span class="token keyword">var</span> MyLibrary <span class="token operator">=</span> _entry_return_<span class="token punctuation">;</span>

<span class="token comment">// 在一个单独的 script...</span>
MyLibrary<span class="token punctuation">.</span><span class="token function">doSomething</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
<blockquote class="warning">
<p>当使用此选项时，将 <code>output.library</code> 设置为空，会因为没有变量导致无法赋值。</p>
</blockquote>
<p><code>libraryTarget: 'assign'</code> - 这将产生一个隐含的全局变量，可能会潜在地重新分配到全局中已存在的值（谨慎使用）。.</p>
<pre><code class="hljs language-javascript">MyLibrary <span class="token operator">=</span> _entry_return_<span class="token punctuation">;</span></code></pre>
<p>注意，如果 <code>MyLibrary</code> 在作用域中未在前面代码进行定义，则你的 library 将被设置在全局作用域内。</p>
<blockquote class="warning">
<p>当使用此选项时，将 <code>output.library</code> 设置为空，将产生一个破损的输出 bundle。</p>
</blockquote>
<h3 id="通过在对象上赋值暴露">通过在对象上赋值暴露<a href="#%E9%80%9A%E8%BF%87%E5%9C%A8%E5%AF%B9%E8%B1%A1%E4%B8%8A%E8%B5%8B%E5%80%BC%E6%9A%B4%E9%9C%B2" aria-hidden="true"><span class="icon icon-link"></span></a></h3>
<p>这些选项将入口起点的返回值（例如，入口起点的任何导出值）赋值给一个特定对象的属性（此名称由 <code>output.library</code> 定义）下。</p>
<p>如果 <code>output.library</code> 未赋值为一个非空字符串，则默认行为是，将入口起点返回的所有属性都赋值给一个对象（此对象由 <code>output.libraryTarget</code> 特定），通过如下代码片段：</p>
<pre><code class="hljs language-javascript"><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span>e<span class="token punctuation">,</span> a<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token keyword">in</span> a<span class="token punctuation">)</span> <span class="token punctuation">{</span> e<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> a<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token punctuation">}</span> <span class="token punctuation">}</span><span class="token punctuation">(</span>output<span class="token punctuation">.</span>libraryTarget<span class="token punctuation">,</span> _entry_return_<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
<blockquote class="warning">
<p>注意，不设置 <code>output.library</code> 将导致由入口起点返回的所有属性，都会被赋值给给定的对象；这里并不会检查现有的属性名是否存在。</p>
</blockquote>
<p><code>libraryTarget: "this"</code> - <strong>入口起点的返回值</strong>将分配给 this 的一个属性（此名称由 <code>output.library</code> 定义）下，<code>this</code> 的含义取决于你：</p>
<pre><code class="hljs language-javascript"><span class="token keyword">this</span><span class="token punctuation">[</span><span class="token string">'MyLibrary'</span><span class="token punctuation">]</span> <span class="token operator">=</span> _entry_return_<span class="token punctuation">;</span>

<span class="token comment">// 在一个单独的 script...</span>
<span class="token keyword">this</span><span class="token punctuation">.</span>MyLibrary<span class="token punctuation">.</span><span class="token function">doSomething</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
MyLibrary<span class="token punctuation">.</span><span class="token function">doSomething</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 如果 this 是 window</span></code></pre>
<p><code>libraryTarget: 'window'</code> - <strong>入口起点的返回值</strong>将使用 <code>output.library</code> 中定义的值，分配给 <code>window</code> 对象的这个属性下。</p>
<pre><code class="hljs language-javascript">window<span class="token punctuation">[</span><span class="token string">'MyLibrary'</span><span class="token punctuation">]</span> <span class="token operator">=</span> _entry_return_<span class="token punctuation">;</span>

window<span class="token punctuation">.</span>MyLibrary<span class="token punctuation">.</span><span class="token function">doSomething</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
<p><code>libraryTarget: 'global'</code> - <strong>入口起点的返回值</strong>将使用 <code>output.library</code> 中定义的值，分配给 <code>global</code> 对象的这个属性下。</p>
<pre><code class="hljs language-javascript">global<span class="token punctuation">[</span><span class="token string">'MyLibrary'</span><span class="token punctuation">]</span> <span class="token operator">=</span> _entry_return_<span class="token punctuation">;</span>

global<span class="token punctuation">.</span>MyLibrary<span class="token punctuation">.</span><span class="token function">doSomething</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
<p><code>libraryTarget: 'commonjs'</code> - <strong>入口起点的返回值</strong>将使用 <code>output.library</code> 中定义的值，分配给 exports 对象。这个名称也意味着，模块用于 CommonJS 环境：</p>
<pre><code class="hljs language-javascript">exports<span class="token punctuation">[</span><span class="token string">'MyLibrary'</span><span class="token punctuation">]</span> <span class="token operator">=</span> _entry_return_<span class="token punctuation">;</span>

<span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'MyLibrary'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">doSomething</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
<h3 id="模块定义系统">模块定义系统<a href="#%E6%A8%A1%E5%9D%97%E5%AE%9A%E4%B9%89%E7%B3%BB%E7%BB%9F" aria-hidden="true"><span class="icon icon-link"></span></a></h3>
<p>这些选项将导致 bundle 带有更完整的模块头部，以确保与各种模块系统的兼容性。根据 <code>output.libraryTarget</code> 选项不同，<code>output.library</code> 选项将具有不同的含义。</p>
<p><code>libraryTarget: 'commonjs2'</code> - <strong>入口起点的返回值</strong>将分配给 <code>module.exports</code> 对象。这个名称也意味着模块用于 CommonJS 环境：</p>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> _entry_return_<span class="token punctuation">;</span>

<span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'MyLibrary'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">doSomething</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
<p>注意，<code>output.library</code> 会被省略，因此对于此特定的 <code>output.libraryTarget</code>，无需再设置 <code>output.library</code> 。</p>
<blockquote class="tip">
<p>想要弄清楚 CommonJS 和 CommonJS2 之间的区别？虽然它们很相似，但二者之间存在一些微妙的差异，这通常与 webpack 上下文没有关联。（更多详细信息，请<a href="https://github.com/webpack/webpack/issues/1114">阅读此 issue</a>。）</p>
</blockquote>
<p><code>libraryTarget: 'amd'</code> - 将你的 library 暴露为 AMD 模块。</p>
<p>AMD 模块要求入口 chunk（例如使用 <code>&#x3C;script></code> 标签加载的第一个脚本）通过特定的属性定义，例如 <code>define</code> 和 <code>require</code>，它们通常由 RequireJS 或任何兼容的模块加载器提供（例如 almond）。否则，直接加载生成的 AMD bundle 将导致报错，如 <code>define is not defined</code>。</p>
<p>所以，使用以下配置...</p>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  output<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    library<span class="token punctuation">:</span> <span class="token string">'MyLibrary'</span><span class="token punctuation">,</span>
    libraryTarget<span class="token punctuation">:</span> <span class="token string">'amd'</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<p>生成的 output 将会使用 "MyLibrary" 作为模块名定义，即</p>
<pre><code class="hljs language-javascript"><span class="token function">define</span><span class="token punctuation">(</span><span class="token string">'MyLibrary'</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> _entry_return_<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
<p>可以在 script 标签中，将 bundle 作为一个模块整体引入，并且可以像这样调用 bundle：</p>
<pre><code class="hljs language-javascript"><span class="token function">require</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'MyLibrary'</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span>MyLibrary<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// 使用 library 做一些事……</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
<p>如果 <code>output.library</code> 未定义，将会生成以下内容。</p>
<pre><code class="hljs language-javascript"><span class="token function">define</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> _entry_return_<span class="token punctuation">;</span> <span class="token comment">// 此模块返回值，是入口 chunk 返回的值</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
<p>如果直接加载 <code>&#x3C;script></code> 标签，此 bundle 无法按预期运行，或者根本无法正常运行（在 almond loader 中）。只能通过文件的实际路径，在 RequireJS 兼容的异步模块加载器中运行，因此在这种情况下，如果这些设置直接暴露在服务器上，那么 <code>output.path</code> 和 <code>output.filename</code> 对于这个特定的设置可能变得很重要。</p>
<p><code>libraryTarget: 'amd-require'</code> - 这将使用立即执行的AMD <code>require(dependencies, factory)</code> 包装器包装您的输出。</p>
<p> <code>'amd-require'</code> 目标（target）允许使用AMD依赖项，而无需单独的后续调用。与 <code>'amd'</code> 目标（target）一样, 这取决于在加载 webpack 输出的环境中适当可用的 <a href="https://github.com/amdjs/amdjs-api/blob/master/require.md"><code>require</code> function</a> 。</p>
<p>对于此目标，库名称将被忽略。</p>
<p><code>libraryTarget: 'umd'</code> - 将你的 library 暴露为所有的模块定义下都可运行的方式。它将在 CommonJS, AMD 环境下运行，或将模块导出到 global 下的变量。了解更多请查看 <a href="https://github.com/umdjs/umd">UMD 仓库</a>。</p>
<p>在这个例子中，你需要 <code>library</code> 属性来命名你的模块：</p>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  output<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    library<span class="token punctuation">:</span> <span class="token string">'MyLibrary'</span><span class="token punctuation">,</span>
    libraryTarget<span class="token punctuation">:</span> <span class="token string">'umd'</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<p>最终输出如下：</p>
<pre><code class="hljs language-javascript"><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token function">webpackUniversalModuleDefinition</span><span class="token punctuation">(</span>root<span class="token punctuation">,</span> factory<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> exports <span class="token operator">===</span> <span class="token string">'object'</span> <span class="token operator">&#x26;&#x26;</span> <span class="token keyword">typeof</span> module <span class="token operator">===</span> <span class="token string">'object'</span><span class="token punctuation">)</span>
    module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token function">factory</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> define <span class="token operator">===</span> <span class="token string">'function'</span> <span class="token operator">&#x26;&#x26;</span> define<span class="token punctuation">.</span>amd<span class="token punctuation">)</span>
    <span class="token function">define</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> factory<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> exports <span class="token operator">===</span> <span class="token string">'object'</span><span class="token punctuation">)</span>
    exports<span class="token punctuation">[</span><span class="token string">'MyLibrary'</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">factory</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">else</span>
    root<span class="token punctuation">[</span><span class="token string">'MyLibrary'</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">factory</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> self <span class="token operator">!==</span> <span class="token string">'undefined'</span> <span class="token operator">?</span> self <span class="token punctuation">:</span> <span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> _entry_return_<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
<p>注意，省略 <code>library</code> 会导致将入口起点返回的所有属性，直接赋值给 root 对象，就像<a href="#expose-via-object-assignment">对象分配章节</a>。例如：</p>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  output<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    libraryTarget<span class="token punctuation">:</span> <span class="token string">'umd'</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<p>输出结果如下：</p>
<pre><code class="hljs language-javascript"><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token function">webpackUniversalModuleDefinition</span><span class="token punctuation">(</span>root<span class="token punctuation">,</span> factory<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> exports <span class="token operator">===</span> <span class="token string">'object'</span> <span class="token operator">&#x26;&#x26;</span> <span class="token keyword">typeof</span> module <span class="token operator">===</span> <span class="token string">'object'</span><span class="token punctuation">)</span>
    module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token function">factory</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> define <span class="token operator">===</span> <span class="token string">'function'</span> <span class="token operator">&#x26;&#x26;</span> define<span class="token punctuation">.</span>amd<span class="token punctuation">)</span>
    <span class="token function">define</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> factory<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">else</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token function">factory</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token keyword">in</span> a<span class="token punctuation">)</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> exports <span class="token operator">===</span> <span class="token string">'object'</span> <span class="token operator">?</span> exports <span class="token punctuation">:</span> root<span class="token punctuation">)</span><span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> a<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> self <span class="token operator">!==</span> <span class="token string">'undefined'</span> <span class="token operator">?</span> self <span class="token punctuation">:</span> <span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> _entry_return_<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
<p>从 webpack 3.1.0 开始，你可以将 <code>library</code> 指定为一个对象，用于给每个 target 起不同的名称：</p>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  output<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    library<span class="token punctuation">:</span> <span class="token punctuation">{</span>
      root<span class="token punctuation">:</span> <span class="token string">'MyLibrary'</span><span class="token punctuation">,</span>
      amd<span class="token punctuation">:</span> <span class="token string">'my-library'</span><span class="token punctuation">,</span>
      commonjs<span class="token punctuation">:</span> <span class="token string">'my-common-library'</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    libraryTarget<span class="token punctuation">:</span> <span class="token string">'umd'</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<p><code>libraryTarget: 'system'</code> - This will expose your library as a <a href="https://github.com/systemjs/systemjs/blob/master/docs/system-register.md"><code>System.register</code></a>
module. This feature was first released in <a href="https://github.com/webpack/webpack/releases/tag/v4.30.0">webpack 4.30.0</a>.</p>
<p>System modules require that a global variable <code>System</code> is present in the browser when the webpack bundle is executed. Compiling to <code>System.register</code> format allows you to <code>System.import('/bundle.js')</code> without additional configuration and have your webpack bundle loaded into the System module registry.</p>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  output<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    libraryTarget<span class="token punctuation">:</span> <span class="token string">'system'</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<p>Output:</p>
<pre><code class="hljs language-javascript">System<span class="token punctuation">.</span><span class="token function">register</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span>_export<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">{</span>
    setters<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    execute<span class="token punctuation">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">// ...</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
<p>By adding <code>output.library</code> to configuration in addition to having <code>output.libraryTarget</code> set to <code>system</code>, the output bundle will have the library name as an argument to <code>System.register</code>:</p>
<pre><code class="hljs language-javascript">System<span class="token punctuation">.</span><span class="token function">register</span><span class="token punctuation">(</span><span class="token string">'my-library'</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span>_export<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">{</span>
    setters<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    execute<span class="token punctuation">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">// ...</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
<p>你可以通过 <a href="https://github.com/systemjs/systemjs/blob/master/docs/system-register.md#format-definition">SystemJS context</a> 凭借 <code>__system_context__</code>:</p>
<pre><code class="hljs language-javascript"><span class="token comment">// 记录当前系统模块的 URL</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>__system_context__<span class="token punctuation">.</span>meta<span class="token punctuation">.</span>url<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 导入一个系统模块，通过将当前的系统模块的 url 作为 parentUrl</span>
__system_context__<span class="token punctuation">.</span><span class="token keyword">import</span><span class="token punctuation">(</span><span class="token string">'./other-file.js'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>m <span class="token operator">=></span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>m<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
<h3 id="其他-targets">其他 Targets<a href="#%E5%85%B6%E4%BB%96-targets" aria-hidden="true"><span class="icon icon-link"></span></a></h3>
<p><code>libraryTarget: 'jsonp'</code> - 这将把入口起点的返回值，包裹到一个 jsonp 包装容器中</p>
<pre><code class="hljs language-javascript"><span class="token function">MyLibrary</span><span class="token punctuation">(</span>_entry_return_<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
<p>你的 library 的依赖将由 <a href="/configuration/externals/"><code>externals</code></a> 配置定义。</p>
<h2 id="outputimportfunctionname"><code>output.importFunctionName</code><a href="#outputimportfunctionname" aria-hidden="true"><span class="icon icon-link"></span></a></h2>
<p><code>string = 'import'</code></p>
<p>内部 <code>import()</code> 函数的名称. 可用于 polyfilling, 例如 通过 <a href="https://github.com/GoogleChromeLabs/dynamic-import-polyfill"><code>dynamic-import-polyfill</code></a>.</p>
<p><strong>webpack.config.js</strong></p>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  output<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    importFunctionName<span class="token punctuation">:</span> <span class="token string">'__import__'</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<h2 id="outputpath"><code>output.path</code><a href="#outputpath" aria-hidden="true"><span class="icon icon-link"></span></a></h2>
<p><code>string = path.join(process.cwd(), 'dist')</code></p>
<p>output 目录对应一个<strong>绝对路径</strong>。</p>
<p><strong>webpack.config.js</strong></p>
<pre><code class="hljs language-javascript"><span class="token keyword">const</span> path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'path'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  output<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    path<span class="token punctuation">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">'dist/assets'</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<p>注意，<code>[hash]</code> 在参数中被替换为编译过程(compilation)的 hash。详细信息请查看<a href="/guides/caching/">指南 - 缓存</a>。</p>
<h2 id="outputpathinfo"><code>output.pathinfo</code><a href="#outputpathinfo" aria-hidden="true"><span class="icon icon-link"></span></a></h2>
<p><code>boolean</code></p>
<p>告知 webpack 在 bundle 中引入「所包含模块信息」的相关注释。此选项在 <code>development</code> <a href="/concepts/mode/">模式</a>时的默认值是 <code>true</code>，而在 <code>production</code> <a href="/configuration/mode/">模式</a>时的默认值是 <code>false</code>。</p>
<blockquote class="warning">
<p>对于在开发环境(development)下阅读生成代码时，虽然通过这些注释可以提供非常有用的数据信息，但在生产环境(production)下，<strong>不应该</strong>使用。</p>
</blockquote>
<p><strong>webpack.config.js</strong></p>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  output<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    pathinfo<span class="token punctuation">:</span> <span class="token boolean">true</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<blockquote class="tip">
<p>这些注释也会被添加至经过 tree shaking 后生成的 bundle 中。</p>
</blockquote>
<h2 id="outputpublicpath"><code>output.publicPath</code><a href="#outputpublicpath" aria-hidden="true"><span class="icon icon-link"></span></a></h2>
<p><code>string = ''</code> <code>function</code></p>
<p>对于按需加载(on-demand-load)或加载外部资源(external resources)（如图片、文件等）来说，output.publicPath 是很重要的选项。如果指定了一个错误的值，则在加载这些资源时会收到 404 错误。</p>
<p>此选项指定在浏览器中所引用的「此输出目录对应的<strong>公开 URL</strong>」。相对 URL(relative URL) 会被相对于 HTML 页面（或 <code>&#x3C;base></code> 标签）解析。相对于服务的 URL(Server-relative URL)，相对于协议的 URL(protocol-relative URL) 或绝对 URL(absolute URL) 也可是可能用到的，或者有时必须用到，例如：当将资源托管到 CDN 时。</p>
<p>该选项的值是以 runtime(运行时) 或 loader(载入时) 所创建的每个 URL 为前缀。因此，在多数情况下，<strong>此选项的值都会以 <code>/</code> 结束</strong>。</p>
<p>简单规则如下：<a href="#outputpath"><code>output.path</code></a> 中的 URL 以 HTML 页面为基准。</p>
<p><strong>webpack.config.js</strong></p>
<pre><code class="hljs language-javascript"><span class="token keyword">const</span> path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'path'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  output<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    path<span class="token punctuation">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">'public/assets'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    publicPath<span class="token punctuation">:</span> <span class="token string">'https://cdn.example.com/assets/'</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<p>对于这个配置：</p>
<p><strong>webpack.config.js</strong></p>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  output<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    publicPath<span class="token punctuation">:</span> <span class="token string">'/assets/'</span><span class="token punctuation">,</span>
    chunkFilename<span class="token punctuation">:</span> <span class="token string">'[id].chunk.js'</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<p>对于一个 chunk 请求，看起来像这样 <code>/assets/4.chunk.js</code>。</p>
<p>对于一个输出 HTML 的 loader 可能会像这样输出：</p>
<pre><code class="hljs language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>link</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>/assets/spinner.gif<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span></code></pre>
<p>或者在加载 CSS 的一个图片时：</p>
<pre><code class="hljs language-css"><span class="token property">background-image</span><span class="token punctuation">:</span> <span class="token url">url(/assets/spinner.gif)</span><span class="token punctuation">;</span></code></pre>
<p>webpack-dev-server 也会默认从 <code>publicPath</code> 为基准，使用它来决定在哪个目录下启用服务，来访问 webpack 输出的文件。</p>
<p>注意，参数中的 <code>[hash]</code> 将会被替换为编译过程(compilation) 的 hash。详细信息请查看<a href="/guides/caching">指南 - 缓存</a>。</p>
<p>示例：</p>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  output<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    <span class="token comment">// One of the below</span>
    publicPath<span class="token punctuation">:</span> <span class="token string">'https://cdn.example.com/assets/'</span><span class="token punctuation">,</span> <span class="token comment">// CDN（总是 HTTPS 协议）</span>
    publicPath<span class="token punctuation">:</span> <span class="token string">'//cdn.example.com/assets/'</span><span class="token punctuation">,</span> <span class="token comment">// CDN（协议相同）</span>
    publicPath<span class="token punctuation">:</span> <span class="token string">'/assets/'</span><span class="token punctuation">,</span> <span class="token comment">// 相对于服务(server-relative)</span>
    publicPath<span class="token punctuation">:</span> <span class="token string">'assets/'</span><span class="token punctuation">,</span> <span class="token comment">// 相对于 HTML 页面</span>
    publicPath<span class="token punctuation">:</span> <span class="token string">'../assets/'</span><span class="token punctuation">,</span> <span class="token comment">// 相对于 HTML 页面</span>
    publicPath<span class="token punctuation">:</span> <span class="token string">''</span><span class="token punctuation">,</span> <span class="token comment">// 相对于 HTML 页面（目录相同）</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<p>在编译时(compile time)无法知道输出文件的 <code>publicPath</code> 的情况下，可以留空，然后在入口文件(entry file)处使用<a href="https://stackoverflow.com/questions/12934929/what-are-free-variables">自由变量(free variable)</a> <code>__webpack_public_path__</code>，以便在运行时(runtime)进行动态设置。</p>
<pre><code class="hljs language-javascript">__webpack_public_path__ <span class="token operator">=</span> myRuntimePublicPath<span class="token punctuation">;</span>

<span class="token comment">// 应用程序入口的其他部分</span></code></pre>
<p>有关 <code>__webpack_public_path__</code> 的更多信息，请查看<a href="https://github.com/webpack/webpack/issues/2776#issuecomment-233208623">此讨论</a>。</p>
<h2 id="outputsourcemapfilename"><code>output.sourceMapFilename</code><a href="#outputsourcemapfilename" aria-hidden="true"><span class="icon icon-link"></span></a></h2>
<p><code>string = '[file].map[query]'</code></p>
<p>仅在 <a href="/configuration/devtool/"><code>devtool</code></a> 设置为 <code>'source-map'</code> 时有效，此选项会向硬盘写入一个输出文件。</p>
<p>可以使用 <a href="#output-filename">#output-filename</a> 中的 <code>[name]</code>, <code>[id]</code>, <code>[hash]</code> 和 <code>[chunkhash]</code> 替换符号。除此之外，还可以使用以下替换符号。<code>[file]</code> 占位符会被替换为原始文件的文件名。我们建议<strong>只使用 <code>[file]</code> 占位符</strong>，因为其他占位符在非 chunk 文件(non-chunk files)生成的 SourceMap 时不起作用。</p>
<table>
<thead>
<tr>
<th>Template</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td><div class="title"><p>Template</p><p>描述</p></div>
<div class="content"><p>[file]<p class="description mobile">模块文件名称</p></p></div></td>
<td class="description desktop">模块文件名称</td>
</tr>
<tr>
<td><div class="title"><p>Template</p><p>描述</p></div>
<div class="content"><p>[filebase]<p class="description mobile">模块 <a href="https://nodejs.org/api/path.html#path_path_basename_path_ext">basename</a></p></p></div></td>
<td class="description desktop">模块 
<a href="https://nodejs.org/api/path.html#path_path_basename_path_ext">basename</a></td>
</tr>
</tbody>
</table>
<h2 id="outputsourceprefix"><code>output.sourcePrefix</code><a href="#outputsourceprefix" aria-hidden="true"><span class="icon icon-link"></span></a></h2>
<p><code>string = ''</code></p>
<p>修改输出 bundle 中每行的前缀。</p>
<p><strong>webpack.config.js</strong></p>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  output<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    sourcePrefix<span class="token punctuation">:</span> <span class="token string">'\t'</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<blockquote class="tip">
<p>使用一些缩进会使 bundle 看起来更美观，但会导致多行字符串的问题。</p>
</blockquote>
<blockquote class="tip">
<p>通常，你不需要修改 <code>output.sourcePrefix</code>。</p>
</blockquote>
<h2 id="outputstrictmoduleexceptionhandling"><code>output.strictModuleExceptionHandling</code><a href="#outputstrictmoduleexceptionhandling" aria-hidden="true"><span class="icon icon-link"></span></a></h2>
<p><code>boolean = false</code></p>
<p>如果一个模块是在 <code>require</code> 时抛出异常，告诉 webpack 从模块实例缓存(<code>require.cache</code>)中删除这个模块。</p>
<p>出于性能原因，默认为 <code>false</code>。</p>
<p>当设置为 <code>false</code> 时，该模块不会从缓存中删除，这将造成仅在第一次 <code>require</code> 调用时抛出异常（会导致与 node.js 不兼容）。</p>
<p>例如，设想一下 <code>module.js</code>：</p>
<pre><code class="hljs language-javascript"><span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token string">'error'</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
<p>将 <code>strictModuleExceptionHandling</code> 设置为 <code>false</code>，只有第一个 <code>require</code> 抛出异常：</p>
<pre><code class="hljs language-javascript"><span class="token comment">// with strictModuleExceptionHandling = false</span>
<span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'module'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// &#x3C;- 抛出</span>
<span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'module'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// &#x3C;- 不抛出</span></code></pre>
<p>相反，将 <code>strictModuleExceptionHandling</code> 设置为 <code>true</code>，这个模块所有的 <code>require</code> 都抛出异常：</p>
<pre><code class="hljs language-javascript"><span class="token comment">// with strictModuleExceptionHandling = true</span>
<span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'module'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// &#x3C;- 抛出</span>
<span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'module'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// &#x3C;- 仍然抛出</span></code></pre>
<h2 id="outputumdnameddefine"><code>output.umdNamedDefine</code><a href="#outputumdnameddefine" aria-hidden="true"><span class="icon icon-link"></span></a></h2>
<p><code>boolean</code></p>
<p>When using <code>libraryTarget: "umd"</code>, setting <code>output.umdNamedDefine</code> to <code>true</code> will name the AMD module of the UMD build. Otherwise an anonymous <code>define</code> is used.</p>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  output<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    umdNamedDefine<span class="token punctuation">:</span> <span class="token boolean">true</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<h2 id="outputenabledlibrarytypes"><code>output.enabledLibraryTypes</code><a href="#outputenabledlibrarytypes" aria-hidden="true"><span class="icon icon-link"></span></a></h2>
<p><code>[string]</code></p>
<p>入口点可用的 library 类型列表.</p>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  output<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    enabledLibraryTypes<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">'module'</span><span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<h2 id="outputfutureemitassets"><code>output.futureEmitAssets</code><a href="#outputfutureemitassets" aria-hidden="true"><span class="icon icon-link"></span></a></h2>
<p><code>boolean = false</code></p>
<p>Tells webpack to use the future version of asset emitting logic, which allows freeing memory of assets after emitting. It could break plugins which assume that assets are still readable after they were emitted.</p>
<blockquote class="warning">
<p><code>output.futureEmitAssets</code> option will be removed in webpack v5.0.0 and this behaviour will become the new default.</p>
</blockquote>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  output<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    futureEmitAssets<span class="token punctuation">:</span> <span class="token boolean">true</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<h2 id="outputecmaversion"><code>output.ecmaVersion</code><a href="#outputecmaversion" aria-hidden="true"><span class="icon icon-link"></span></a></h2>
<p><code>number = 6</code></p>
<p>告诉 webpack 在生成代码时的最大限度 EcmaScript 版本. 它应该是下列之一:</p>
<ul>
<li>应该 >= 5, 应该 &#x3C;= 11</li>
<li>应该 >= 2009, 应该 &#x3C;= 2020</li>
</ul>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  output<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    ecmaVersion<span class="token punctuation">:</span> <span class="token number">6</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<blockquote class="tip">
<p>在 webpack 4 中  <code>output.ecmaVersion</code> 的默认值是 <code>5</code>.</p>
</blockquote>
<h2 id="outputcomparebeforeemit"><code>output.compareBeforeEmit</code><a href="#outputcomparebeforeemit" aria-hidden="true"><span class="icon icon-link"></span></a></h2>
<p><code>boolean = true</code></p>
<p>告诉webpack在写入输出文件系统(output file system)之前检查要发出的文件是否已经存在并且具有相同的内容。</p>
<blockquote class="warning">
<p>当文件存在并且内容没有变更时，webpack 不会输出该文件。</p>
</blockquote>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  output<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    compareBeforeEmit<span class="token punctuation">:</span> <span class="token boolean">false</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<h2 id="outputiife"><code>output.iife</code><a href="#outputiife" aria-hidden="true"><span class="icon icon-link"></span></a></h2>
<p><code>boolean = true</code></p>
<p>告诉 webpack 添加 <a href="https://developer.mozilla.org/en-US/docs/Glossary/IIFE">IIFE</a> 外层包裹生成的代码.</p>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  output<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    iife<span class="token punctuation">:</span> <span class="token boolean">true</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<h2 id="outputmodule"><code>output.module</code><a href="#outputmodule" aria-hidden="true"><span class="icon icon-link"></span></a></h2>
<p><code>boolean = true</code></p>
<p>允许输出的 JavaScript 文件作为模块类型。 设置 <code>output.iife</code> 为 <code>false</code>, <code>output.libraryTarget</code> 为 <code>'module'</code>, <code>output.jsonpScriptType</code> 为 <code>'module'</code> 和 <code>terserOptions.module</code> 为 <code>true</code></p>
<blockquote class="warning">
<p><code>output.module</code> 是一个实验性的功能， 想要使用的话，通过设置 <a href="/configuration/experiments/#experiments"><code>experiments.outputModule</code></a> 为 <code>true</code>.</p>
</blockquote>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  output<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    module<span class="token punctuation">:</span> <span class="token boolean">true</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<h1 id="模块（module）">模块（Module）<a href="#%E6%A8%A1%E5%9D%97%EF%BC%88module%EF%BC%89" aria-hidden="true"><span class="icon icon-link"></span></a></h1>
<p>这些选项决定了如何处理项目中的<a href="/concepts/modules">不同类型的模块</a>。</p>
<h2 id="modulenoparse"><code>module.noParse</code><a href="#modulenoparse" aria-hidden="true"><span class="icon icon-link"></span></a></h2>
<p><code>RegExp</code> <code>[RegExp]</code> <code>function(resource)</code> <code>string</code> <code>[string]</code></p>
<p>防止 webpack 解析那些任何与给定正则表达式相匹配的文件。忽略的文件中 <strong>不应该含有</strong> <code>import</code>, <code>require</code>, <code>define</code> 的调用，或任何其他导入机制。忽略大型的 library 可以提高构建性能。</p>
<p><strong>webpack.config.js</strong></p>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  module<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    noParse<span class="token punctuation">:</span> <span class="token regex">/jquery|lodash/</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  module<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    noParse<span class="token punctuation">:</span> <span class="token punctuation">(</span>content<span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token regex">/jquery|lodash/</span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>content<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<h2 id="moduleunsafecache"><code>module.unsafeCache</code><a href="#moduleunsafecache" aria-hidden="true"><span class="icon icon-link"></span></a></h2>
<p><code>boolean</code> <code>function (module)</code></p>
<p>Cache the resolution of module requests. There are couple of defaults for <code>module.unsafeCache</code>:</p>
<ul>
<li><code>false</code> if <a href="/configuration/other-options/#cache"><code>cache</code></a> is disabled.</li>
<li><code>true</code> if <a href="/configuration/other-options/#cache"><code>cache</code></a> is enabled and the module appears to come from node modules, <code>false</code> otherwise.</li>
</ul>
<p><strong>webpack.config.js</strong></p>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  module<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    unsafeCache<span class="token punctuation">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<blockquote class="warning">
<p>The default value is <code>true</code> in webpack 4.</p>
</blockquote>
<h2 id="modulerules"><code>module.rules</code><a href="#modulerules" aria-hidden="true"><span class="icon icon-link"></span></a></h2>
<p><code>[Rule]</code></p>
<p>创建模块时，匹配请求的<a href="#rule">规则</a>数组。这些规则能够修改模块的创建方式。
这些规则能够对模块(module)应用 loader，或者修改解析器(parser)。</p>
<h2 id="rule">Rule<a href="#rule" aria-hidden="true"><span class="icon icon-link"></span></a></h2>
<p><code>object</code></p>
<p>每个规则可以分为三部分 - 条件(condition)，结果(result)和嵌套规则(nested rule)。</p>
<h3 id="rule-条件">Rule 条件<a href="#rule-%E6%9D%A1%E4%BB%B6" aria-hidden="true"><span class="icon icon-link"></span></a></h3>
<p>条件有两种输入值：</p>
<ol>
<li>
<p>resource：资源文件的绝对路径。它已经根据 <a href="/configuration/resolve"><code>resolve</code> 规则</a>解析。</p>
</li>
<li>
<p>issuer: 请求者的文件绝对路径。是导入时的位置。</p>
</li>
</ol>
<p><strong>例如:</strong> 从 <code>app.js</code> <code>导入 './style.css'</code>，resource 是 <code>/path/to/style.css</code>. issuer 是 <code>/path/to/app.js</code>。</p>
<p>在规则中，属性 <a href="#rule-test"><code>test</code></a>, <a href="#rule-include"><code>include</code></a>, <a href="#rule-exclude"><code>exclude</code></a> 和 <a href="#rule-resource"><code>resource</code></a> 对 resource 匹配，并且属性 <a href="#rule-issuer"><code>issuer</code></a> 对 issuer 匹配。</p>
<p>当使用多个条件时，所有条件都匹配。</p>
<blockquote class="warning">
<p>小心！resource 是文件的 <em>解析</em> 路径，这意味着符号链接的资源是真正的路径，<em>而不是</em> 符号链接位置。
在使用工具来符号链接包的时候（如 <code>npm link</code>）比较好记，像 <code>/node_modules/</code> 等常见条件可能会不小心错过符号链接的文件。
注意，可以通过 <a href="/configuration/resolve#resolve-symlinks"><code>resolve.symlinks</code></a>
关闭符号链接解析（以便将资源解析为符号链接路径）。</p>
</blockquote>
<h3 id="rule-结果">Rule 结果<a href="#rule-%E7%BB%93%E6%9E%9C" aria-hidden="true"><span class="icon icon-link"></span></a></h3>
<p>规则结果只在规则条件匹配时使用。</p>
<p>规则有两种输入值：</p>
<ol>
<li>应用的 loader：应用在 resource 上的 loader 数组。</li>
<li>Parser 选项：用于为模块创建解析器的选项对象。</li>
</ol>
<p>这些属性会影响 loader：<a href="#rule-loader"><code>loader</code></a>, <a href="#rule-options-rule-query"><code>options</code></a>, <a href="#rule-use"><code>use</code></a>。</p>
<p>也兼容这些属性：<a href="#rule-options-rule-query"><code>query</code></a>, <a href="#rule-loaders"><code>loaders</code></a>。</p>
<p><a href="#rule-enforce"><code>enforce</code></a> 属性会影响 loader 种类。不论是普通的，前置的，后置的 loader。</p>
<p><a href="#rule-parser"><code>parser</code></a> 属性会影响 parser 选项。</p>
<h2 id="嵌套的-rule">嵌套的 Rule<a href="#%E5%B5%8C%E5%A5%97%E7%9A%84-rule" aria-hidden="true"><span class="icon icon-link"></span></a></h2>
<p>可以使用属性 <a href="#rule-rules"><code>rules</code></a> 和 <a href="#rule-oneof"><code>oneOf</code></a> 指定嵌套规则。</p>
<p>这些规则用于在规则条件(rule condition)匹配时进行取值。每个嵌套规则包含它自己的条件。</p>
<p>被解析的顺序基于以下规则：</p>
<ol>
<li>父规则</li>
<li><a href="#rulerules"><code>rules</code></a></li>
<li><a href="#ruleoneof"><code>oneOf</code></a></li>
</ol>
<h2 id="ruleenforce"><code>Rule.enforce</code><a href="#ruleenforce" aria-hidden="true"><span class="icon icon-link"></span></a></h2>
<p><code>string</code></p>
<p>可能的值有：<code>"pre" | "post"</code></p>
<p>指定 loader 种类。没有值表示是普通 loader。</p>
<p>还有一个额外的种类"行内 loader"，loader 被应用在 import/require 行内。</p>
<p>所有一个接一个地进入的 loader，都有两个阶段：</p>
<ol>
<li><strong>Pitching</strong> 阶段: loader 上的 pitch 方法，按照 <code>后置(post)、行内(normal)、普通(inline)、前置(pre)</code> 的顺序调用。更多详细信息，请查看 <a href="/api/loaders/#pitching-loader">Pitching Loader</a>。</li>
<li><strong>Normal</strong> 阶段: loader 上的 常规方法，按照 <code>前置(pre)、行内(normal)、普通(inline)、后置(post)</code> 的顺序调用。模块源码的转换，
发生在这个阶段。</li>
</ol>
<p>所有普通 loader 可以通过在请求中加上 <code>!</code> 前缀来忽略（覆盖）。</p>
<p>所有普通和前置 loader 可以通过在请求中加上 <code>-!</code> 前缀来忽略（覆盖）。</p>
<p>所有普通，后置和前置 loader 可以通过在请求中加上 <code>!!</code> 前缀来忽略（覆盖）。</p>
<pre><code class="hljs language-javascript"><span class="token comment">// 禁用普通 loaders</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> a <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'!./file1.js'</span><span class="token punctuation">;</span>

<span class="token comment">// 禁用前置和普通 loaders</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> b <span class="token punctuation">}</span> <span class="token keyword">from</span>  <span class="token string">'-!./file2.js'</span><span class="token punctuation">;</span>

<span class="token comment">// 禁用所有的 laoders</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> c <span class="token punctuation">}</span> <span class="token keyword">from</span>  <span class="token string">'!!./file3.js'</span><span class="token punctuation">;</span></code></pre>
<p>Inline loaders and <code>!</code> prefixes should not be used as they are non-standard. They may be use by loader generated code.</p>
<h2 id="ruleexclude"><code>Rule.exclude</code><a href="#ruleexclude" aria-hidden="true"><span class="icon icon-link"></span></a></h2>
<p>排除所有符合条件的模块。如果你提供了 <code>Rule.exclude</code> 选项，就不能再提供 <code>Rule.resource</code>。详细请查看 <a href="#rule-resource"><code>Rule.resource</code></a> 和 <a href="#condition"><code>Condition.exclude</code></a>。</p>
<h2 id="ruleinclude"><code>Rule.include</code><a href="#ruleinclude" aria-hidden="true"><span class="icon icon-link"></span></a></h2>
<p>引入符合以下任何条件的模块。如果你提供了 <code>Rule.include</code> 选项，就不能再提供 <code>Rule.resource</code>。详细请查看 <a href="#rule-resource"><code>Rule.resource</code></a> 和 <a href="#condition"><code>Condition.include</code></a>。</p>
<h2 id="ruleissuer"><code>Rule.issuer</code><a href="#ruleissuer" aria-hidden="true"><span class="icon icon-link"></span></a></h2>
<p>一个<a href="#condition"><code>条件</code></a>，用来与被发出的 request 对应的模块项匹配。在以下示例中，<code>a.js</code> request 的<code>发出者(issuer)</code>
是 index.js 文件的路径。</p>
<p><strong>index.js</strong></p>
<pre><code class="hljs language-javascript"><span class="token keyword">import</span> <span class="token constant">A</span> <span class="token keyword">from</span> <span class="token string">'./a.js'</span><span class="token punctuation">;</span></code></pre>
<p>这个选项可以用来将 loader 应用到一个特定模块或一组模块的依赖中。</p>
<h2 id="ruleloader"><code>Rule.loader</code><a href="#ruleloader" aria-hidden="true"><span class="icon icon-link"></span></a></h2>
<p><code>Rule.loader</code> 是 <code>Rule.use: [ { loader } ]</code> 的简写。详细请查看 <a href="#rule-use"><code>Rule.use</code></a> 和 <a href="#useentry"><code>UseEntry.loader</code></a>。</p>
<h2 id="ruleloaders"><code>Rule.loaders</code><a href="#ruleloaders" aria-hidden="true"><span class="icon icon-link"></span></a></h2>
<blockquote class="warning">
<p> 由于需要支持 <code>Rule.use</code>，此选项 <strong>已废弃</strong>。</p>
</blockquote>
<p><code>Rule.loaders</code> 是 <code>Rule.use</code> 的别名。详细请查看 <a href="#rule-use"><code>Rule.use</code></a>。</p>
<h2 id="ruleoneof"><code>Rule.oneOf</code><a href="#ruleoneof" aria-hidden="true"><span class="icon icon-link"></span></a></h2>
<p><a href="#rule"><code>规则</code></a>数组，当规则匹配时，只使用第一个匹配规则。</p>
<p><strong>webpack.config.js</strong></p>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  module<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    rules<span class="token punctuation">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        test<span class="token punctuation">:</span> <span class="token regex">/\\.css$/</span><span class="token punctuation">,</span>
        oneOf<span class="token punctuation">:</span> <span class="token punctuation">[</span>
          <span class="token punctuation">{</span>
            resourceQuery<span class="token punctuation">:</span> <span class="token regex">/inline/</span><span class="token punctuation">,</span> <span class="token comment">// foo.css?inline</span>
            use<span class="token punctuation">:</span> <span class="token string">'url-loader'</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">{</span>
            resourceQuery<span class="token punctuation">:</span> <span class="token regex">/external/</span><span class="token punctuation">,</span> <span class="token comment">// foo.css?external</span>
            use<span class="token punctuation">:</span> <span class="token string">'file-loader'</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">]</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<blockquote class="tip">
<p>详情请参阅 <a href="#nested-rules"><code>嵌套规则</code></a>。</p>
</blockquote>
<h2 id="ruleoptions--rulequery"><code>Rule.options</code> / <code>Rule.query</code><a href="#ruleoptions--rulequery" aria-hidden="true"><span class="icon icon-link"></span></a></h2>
<p><code>Rule.options</code> 和 <code>Rule.query</code> 是 <code>Rule.use: [ { options } ]</code> 的简写。详细请查看 <a href="#rule-use"><code>Rule.use</code></a>
和 <a href="#useentry"><code>UseEntry.options</code></a>。</p>
<blockquote class="warning">
<p>由于需要支持 <code>Rule.options</code> 和 <code>UseEntry.options</code>，<code>Rule.use</code>，<code>Rule.query</code> 已废弃。</p>
</blockquote>
<h2 id="ruleparser"><code>Rule.parser</code><a href="#ruleparser" aria-hidden="true"><span class="icon icon-link"></span></a></h2>
<p>解析选项对象。所有应用的解析选项都将合并。</p>
<p>解析器(parser)可以查阅这些选项，并相应地禁用或重新配置。大多数默认插件，
会如下解释值：</p>
<ul>
<li>将选项设置为 <code>false</code>，将禁用解析器。</li>
<li>将选项设置为 <code>true</code>，或不修改将其保留为 <code>undefined</code>，可以启用解析器。</li>
</ul>
<p>然而，一些解析器(parser)插件可能不光只接收一个布尔值。例如，内部的 <code>NodeStuffPlugin</code> 插件，可以接收一个对象，而不是 <code>true</code>，
来为特定的规则添加额外的选项。</p>
<p><strong>示例</strong>（默认的插件解析器选项）：</p>
<pre><code class="hljs language-js-with-links">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  module<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    rules<span class="token punctuation">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        <span class="token comment">//...</span>
        parser<span class="token punctuation">:</span> <span class="token punctuation">{</span>
          amd<span class="token punctuation">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token comment">// 禁用 AMD</span>
          commonjs<span class="token punctuation">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token comment">// 禁用 CommonJS</span>
          system<span class="token punctuation">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token comment">// 禁用 SystemJS</span>
          harmony<span class="token punctuation">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token comment">// 禁用 ES2015 Harmony import/export</span>
          requireInclude<span class="token punctuation">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token comment">// 禁用 require.include</span>
          requireEnsure<span class="token punctuation">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token comment">// 禁用 require.ensure</span>
          requireContext<span class="token punctuation">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token comment">// 禁用 require.context</span>
          browserify<span class="token punctuation">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token comment">// 禁用特殊处理的 browserify bundle</span>
          requireJs<span class="token punctuation">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token comment">// 禁用 requirejs.*</span>
          node<span class="token punctuation">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token comment">// 禁用 __dirname, __filename, module, require.extensions, require.main, 等。</span>
          node<span class="token punctuation">:</span> <span class="token punctuation">{</span><span class="token operator">...</span><span class="token punctuation">}</span> <span class="token comment">// 在模块级别(module level)上重新配置 [node](/configuration/node) 层(layer)</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre>
<p>If <code>Rule.type</code> is an <code>asset</code> then <code>Rules.parser</code> option may be an object or a function that describes a condition whether to encode file contents to Base64 or emit it as a separate file into the output directory.</p>
<p>If <code>Rule.type</code> is an <code>asset</code> or <code>asset/inline</code> then <code>Rule.generator</code> option may be an object that describes the encoding of the module source or a function that encodes module's source by a custom algorithm.</p>
<p>See <a href="/guides/asset-modules/">Asset Modules guide</a> for additional information and use cases.</p>
<h2 id="ruleparserdataurlcondition"><code>Rule.parser.dataUrlCondition</code><a href="#ruleparserdataurlcondition" aria-hidden="true"><span class="icon icon-link"></span></a></h2>
<p><code>object = { maxSize number = 8096 }</code> <code>function (source, { filename, module }) => boolean</code></p>
<p>如果一个模块源码大小小于 <code>maxSize</code>，那么模块会被作为一个 Base64 编码的字符串注入到包中，
否则模块文件会被生成到输出的目标目录中。</p>
<p><strong>webpack.config.js</strong></p>
<pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  module<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    rules<span class="token punctuation">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        <span class="token comment">//...</span>
        parser<span class="token punctuation">:</span> <span class="token punctuation">{</span>
          dataUrlCondition<span class="token punctuation">:</span> <span class="token punctuation">{</span>
            maxSize<span class="token punctuation">:</span> <span class="token number">4</span> <span class="token operator">*</span> <span class="token number">1024</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre>
<p>当提供函数时，返回 <code>true</code> 值时告知 webpack 将模块作为一个 Base64 编码的字符串注入到包中，
否则模块文件会被生成到输出的目标目录中。</p>
<p><strong>webpack.config.js</strong></p>
<pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  module<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    rules<span class="token punctuation">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        <span class="token comment">//...</span>
        parser<span class="token punctuation">:</span> <span class="token punctuation">{</span>
          dataUrlCondition<span class="token punctuation">:</span> <span class="token punctuation">(</span>source<span class="token punctuation">,</span> <span class="token punctuation">{</span> filename<span class="token punctuation">,</span> module <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
            <span class="token keyword">const</span> content <span class="token operator">=</span> source<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">return</span> content<span class="token punctuation">.</span><span class="token function">includes</span><span class="token punctuation">(</span><span class="token string">'some marker'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre>
<h2 id="rulegeneratordataurl"><code>Rule.generator.dataUrl</code><a href="#rulegeneratordataurl" aria-hidden="true"><span class="icon icon-link"></span></a></h2>
<p><code>object = { encoding string = 'base64' | false, mimetype string = undefined | false }</code> <code>function (content, { filename, module }) => string</code></p>
<p>当 <code>Rule.generator.dataUrl</code> 被用作一个对象，你可以配置两个属性：</p>
<ul>
<li>encoding: 当被设置为<code>'base64'</code>，模块源码会用 Baes64算法 编码。设置 <code>encoding</code> 为 false，会禁用编码。</li>
<li>mimetype: 为数据链接(data URI)设置的一个 mimetype 值。默认根据模块资源后缀设置。</li>
</ul>
<p><strong>webpack.config.js</strong></p>
<pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  module<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    rules<span class="token punctuation">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        <span class="token comment">//...</span>
        generator<span class="token punctuation">:</span> <span class="token punctuation">{</span>
          encoding<span class="token punctuation">:</span> <span class="token string">'base64'</span><span class="token punctuation">,</span>
          mimetype<span class="token punctuation">:</span> <span class="token string">'mimetype/png'</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre>
<p>当被作为一个函数使用，它必须为每个模块执行且并须返回一个数据链接(data URI)字符串。</p>
<pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  module<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    rules<span class="token punctuation">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        <span class="token comment">//...</span>
        generator<span class="token punctuation">:</span> <span class="token punctuation">{</span>
          dataUrl<span class="token punctuation">:</span> content <span class="token operator">=></span> <span class="token punctuation">{</span>
            <span class="token keyword">const</span> svgToMiniDataURI <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'mini-svg-data-uri'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> content <span class="token operator">!==</span> <span class="token string">'string'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
              content <span class="token operator">=</span> content<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            <span class="token keyword">return</span> <span class="token function">svgToMiniDataURI</span><span class="token punctuation">(</span>content<span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre>
<h2 id="rulegeneratorfilename"><code>Rule.generator.filename</code><a href="#rulegeneratorfilename" aria-hidden="true"><span class="icon icon-link"></span></a></h2>
<p>对某些特定的规则而言与 <a href="/configuration/output/#outputassetmodulefilename"><code>output.assetModuleFilename</code></a> 相同. 覆盖了 <code>output.assetModuleFilename</code> 选项并且仅与 <code>asset</code> 和 <code>asset/resource</code> 模块类型一同起作用。</p>
<p><strong>webpack.config.js</strong></p>
<pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  output<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    assetModuleFilename<span class="token punctuation">:</span> <span class="token string">'images/[hash][ext]'</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  module<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    rules<span class="token punctuation">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        test<span class="token punctuation">:</span> <span class="token regex">/\.png/</span><span class="token punctuation">,</span>
        type<span class="token punctuation">:</span> <span class="token string">'asset/resource'</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        test<span class="token punctuation">:</span> <span class="token regex">/\.html/</span><span class="token punctuation">,</span>
        type<span class="token punctuation">:</span> <span class="token string">'asset/resource'</span><span class="token punctuation">,</span>
        generator<span class="token punctuation">:</span> <span class="token punctuation">{</span>
          filename<span class="token punctuation">:</span> <span class="token string">'static/[hash][ext]'</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre>
<h2 id="ruleresource"><code>Rule.resource</code><a href="#ruleresource" aria-hidden="true"><span class="icon icon-link"></span></a></h2>
<p><a href="#%E6%9D%A1%E4%BB%B6"><code>条件</code></a>会匹配 resource。在 <a href="#rule-conditions"><code>Rule</code> 条件</a> 中查阅详情。</p>
<h2 id="ruleresourcequery"><code>Rule.resourceQuery</code><a href="#ruleresourcequery" aria-hidden="true"><span class="icon icon-link"></span></a></h2>
<p>A <a href="#condition"><code>Condition</code></a> matched with the resource query. This option is used to test against the query section of a request string (i.e. from the question mark onwards). If you were to <code>import Foo from './foo.css?inline'</code>, the following condition would match:</p>
<p><strong>webpack.config.js</strong></p>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  module<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    rules<span class="token punctuation">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        test<span class="token punctuation">:</span> <span class="token regex">/\\.css$/</span><span class="token punctuation">,</span>
        resourceQuery<span class="token punctuation">:</span> <span class="token regex">/inline/</span><span class="token punctuation">,</span>
        use<span class="token punctuation">:</span> <span class="token string">'url-loader'</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<h2 id="ruleparserparse"><code>Rule.parser.parse</code><a href="#ruleparserparse" aria-hidden="true"><span class="icon icon-link"></span></a></h2>
<p><code>function(input) => string | object</code></p>
<p>如果 <code>Rule.type</code> 被设置成  <code>'json'</code>，那么 <code>Rules.parser.parse</code> 选择可能会是一个方法，该方法实现自定义的逻辑，以解析模块的源和并将它转换成 JavaScript <code>对象</code>。
它可能在没有特定加载器的时候，对将 <code>toml</code>, <code>yaml</code> 和其它非JSON文件导入成导入非常有用：</p>
<p><strong>webpack.config.js</strong></p>
<pre><code class="hljs language-javascript"><span class="token keyword">const</span> toml <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'toml'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  module<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    rules<span class="token punctuation">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        test<span class="token punctuation">:</span> <span class="token regex">/\.toml/</span><span class="token punctuation">,</span>
        type<span class="token punctuation">:</span> <span class="token string">'json'</span><span class="token punctuation">,</span>
        parser<span class="token punctuation">:</span> <span class="token punctuation">{</span>
          parse<span class="token punctuation">:</span> toml<span class="token punctuation">.</span>parse
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<h2 id="rulerules"><code>Rule.rules</code><a href="#rulerules" aria-hidden="true"><span class="icon icon-link"></span></a></h2>
<p><a href="#rule"><code>规则</code></a>数组，当规则匹配时使用。</p>
<blockquote class="tip">
<p>详情参阅 <a href="#nested-rules"><code>嵌套规则</code></a> 。</p>
</blockquote>
<h2 id="rulesideeffects"><code>Rule.sideEffects</code><a href="#rulesideeffects" aria-hidden="true"><span class="icon icon-link"></span></a></h2>
<p><code>bool</code></p>
<p>表明模块的哪一部份包含副作用。详情参阅 <a href="/guides/tree-shaking/#mark-the-file-as-side-effect-free">Tree Shaking</a>。</p>
<h2 id="ruletest"><code>Rule.test</code><a href="#ruletest" aria-hidden="true"><span class="icon icon-link"></span></a></h2>
<p>引入所有通过断言测试的模块。如果你提供了一个 <code>Rule.test</code> 选项，就不能再提供 <code>Rule.resource</code>。详细请查看 <a href="#rule-resource"><code>Rule.resource</code></a> 和 <a href="#condition"><code>Condition.test</code></a>。</p>
<h2 id="ruletype"><code>Rule.type</code><a href="#ruletype" aria-hidden="true"><span class="icon icon-link"></span></a></h2>
<p><code>string</code></p>
<p>可设置值: <code>'javascript/auto' | 'javascript/dynamic' | 'javascript/esm' | 'json' | 'webassembly/sync' | 'webassembly/async' | 'asset' | 'asset/source' | 'asset/resource' | 'asset/inline'</code></p>
<p><code>Rule.type</code> 设置类型用于匹配模块。它防止了 <code>defaultRules</code> 和它们的默认导入行为发生。例如，如果你想
通过自定义 loader 加载一个 <code>.json</code> 文件，你会需要将 <code>type</code> 设置为 <code>javascript/auto</code> 以绕过 webpack 内置的 json 导入。
（详参<a href="https://github.com/webpack/webpack/releases/tag/v4.0.0">v4.0 更新日志</a>）</p>
<p><strong>webpack.config.js</strong></p>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  module<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    rules<span class="token punctuation">:</span> <span class="token punctuation">[</span>
      <span class="token comment">//...</span>
      <span class="token punctuation">{</span>
        test<span class="token punctuation">:</span> <span class="token regex">/\\.json$/</span><span class="token punctuation">,</span>
        type<span class="token punctuation">:</span> <span class="token string">'javascript/auto'</span><span class="token punctuation">,</span>
        loader<span class="token punctuation">:</span> <span class="token string">'custom-json-loader'</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<blockquote>
<p>关于 <code>asset*</code> 类型详参 <a href="/guides/asset-modules/">资源模块指南</a> 。</p>
</blockquote>
<h2 id="ruleuse"><code>Rule.use</code><a href="#ruleuse" aria-hidden="true"><span class="icon icon-link"></span></a></h2>
<p><code>[UseEntry]</code> <code>function(info)</code></p>
<p><strong><code>[UseEntry]</code></strong></p>
<p><code>Rule.use</code> 可以是一个应用于模块的 <a href="#useentry">UseEntries</a> 数组。每个入口(entry)指定使用一个 loader。</p>
<p>传递字符串（如：<code>use: [ 'style-loader' ]</code>）是 loader 属性的简写方式（如：<code>use: [ { loader: 'style-loader'} ]</code>）。</p>
<p>Loaders 可以通过传入多个 loaders 以达到链式调用的效果，它们会从右到左被应用（从最后到最先配置）。</p>
<p><strong>webpack.config.js</strong></p>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  module<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    rules<span class="token punctuation">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        <span class="token comment">//...</span>
        use<span class="token punctuation">:</span> <span class="token punctuation">[</span>
          <span class="token string">'style-loader'</span><span class="token punctuation">,</span>
          <span class="token punctuation">{</span>
            loader<span class="token punctuation">:</span> <span class="token string">'css-loader'</span><span class="token punctuation">,</span>
            options<span class="token punctuation">:</span> <span class="token punctuation">{</span>
              importLoaders<span class="token punctuation">:</span> <span class="token number">1</span>
            <span class="token punctuation">}</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">{</span>
            loader<span class="token punctuation">:</span> <span class="token string">'less-loader'</span><span class="token punctuation">,</span>
            options<span class="token punctuation">:</span> <span class="token punctuation">{</span>
              noIeCompat<span class="token punctuation">:</span> <span class="token boolean">true</span>
            <span class="token punctuation">}</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">]</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<p><strong><code>function(info)</code></strong></p>
<p><code>Rule.use</code> 也可以是一个函数，接受对象参数，描述被加载的模块，而且必须
返回 <code>UseEntry</code> 元素的数组。</p>
<p><code>info</code> 对象参数有以下的字段：</p>
<ul>
<li><code>compiler</code>: 当前 webpack 的编译器（可以是 undefined 值）</li>
<li><code>issuer</code>: 模块的路径，该元素正在导入一个被加载的模块(resource)</li>
<li><code>realResource</code>: 总会是被加载模块的路径</li>
<li><code>resource</code>: 被加载的模块路径，它常常与 <code>realResource</code> 相等，只有当资源名称被 request 字符串中的 <code>!=!</code> 覆盖时才不相等</li>
</ul>
<p>相同的作为数组的快捷方式可以用作返回值（如 <code>use: [ 'style-loader' ]</code>）。</p>
<p><strong>webpack.config.js</strong></p>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  module<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    rules<span class="token punctuation">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        use<span class="token punctuation">:</span> <span class="token punctuation">(</span>info<span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">(</span><span class="token punctuation">[</span>
          <span class="token punctuation">{</span>
            loader<span class="token punctuation">:</span> <span class="token string">'custom-svg-loader'</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">{</span>
            loader<span class="token punctuation">:</span> <span class="token string">'svgo-loader'</span><span class="token punctuation">,</span>
            options<span class="token punctuation">:</span> <span class="token punctuation">{</span>
              plugins<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span>
                cleanupIDs<span class="token punctuation">:</span> <span class="token punctuation">{</span> prefix<span class="token punctuation">:</span> <span class="token function">basename</span><span class="token punctuation">(</span>info<span class="token punctuation">.</span>resource<span class="token punctuation">)</span> <span class="token punctuation">}</span>
              <span class="token punctuation">}</span><span class="token punctuation">]</span>
            <span class="token punctuation">}</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">]</span><span class="token punctuation">)</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<p>参参 <a href="#useentry">UseEntry</a>。</p>
<h2 id="ruleresolve"><code>Rule.resolve</code><a href="#ruleresolve" aria-hidden="true"><span class="icon icon-link"></span></a></h2>
<blockquote class="warning">
<p><code>Rule.resolve</code> 从 webpack 4.36.1 起可用</p>
</blockquote>
<p>模块解析可以在模块层被配置。<a href="/configuration/resolve/#resolve">resolve 配置页面</a>可查看所有可用的配置。
所有被应用的 resolve 选项被更高层级的<a href="/configuration/resolve/#resolve">resolve</a>配置合并。</p>
<p>例如，假设我们有一个入口文件在 <code>./src/index.js</code>, <code>./src/footer/default.js</code> 和一个  <code>./src/footer/overridden.js</code>，
用以论证模块层级的解析。</p>
<p><strong>./src/index.js</strong></p>
<pre><code class="hljs language-javascript"><span class="token keyword">import</span> footer <span class="token keyword">from</span> <span class="token string">'footer'</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>footer<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
<p><strong>./src/footer/default.js</strong></p>
<pre><code class="hljs language-javascript"><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token string">'default footer'</span><span class="token punctuation">;</span></code></pre>
<p><strong>./src/footer/overridden.js</strong></p>
<pre><code class="hljs language-javascript"><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token string">'overridden footer'</span><span class="token punctuation">;</span></code></pre>
<p><strong>webpack.js.org</strong></p>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  resolve<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    alias<span class="token punctuation">:</span> <span class="token punctuation">{</span>
      <span class="token string">'footer'</span><span class="token punctuation">:</span> <span class="token string">'./footer/default.js'</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<p>当用该配置创建一个包，<code>console.log(footer)</code> 会输出 'default footer'。让我们为 <code>.js</code> 文件设置 <code>Rule.resolve</code>，以及
<code>footer</code> 作为 <code>overridden.js</code> 的别名。</p>
<p><strong>webpack.js.org</strong></p>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  resolve<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    alias<span class="token punctuation">:</span> <span class="token punctuation">{</span>
      <span class="token string">'footer'</span><span class="token punctuation">:</span> <span class="token string">'./footer/default.js'</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  module<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    rules<span class="token punctuation">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        resolve<span class="token punctuation">:</span> <span class="token punctuation">{</span>
          alias<span class="token punctuation">:</span> <span class="token punctuation">{</span>
            <span class="token string">'footer'</span><span class="token punctuation">:</span> <span class="token string">'./footer/overridden.js'</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<p>当用该配置创建一个包，<code>console.log(footer)</code> 会输出 'overridden footer'。</p>
<h2 id="条件"><code>条件</code><a href="#%E6%9D%A1%E4%BB%B6" aria-hidden="true"><span class="icon icon-link"></span></a></h2>
<p>条件可以是这些之一：</p>
<ul>
<li>字符串：匹配输入必须以提供的字符串开始。是的。目录绝对路径或文件绝对路径。</li>
<li>正则表达式：test 输入值。</li>
<li>函数：调用输入的函数，必须返回一个真值(truthy value)以匹配。</li>
<li>条件数组：至少一个匹配条件。</li>
<li>对象：匹配所有属性。每个属性都有一个定义行为。</li>
</ul>
<p><code>{ and: [Condition] }</code>：必须匹配数组中的所有条件</p>
<p><code>{ or: [Condition] }</code>：匹配数组中任何一个条件</p>
<p><code>{ not: [Condition] }</code>：必须排除这个条件</p>
<p><strong>示例:</strong></p>
<pre><code class="hljs language-javascript"><span class="token keyword">const</span> path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'path'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  module<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    rules<span class="token punctuation">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        test<span class="token punctuation">:</span> <span class="token regex">/\\.css$/</span><span class="token punctuation">,</span>
        include<span class="token punctuation">:</span> <span class="token punctuation">[</span>
          path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">'app/styles'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
          path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">'vendor/styles'</span><span class="token punctuation">)</span>
        <span class="token punctuation">]</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<h2 id="useentry"><code>UseEntry</code><a href="#useentry" aria-hidden="true"><span class="icon icon-link"></span></a></h2>
<p><code>object</code> <code>function(info)</code></p>
<p><strong><code>object</code></strong></p>
<p>必须有一个 <code>loader</code> 属性是字符串。它使用 loader 解析选项（<a href="/configuration/resolve#resolveloader">resolveLoader</a>），相对于配置中的 <a href="/configuration/entry-context#context"><code>context</code></a> 来解析。</p>
<p>可以有一个 <code>options</code> 属性为字符串或对象。值可以传递到 loader 中，将其理解为 loader 选项。</p>
<p>由于兼容性原因，也可能有 <code>query</code> 属性，它是 <code>options</code> 属性的别名。使用 <code>options</code> 属性替代。</p>
<p>注意，webpack 需要生成资源和所有 loader 的独立模块标识，包括选项。
它尝试对选项对象使用 <code>JSON.stringify</code>。这在 99.9% 的情况下是可以的，
但是如果将相同的 loader 应用于相同资源的不同选项，并且选项具有一些带字符的值，则可能不是唯一的。</p>
<p>如果选项对象不被字符化（例如循环 JSON），它也会中断。因此，你可以在选项对象使用 <code>ident</code> 属性，
作为唯一标识符。</p>
<p><strong>webpack.config.js</strong></p>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  module<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    rules<span class="token punctuation">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        loader<span class="token punctuation">:</span> <span class="token string">'css-loader'</span><span class="token punctuation">,</span>
        options<span class="token punctuation">:</span> <span class="token punctuation">{</span>
          modules<span class="token punctuation">:</span> <span class="token boolean">true</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<p><strong><code>function(info)</code></strong></p>
<p><code>UseEntry</code> 也可以是一个函数，接受对象参数，描述被加载的模块，而且必须返回一个参数对象。
这可用于按模块更改 loader 选项。</p>
<p><code>info</code> 对象参数有以下的字段：</p>
<ul>
<li><code>compiler</code>: 当前 webpack 的编译器（可以是 undefined 值）</li>
<li><code>issuer</code>: 模块的路径，该元素正在导入一个被加载的模块(resource)</li>
<li><code>realResource</code>: 总会是被加载模块的路径</li>
<li><code>resource</code>: 被加载的模块路径，它常常与 <code>realResource</code> 相等，只有当资源名称被 request 字符串中的 <code>!=!</code> 覆盖时才不相等</li>
</ul>
<p><strong>webpack.config.js</strong></p>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  module<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    rules<span class="token punctuation">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        loader<span class="token punctuation">:</span> <span class="token string">'file-loader'</span><span class="token punctuation">,</span>
        options<span class="token punctuation">:</span> <span class="token punctuation">{</span>
          outputPath<span class="token punctuation">:</span> <span class="token string">'svgs'</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">(</span>info<span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">(</span><span class="token punctuation">{</span>
        loader<span class="token punctuation">:</span> <span class="token string">'svgo-loader'</span><span class="token punctuation">,</span>
        options<span class="token punctuation">:</span> <span class="token punctuation">{</span>
          plugins<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span>
            cleanupIDs<span class="token punctuation">:</span> <span class="token punctuation">{</span> prefix<span class="token punctuation">:</span> <span class="token function">basename</span><span class="token punctuation">(</span>info<span class="token punctuation">.</span>resource<span class="token punctuation">)</span> <span class="token punctuation">}</span>
          <span class="token punctuation">}</span><span class="token punctuation">]</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<h2 id="模块上下文module-contexts">模块上下文(Module Contexts)<a href="#%E6%A8%A1%E5%9D%97%E4%B8%8A%E4%B8%8B%E6%96%87module-contexts" aria-hidden="true"><span class="icon icon-link"></span></a></h2>
<blockquote>
<p>避免使用这些选项，因为它们 <strong>已废弃</strong>，并将很快删除。</p>
</blockquote>
<p>这些选项描述了当遇到动态依赖时，创建上下文的默认设置。</p>
<p>例如，<code>未知的(unknown)</code> 动态依赖：<code>require</code>。</p>
<p>例如，<code>表达式(expr)</code> 动态依赖：<code>require(expr)</code>。</p>
<p>例如，<code>包裹的(wrapped)</code> 动态依赖：<code>require('./templates/' + expr)</code>。</p>
<p>以下是其<a href="https://github.com/webpack/webpack/blob/master/lib/WebpackOptionsDefaulter.js">默认值</a>的可用选项</p>
<p><strong>webpack.config.js</strong></p>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  module<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    exprContextCritical<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    exprContextRecursive<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    exprContextRegExp<span class="token punctuation">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
    exprContextRequest<span class="token punctuation">:</span> <span class="token string">'.'</span><span class="token punctuation">,</span>
    unknownContextCritical<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    unknownContextRecursive<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    unknownContextRegExp<span class="token punctuation">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
    unknownContextRequest<span class="token punctuation">:</span> <span class="token string">'.'</span><span class="token punctuation">,</span>
    wrappedContextCritical<span class="token punctuation">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
    wrappedContextRecursive<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    wrappedContextRegExp<span class="token punctuation">:</span> <span class="token regex">/.*/</span><span class="token punctuation">,</span>
    strictExportPresence<span class="token punctuation">:</span> <span class="token boolean">false</span> <span class="token comment">// since webpack 2.3.0</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<blockquote class="tip">
<p>你可以使用 <code>ContextReplacementPlugin</code> 来修改这些单个依赖的值。这也会删除警告。</p>
</blockquote>
<p>几个用例：</p>
<ul>
<li>动态依赖的警告：<code>wrappedContextCritical: true</code>。</li>
<li><code>require(expr)</code> 应该包含整个目录：<code>exprContextRegExp: /^\.\//</code></li>
<li><code>require("./templates/" + expr)</code> 不应该包含默认子目录：<code>wrappedContextRecursive: false</code></li>
<li><code>strictExportPresence</code> 将缺失的导出提示成错误而不是警告</li>
</ul>
<h1 id="解析resolve">解析(Resolve)<a href="#%E8%A7%A3%E6%9E%90resolve" aria-hidden="true"><span class="icon icon-link"></span></a></h1>
<p>这些选项能设置模块如何被解析。webpack 提供合理的默认值，但是还是可能会修改一些解析的细节。
关于 resolver 具体如何工作的更多解释说明，请查看<a href="/concepts/module-resolution">模块解析</a>。</p>
<h2 id="resolve"><code>resolve</code><a href="#resolve" aria-hidden="true"><span class="icon icon-link"></span></a></h2>
<p><code>object</code></p>
<p>配置模块如何解析。例如，当在 ES2015 中调用 <code>import 'lodash'</code>，<code>resolve</code> 选项能够对 webpack 查找 <code>'lodash'</code> 的方式去做修改（查看<a href="#resolve-modules"><code>模块</code></a>）。</p>
<p><strong>webpack.config.js</strong></p>
<pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  resolve<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    <span class="token comment">// configuration options</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<h3 id="resolvealias"><code>resolve.alias</code><a href="#resolvealias" aria-hidden="true"><span class="icon icon-link"></span></a></h3>
<p><code>object</code></p>
<p>创建 <code>import</code> 或 <code>require</code> 的别名，来确保模块引入变得更简单。例如，一些位于 <code>src/</code> 文件夹下的常用模块：</p>
<p><strong>webpack.config.js</strong></p>
<pre><code class="hljs language-js"><span class="token keyword">const</span> path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'path'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  resolve<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    alias<span class="token punctuation">:</span> <span class="token punctuation">{</span>
      Utilities<span class="token punctuation">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">'src/utilities/'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
      Templates<span class="token punctuation">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">'src/templates/'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<p>现在，替换“在导入时使用相对路径”这种方式，就像这样：</p>
<pre><code class="hljs language-js"><span class="token keyword">import</span> Utility <span class="token keyword">from</span> <span class="token string">'../../utilities/utility'</span><span class="token punctuation">;</span></code></pre>
<p>你可以这样使用别名：</p>
<pre><code class="hljs language-js"><span class="token keyword">import</span> Utility <span class="token keyword">from</span> <span class="token string">'Utilities/utility'</span><span class="token punctuation">;</span></code></pre>
<p>也可以在给定对象的键后的末尾添加 <code>$</code>，以表示精准匹配：</p>
<p><strong>webpack.config.js</strong></p>
<pre><code class="hljs language-js"><span class="token keyword">const</span> path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'path'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  resolve<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    alias<span class="token punctuation">:</span> <span class="token punctuation">{</span>
      xyz$<span class="token punctuation">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">'path/to/file.js'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<p>这将产生以下结果：</p>
<pre><code class="hljs language-js"><span class="token keyword">import</span> Test1 <span class="token keyword">from</span> <span class="token string">'xyz'</span><span class="token punctuation">;</span> <span class="token comment">// 精确匹配，所以 path/to/file.js 被解析和导入</span>
<span class="token keyword">import</span> Test2 <span class="token keyword">from</span> <span class="token string">'xyz/file.js'</span><span class="token punctuation">;</span> <span class="token comment">// 非精确匹配，触发普通解析</span></code></pre>
<p>下面的表格展示了一些其他情况：</p>
<table>
<thead>
<tr>
<th><code>alias:</code></th>
<th><code>import 'xyz'</code></th>
<th><code>import 'xyz/file.js'</code></th>
</tr>
</thead>
<tbody>
<tr>
<td><div class="title"><p>alias:</p><p>import 'xyz'</p><p>import 'xyz/file.js'</p></div>
<div class="content"><p><code>{}</code><p class="description mobile"><code>/abc/node_modules/xyz/index.js</code></p></p></div></td>
<td class="description desktop"><code>/abc/node_modules/xyz/index.js</code></td>
<td><code>/abc/node_modules/xyz/file.js</code></td>
</tr>
<tr>
<td><div class="title"><p>alias:</p><p>import 'xyz'</p><p>import 'xyz/file.js'</p></div>
<div class="content"><p><code>{ xyz: '/abc/path/to/file.js' }</code><p class="description mobile"><code>/abc/path/to/file.js</code></p></p></div></td>
<td class="description desktop"><code>/abc/path/to/file.js</code></td>
<td>error</td>
</tr>
<tr>
<td><div class="title"><p>alias:</p><p>import 'xyz'</p><p>import 'xyz/file.js'</p></div>
<div class="content"><p><code>{ xyz$: '/abc/path/to/file.js' }</code><p class="description mobile"><code>/abc/path/to/file.js</code></p></p></div></td>
<td class="description desktop"><code>/abc/path/to/file.js</code></td>
<td><code>/abc/node_modules/xyz/file.js</code></td>
</tr>
<tr>
<td><div class="title"><p>alias:</p><p>import 'xyz'</p><p>import 'xyz/file.js'</p></div>
<div class="content"><p><code>{ xyz: './dir/file.js' }</code><p class="description mobile"><code>/abc/dir/file.js</code></p></p></div></td>
<td class="description desktop"><code>/abc/dir/file.js</code></td>
<td>error</td>
</tr>
<tr>
<td><div class="title"><p>alias:</p><p>import 'xyz'</p><p>import 'xyz/file.js'</p></div>
<div class="content"><p><code>{ xyz$: './dir/file.js' }</code><p class="description mobile"><code>/abc/dir/file.js</code></p></p></div></td>
<td class="description desktop"><code>/abc/dir/file.js</code></td>
<td><code>/abc/node_modules/xyz/file.js</code></td>
</tr>
<tr>
<td><div class="title"><p>alias:</p><p>import 'xyz'</p><p>import 'xyz/file.js'</p></div>
<div class="content"><p><code>{ xyz: '/some/dir' }</code><p class="description mobile"><code>/some/dir/index.js</code></p></p></div></td>
<td class="description desktop"><code>/some/dir/index.js</code></td>
<td><code>/some/dir/file.js</code></td>
</tr>
<tr>
<td><div class="title"><p>alias:</p><p>import 'xyz'</p><p>import 'xyz/file.js'</p></div>
<div class="content"><p><code>{ xyz$: '/some/dir' }</code><p class="description mobile"><code>/some/dir/index.js</code></p></p></div></td>
<td class="description desktop"><code>/some/dir/index.js</code></td>
<td><code>/abc/node_modules/xyz/file.js</code></td>
</tr>
<tr>
<td><div class="title"><p>alias:</p><p>import 'xyz'</p><p>import 'xyz/file.js'</p></div>
<div class="content"><p><code>{ xyz: './dir' }</code><p class="description mobile"><code>/abc/dir/index.js</code></p></p></div></td>
<td class="description desktop"><code>/abc/dir/index.js</code></td>
<td><code>/abc/dir/file.js</code></td>
</tr>
<tr>
<td><div class="title"><p>alias:</p><p>import 'xyz'</p><p>import 'xyz/file.js'</p></div>
<div class="content"><p><code>{ xyz: 'modu' }</code><p class="description mobile"><code>/abc/node_modules/modu/index.js</code></p></p></div></td>
<td class="description desktop"><code>/abc/node_modules/modu/index.js</code></td>
<td><code>/abc/node_modules/modu/file.js</code></td>
</tr>
<tr>
<td><div class="title"><p>alias:</p><p>import 'xyz'</p><p>import 'xyz/file.js'</p></div>
<div class="content"><p><code>{ xyz$: 'modu' }</code><p class="description mobile"><code>/abc/node_modules/modu/index.js</code></p></p></div></td>
<td class="description desktop"><code>/abc/node_modules/modu/index.js</code></td>
<td><code>/abc/node_modules/xyz/file.js</code></td>
</tr>
<tr>
<td><div class="title"><p>alias:</p><p>import 'xyz'</p><p>import 'xyz/file.js'</p></div>
<div class="content"><p><code>{ xyz: 'modu/some/file.js' }</code><p class="description mobile"><code>/abc/node_modules/modu/some/file.js</code></p></p></div></td>
<td class="description desktop"><code>/abc/node_modules/modu/some/file.js</code></td>
<td>error</td>
</tr>
<tr>
<td><div class="title"><p>alias:</p><p>import 'xyz'</p><p>import 'xyz/file.js'</p></div>
<div class="content"><p><code>{ xyz: 'modu/dir' }</code><p class="description mobile"><code>/abc/node_modules/modu/dir/index.js</code></p></p></div></td>
<td class="description desktop"><code>/abc/node_modules/modu/dir/index.js</code></td>
<td><code>/abc/node_modules/modu/dir/file.js</code></td>
</tr>
<tr>
<td><div class="title"><p>alias:</p><p>import 'xyz'</p><p>import 'xyz/file.js'</p></div>
<div class="content"><p><code>{ xyz$: 'modu/dir' }</code><p class="description mobile"><code>/abc/node_modules/modu/dir/index.js</code></p></p></div></td>
<td class="description desktop"><code>/abc/node_modules/modu/dir/index.js</code></td>
<td><code>/abc/node_modules/xyz/file.js</code></td>
</tr>
</tbody>
</table>
<p>如果在 <code>package.json</code> 中定义，<code>index.js</code> 可能会被解析为另一个文件。</p>
<p><code>/abc/node_modules</code> 也可能在 <code>/node_modules</code> 中解析。</p>
<blockquote class="warning">
<p><code>resolve.alias</code> 优先级高于其它模块解析方式。</p>
</blockquote>
<blockquote class="warning">
<p><a href="https://github.com/webpack-contrib/null-loader"><code>null-loader</code></a> 在webpack5中被废弃。使用 <code>alias: { xyz$: false }</code> 或绝对路径 <code>alias: {[path.resolve(__dirname, './path/to/module')]: false }</code></p>
</blockquote>
<blockquote class="warning">
<p><code>[string]</code> 字符串值在 webapck 5 中被支持。</p>
</blockquote>
<pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  resolve<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    alias<span class="token punctuation">:</span> <span class="token punctuation">{</span>
      _<span class="token punctuation">:</span> <span class="token punctuation">[</span>
        path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">'src/utilities/'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">'src/templates/'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
      <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<p>将 <code>resolve.alias</code> 设置为 <code>false</code> 将告知 webpack 忽略模块。</p>
<pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  resolve<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    alias<span class="token punctuation">:</span> <span class="token punctuation">{</span>
      <span class="token string">'ignored-module'</span><span class="token punctuation">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
      <span class="token string">'./ignored-module'</span><span class="token punctuation">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<h3 id="resolvealiasfields"><code>resolve.aliasFields</code><a href="#resolvealiasfields" aria-hidden="true"><span class="icon icon-link"></span></a></h3>
<p><code>[string]: ['browser']</code></p>
<p>指定一个字段，例如 <code>browser</code>，根据
<a href="https://github.com/defunctzombie/package-browser-field-spec">此规范</a>进行解析。</p>
<p><strong>webpack.config.js</strong></p>
<pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  resolve<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    aliasFields<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">'browser'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<h3 id="resolvecachewithcontext"><code>resolve.cacheWithContext</code><a href="#resolvecachewithcontext" aria-hidden="true"><span class="icon icon-link"></span></a></h3>
<p><code>boolean</code> (从 webpack 3.1.0起支持)</p>
<p>如果启用了不安全缓存，请在缓存键(cache key)中引入 <code>request.context</code>。这个选项被 <a href="https://github.com/webpack/enhanced-resolve/"><code>enhanced-resolve</code></a> 模块考虑在内。从 webpack 3.1.0 开始，在配置了 resolve 或 resolveLoader 插件时，解析缓存(resolve caching)中的上下文(context)会被忽略。
这解决了性能衰退的问题。</p>
<h3 id="resolvedescriptionfiles"><code>resolve.descriptionFiles</code><a href="#resolvedescriptionfiles" aria-hidden="true"><span class="icon icon-link"></span></a></h3>
<p><code>[string] = ['package.json']</code></p>
<p>用于描述的 JSON 文件。</p>
<p><strong>webpack.config.js</strong></p>
<pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  resolve<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    descriptionFiles<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">'package.json'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<h3 id="resolveenforceextension"><code>resolve.enforceExtension</code><a href="#resolveenforceextension" aria-hidden="true"><span class="icon icon-link"></span></a></h3>
<p><code>boolean = false</code></p>
<p>如果是 <code>true</code>，将不允许无扩展名文件。默认如果 <code>./foo</code> 有 <code>.js</code> 扩展，<code>require('./foo')</code> 可以正常运行。但如果启用此选项，只有 <code>require('./foo.js')</code>
能够正常工作。</p>
<p><strong>webpack.config.js</strong></p>
<pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  resolve<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    enforceExtension<span class="token punctuation">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<h3 id="resolveenforcemoduleextension"><code>resolve.enforceModuleExtension</code><a href="#resolveenforcemoduleextension" aria-hidden="true"><span class="icon icon-link"></span></a></h3>
<p><code>boolean = false</code></p>
<blockquote class="warning">
<p>在 webpack 5 中被废弃</p>
</blockquote>
<p>告知 webpack 是否要求模块使用后缀（例如加载器 loaders）。</p>
<p><strong>webpack.config.js</strong></p>
<pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  resolve<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    enforceModuleExtension<span class="token punctuation">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<h3 id="resolveextensions"><code>resolve.extensions</code><a href="#resolveextensions" aria-hidden="true"><span class="icon icon-link"></span></a></h3>
<p><code>[string] = ['.wasm', '.mjs', '.js', '.json']</code></p>
<p>尝试按顺序解析这些后缀名。</p>
<blockquote class="warning">
<p>如果有多个文件有相同的名字，但后缀名不同，webpack 会解析列在数组首位的后缀的文件
并跳过其余的后缀。</p>
</blockquote>
<p><strong>webpack.config.js</strong></p>
<pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  resolve<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    extensions<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">'.wasm'</span><span class="token punctuation">,</span> <span class="token string">'.mjs'</span><span class="token punctuation">,</span> <span class="token string">'.js'</span><span class="token punctuation">,</span> <span class="token string">'.json'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<p>能够使用户在引入模块时不带扩展：</p>
<pre><code class="hljs language-js"><span class="token keyword">import</span> File <span class="token keyword">from</span> <span class="token string">'../path/to/file'</span><span class="token punctuation">;</span></code></pre>
<blockquote class="warning">
<p>使用此选项会 <strong>覆盖默认数组</strong>，这就意味着 webpack 将不再尝试使用默认扩展来解析模块。</p>
</blockquote>
<h3 id="resolvemainfields"><code>resolve.mainFields</code><a href="#resolvemainfields" aria-hidden="true"><span class="icon icon-link"></span></a></h3>
<p><code>[string]</code></p>
<p>当从 npm 包中导入模块时（例如，<code>import * as D3 from 'd3'</code>），此选项将决定在 <code>package.json</code> 中使用哪个字段导入模块。根据 webpack 配置中指定的 <a href="/concepts/targets"><code>target</code></a> 不同，默认值也会有所不同。</p>
<p>当 <code>target</code> 属性设置为 <code>webworker</code>, <code>web</code> 或者没有指定：</p>
<p><strong>webpack.config.js</strong></p>
<pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  resolve<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    mainFields<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">'browser'</span><span class="token punctuation">,</span> <span class="token string">'module'</span><span class="token punctuation">,</span> <span class="token string">'main'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<p>对于其他任意的 target（包括 <code>node</code>），默认值为：</p>
<p><strong>webpack.config.js</strong></p>
<pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  resolve<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    mainFields<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">'module'</span><span class="token punctuation">,</span> <span class="token string">'main'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<p>例如，考虑任意一个名为 <code>upstream</code> 的类库 <code>package.json</code> 包含以下字段：</p>
<pre><code class="hljs language-json"><span class="token punctuation">{</span>
  <span class="token property">"browser"</span><span class="token operator">:</span> <span class="token string">"build/upstream.js"</span><span class="token punctuation">,</span>
  <span class="token property">"module"</span><span class="token operator">:</span> <span class="token string">"index"</span>
<span class="token punctuation">}</span></code></pre>
<p>在我们 <code>import * as Upstream from 'upstream'</code> 时，这实际上会从 <code>browser</code> 属性解析文件。
在这里 <code>browser</code> 属性是最优先选择的，因为它是 <code>mainFields</code> 的第一项。同时，由 webpack 打包的 Node.js 应用程序首先会尝试
从 <code>module</code> 字段中解析文件。</p>
<h3 id="resolvemainfiles"><code>resolve.mainFiles</code><a href="#resolvemainfiles" aria-hidden="true"><span class="icon icon-link"></span></a></h3>
<p><code>[string] = ['index']</code></p>
<p>解析目录时要使用的文件名。</p>
<p><strong>webpack.config.js</strong></p>
<pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  resolve<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    mainFiles<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">'index'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<h3 id="resolvemodules"><code>resolve.modules</code><a href="#resolvemodules" aria-hidden="true"><span class="icon icon-link"></span></a></h3>
<p><code>[string] = ['node_modules']</code></p>
<p>告诉 webpack 解析模块时应该搜索的目录。</p>
<p>绝对路径和相对路径都能使用，但是要知道它们之间有一点差异。</p>
<p>通过查看当前目录以及祖先路径（即 <code>./node_modules</code>, <code>../node_modules</code> 等等），
相对路径将类似于 Node 查找 'node_modules' 的方式进行查找。</p>
<p>使用绝对路径，将只在给定目录中搜索。</p>
<p><strong>webpack.config.js</strong></p>
<pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  resolve<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    modules<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">'node_modules'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<p>如果你想要添加一个目录到模块搜索目录，此目录优先于 <code>node_modules/</code> 搜索：</p>
<p><strong>webpack.config.js</strong></p>
<pre><code class="hljs language-js"><span class="token keyword">const</span> path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'path'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  resolve<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    modules<span class="token punctuation">:</span> <span class="token punctuation">[</span>path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">'src'</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">'node_modules'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<h3 id="resolveunsafecache"><code>resolve.unsafeCache</code><a href="#resolveunsafecache" aria-hidden="true"><span class="icon icon-link"></span></a></h3>
<p><code>RegExp</code> <code>[RegExp]</code> <code>boolean: true</code></p>
<p>启用，会主动缓存模块，但并 <strong>不安全</strong>。传递 <code>true</code> 将缓存一切。</p>
<p><strong>webpack.config.js</strong></p>
<pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  resolve<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    unsafeCache<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<p>正则表达式，或正则表达式数组，可以用于匹配文件路径或只缓存某些模块。
例如，只缓存 utilities 模块：</p>
<p><strong>webpack.config.js</strong></p>
<pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  resolve<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    unsafeCache<span class="token punctuation">:</span> <span class="token regex">/src\/utilities/</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<blockquote class="warning">
<p>修改缓存路径可能在极少数情况下导致失败。</p>
</blockquote>
<h3 id="resolveplugins"><code>resolve.plugins</code><a href="#resolveplugins" aria-hidden="true"><span class="icon icon-link"></span></a></h3>
<p><a href="/plugins/"><code>[Plugin]</code></a></p>
<p>应该使用的额外的解析插件列表。
它允许插件，如 <a href="https://www.npmjs.com/package/directory-named-webpack-plugin"><code>DirectoryNamedWebpackPlugin</code></a>。</p>
<p><strong>webpack.config.js</strong></p>
<pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  resolve<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    plugins<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token keyword">new</span> <span class="token class-name">DirectoryNamedWebpackPlugin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<h3 id="resolvesymlinks"><code>resolve.symlinks</code><a href="#resolvesymlinks" aria-hidden="true"><span class="icon icon-link"></span></a></h3>
<p><code>boolean = true</code></p>
<p>是否将符号链接(symlink)解析到它们的符号链接位置(symlink location)。</p>
<p>启用时，符号链接(symlink)的资源，将解析为其 <em>真实</em> 路径，而不是其符号链接(symlink)的位置。注意，当使用创建符号链接包的工具（如 <code>npm link</code>）时，这种方式可能会导致模块解析失败。</p>
<p><strong>webpack.config.js</strong></p>
<pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  resolve<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    symlinks<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<h3 id="resolvecachepredicate"><code>resolve.cachePredicate</code><a href="#resolvecachepredicate" aria-hidden="true"><span class="icon icon-link"></span></a></h3>
<p><code>function(module) => boolean</code></p>
<p>决定请求是否应该被缓存的函数。函数传入一个带有 <code>path</code> 和 <code>request</code> 属性的对象。
必须返回一个 boolean 值。</p>
<p><strong>webpack.config.js</strong></p>
<pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  resolve<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    cachePredicate<span class="token punctuation">:</span> <span class="token punctuation">(</span>module<span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
      <span class="token comment">// additional logic</span>
      <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<h3 id="resolverestrictions"><code>resolve.restrictions</code><a href="#resolverestrictions" aria-hidden="true"><span class="icon icon-link"></span></a></h3>
<p><code>[string, RegExp]</code></p>
<p>解析限制列表，用于限制可以解析请求的路径。</p>
<p><strong>webpack.config.js</strong></p>
<pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  resolve<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    restrictions<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token operator">/</span>\<span class="token punctuation">.</span><span class="token punctuation">(</span>sass<span class="token operator">|</span>scss<span class="token operator">|</span>css<span class="token punctuation">)</span>$<span class="token operator">/</span><span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<h2 id="resolveloader"><code>resolveLoader</code><a href="#resolveloader" aria-hidden="true"><span class="icon icon-link"></span></a></h2>
<p><code>object { modules [string] = ['node_modules'], extensions [string] = ['.js', '.json'], mainFields [string] = ['loader', 'main']}</code></p>
<p>这组选项与上面的 <code>resolve</code> 对象的属性集合相同，
但仅用于解析 webpack 的 <a href="/concepts/loaders">loader</a> 包。</p>
<p><strong>webpack.config.js</strong></p>
<pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  resolveLoader<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    modules<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">'node_modules'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    extensions<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">'.js'</span><span class="token punctuation">,</span> <span class="token string">'.json'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    mainFields<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">'loader'</span><span class="token punctuation">,</span> <span class="token string">'main'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<blockquote class="tip">
<p>注意，这里你可以使用别名，并且其他特性类似于 resolve 对象。例如，<code>{ txt: 'raw-loader' }</code> 会使用 <code>raw-loader</code> 去 shim(填充) <code>txt!templates/demo.txt</code>。</p>
</blockquote>
<h3 id="resolveloadermoduleextensions"><code>resolveLoader.moduleExtensions</code><a href="#resolveloadermoduleextensions" aria-hidden="true"><span class="icon icon-link"></span></a></h3>
<p><code>[string]</code></p>
<blockquote class="warning">
<p>在 webpack 5 中被废弃</p>
</blockquote>
<p>解析 loader 时，用到扩展名(extensions)/后缀(suffixes)。从 webpack 2 开始，我们 <a href="/migrate/3/#automatic-loader-module-name-extension-removed">强烈建议</a> 使用全名，例如 <code>example-loader</code>，以尽可能清晰。然而，如果你确实想省略 <code>-loader</code>，也就是说只使用 <code>example</code>，则可以使用此选项来实现：</p>
<p><strong>webpack.config.js</strong></p>
<pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  resolveLoader<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    moduleExtensions<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">'-loader'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<h1 id="优化optimization">优化(Optimization)<a href="#%E4%BC%98%E5%8C%96optimization" aria-hidden="true"><span class="icon icon-link"></span></a></h1>
<p>从 webpack 4 开始，会根据你选择的 <a href="/concepts/mode/"><code>mode</code></a> 来执行不同的优化，
不过所有的优化还是可以手动配置和重写。</p>
<h2 id="optimizationminimize"><code>optimization.minimize</code><a href="#optimizationminimize" aria-hidden="true"><span class="icon icon-link"></span></a></h2>
<p><code>boolean</code></p>
<p>告知 webpack 使用 <a href="/plugins/terser-webpack-plugin/">TerserPlugin</a> 或其它在 <a href="#optimizationminimizer"><code>optimization.minimizer</code></a>
定义的插件压缩 bundle。</p>
<p><code>production</code> 模式下，这里默认是 <code>true</code>。</p>
<p><strong>webpack.config.js</strong></p>
<pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  optimization<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    minimize<span class="token punctuation">:</span> <span class="token boolean">false</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<blockquote class="tip">
<p>了解 <a href="/concepts/mode/">mode</a> 工作机制。</p>
</blockquote>
<h2 id="optimizationminimizer"><code>optimization.minimizer</code><a href="#optimizationminimizer" aria-hidden="true"><span class="icon icon-link"></span></a></h2>
<p><code>[TerserPlugin]</code> 或 <code>[function (compiler)]</code></p>
<p>允许你通过提供一个或多个定制过的 <a href="/plugins/terser-webpack-plugin/">TerserPlugin</a> 实例，
覆盖默认压缩工具(minimizer)。</p>
<p><strong>webpack.config.js</strong></p>
<pre><code class="hljs language-js"><span class="token keyword">const</span> TerserPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'terser-webpack-plugin'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  optimization<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    minimizer<span class="token punctuation">:</span> <span class="token punctuation">[</span>
      <span class="token keyword">new</span> <span class="token class-name">TerserPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        cache<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
        parallel<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
        sourceMap<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// 如果在生产环境中使用 source-maps，必须设置为 true</span>
        terserOptions<span class="token punctuation">:</span> <span class="token punctuation">{</span>
          <span class="token comment">// https://github.com/webpack-contrib/terser-webpack-plugin#terseroptions</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<p>或，使用函数的形式：</p>
<pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  optimization<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    minimizer<span class="token punctuation">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">(</span>compiler<span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
        <span class="token keyword">const</span> TerserPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'terser-webpack-plugin'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">new</span> <span class="token class-name">TerserPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token comment">/* 你的选项 */</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span>compiler<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<h2 id="optimizationsplitchunks"><code>optimization.splitChunks</code><a href="#optimizationsplitchunks" aria-hidden="true"><span class="icon icon-link"></span></a></h2>
<p><code>object</code></p>
<p>对于动态导入模块，默认使用 webpack v4+ 提供的全新的通用分块策略(common chunk strategy)。请在 <a href="/plugins/split-chunks-plugin/">SplitChunksPlugin</a>
页面中查看配置其行为的可用选项。</p>
<h2 id="optimizationruntimechunk"><code>optimization.runtimeChunk</code><a href="#optimizationruntimechunk" aria-hidden="true"><span class="icon icon-link"></span></a></h2>
<p><code>object</code> <code>string</code> <code>boolean</code></p>
<p>将 <code>optimization.runtimeChunk</code> 设置为 <code>true</code> 或 <code>"multiple"</code>，会为每个仅含有 runtime 的入口起点添加一个额外 chunk。
此设置是如下设置的别名：</p>
<p><strong>webpack.config.js</strong></p>
<pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  optimization<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    runtimeChunk<span class="token punctuation">:</span> <span class="token punctuation">{</span>
      name<span class="token punctuation">:</span> entrypoint <span class="token operator">=></span> <span class="token template-string"><span class="token string">`runtime~</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>entrypoint<span class="token punctuation">.</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">`</span></span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<p>值 <code>"single"</code> 会创建一个在所有生成 chunk 之间共享的运行时文件。此设置是如下设置的别名：</p>
<p><strong>webpack.config.js</strong></p>
<pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  optimization<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    runtimeChunk<span class="token punctuation">:</span> <span class="token punctuation">{</span>
      name<span class="token punctuation">:</span> <span class="token string">'runtime'</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<p>通过将 <code>optimization.runtimeChunk</code> 设置为 <code>object</code>，对象中可以设置只有 <code>name</code> 属性，其中属性值可以是名称或者返回名称的函数，
用于为 runtime chunks 命名。</p>
<p>默认值是 <code>false</code>：每个入口 chunk 中直接嵌入 runtime。</p>
<blockquote class="warning">
<p>对于每个 runtime chunk，导入的模块会被分别初始化，因此如果你在同一个页面中引用多个入口起点，请注意此行为。你或许应该将其设置为 <code>single</code>，或者使用其他只有一个 runtime 实例的配置。</p>
</blockquote>
<p><strong>webpack.config.js</strong></p>
<pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  optimization<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    runtimeChunk<span class="token punctuation">:</span> <span class="token punctuation">{</span>
      name<span class="token punctuation">:</span> entrypoint <span class="token operator">=></span> <span class="token template-string"><span class="token string">`runtimechunk~</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>entrypoint<span class="token punctuation">.</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">`</span></span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<h2 id="optimizationnoemitonerrors"><code>optimization.noEmitOnErrors</code><a href="#optimizationnoemitonerrors" aria-hidden="true"><span class="icon icon-link"></span></a></h2>
<p><code>boolean</code></p>
<p>在编译出错时，使用 <code>optimization.noEmitOnErrors</code> 来跳过生成阶段(emitting phase)。这可以确保没有生成出错误资源。而 stats 中所有 assets
中的 <code>emitted</code> 标记都是 <code>false</code>。</p>
<p><strong>webpack.config.js</strong></p>
<pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  optimization<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    noEmitOnErrors<span class="token punctuation">:</span> <span class="token boolean">true</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<blockquote class="warning">
<p>果你正在使用 webpack <a href="/api/cli/">CLI</a>，在此插件开启时，webpack 处理过程不会因为错误代码而退出。如果你希望在使用 CLI 时 webpack "失败(fail)"，
请查看 <a href="/api/cli/#advanced-options"><code>bail</code> 选项</a>。</p>
</blockquote>
<h2 id="optimizationnamedmodules"><code>optimization.namedModules</code><a href="#optimizationnamedmodules" aria-hidden="true"><span class="icon icon-link"></span></a></h2>
<p><code>boolean = false</code></p>
<p>告知 webpack 使用可读取模块标识符(readable module identifiers)，来帮助更好地调试。webpack 配置中如果没有设置此选项，默认会在 <a href="/concepts/mode/">mode</a> <code>development</code> 启用，在 <a href="/concepts/mode/">mode</a> <code>production</code> 禁用。</p>
<p><strong>webpack.config.js</strong></p>
<pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  optimization<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    namedModules<span class="token punctuation">:</span> <span class="token boolean">true</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<h2 id="optimizationnamedchunks"><code>optimization.namedChunks</code><a href="#optimizationnamedchunks" aria-hidden="true"><span class="icon icon-link"></span></a></h2>
<p><code>boolean = false</code></p>
<p>告知 webpack 使用可读取 chunk 标识符(readable chunk identifiers)，来帮助更好地调试。webpack 配置中如果没有设置此选项，默认会在 <a href="/concepts/mode/">mode</a> <code>development</code> 启用，在 <a href="/concepts/mode/">mode</a> <code>production</code> 禁用。</p>
<p><strong>webpack.config.js</strong></p>
<pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  optimization<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    namedChunks<span class="token punctuation">:</span> <span class="token boolean">true</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<h2 id="optimizationmoduleids"><code>optimization.moduleIds</code><a href="#optimizationmoduleids" aria-hidden="true"><span class="icon icon-link"></span></a></h2>
<p><code>boolean = false</code> <code>string: 'natural' | 'named' | 'deterministic' | 'size'</code></p>
<p>告知 webpack 当选择模块 id 时需要使用哪种算法。将 <code>optimization.moduleIds</code> 设置为  <code>false</code> 会告知 webpack 没有任何内置的算法会被使用，但自定义的算法会由插件提供。<code>optimization.moduleIds</code> 的默认值是 <code>false</code>。</p>
<p>下面的字符串值均被支持：</p>
<table>
<thead>
<tr>
<th>选荐值</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td><div class="title"><p>选荐值</p><p>描述</p></div>
<div class="content"><p><code>natural</code><p class="description mobile">按使用顺序的数字 id。</p></p></div></td>
<td class="description desktop">按使用顺序的数字 id。</td>
</tr>
<tr>
<td><div class="title"><p>选荐值</p><p>描述</p></div>
<div class="content"><p><code>named</code><p class="description mobile">对调试更友好的可读的 id。</p></p></div></td>
<td class="description desktop">对调试更友好的可读的 id。</td>
</tr>
<tr>
<td><div class="title"><p>选荐值</p><p>描述</p></div>
<div class="content"><p><code>deterministic</code><p class="description mobile">被哈希转化成的小位数值模块名。</p></p></div></td>
<td class="description desktop">被哈希转化成的小位数值模块名。</td>
</tr>
<tr>
<td><div class="title"><p>选荐值</p><p>描述</p></div>
<div class="content"><p><code>size</code><p class="description mobile">专注于让初始下载包大小更小的数字 id。</p></p></div></td>
<td class="description desktop">专注于让初始下载包大小更小的数字 id。</td>
</tr>
</tbody>
</table>
<p><strong>webpack.config.js</strong></p>
<pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  optimization<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    moduleIds<span class="token punctuation">:</span> <span class="token string">'hashed'</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<p><code>deterministic</code> 选项有益于长期缓存，但对比于 <code>hashed</code> 来说，它会导致更小的文件 bundles。数字值的长度会被选作用于填满最多80%的id空间。
当  <code>optimization.moduleIds</code> 被设置成 <code>deterministic</code>，默认最小3位数字会被使用。
要覆盖默认行为，要将 <code>optimization.moduleIds</code> 设置成 <code>false</code>，
并且要使用 <code>webpack.ids.DeterministicModuleIdsPlugin</code>。</p>
<p><strong>webpack.config.js</strong></p>
<pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  optimization<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    moduleIds<span class="token punctuation">:</span> <span class="token boolean">false</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  plugins<span class="token punctuation">:</span> <span class="token punctuation">[</span>
    <span class="token keyword">new</span> <span class="token class-name">webpack<span class="token punctuation">.</span>ids<span class="token punctuation">.</span>DeterministicModuleIdsPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      maxLength<span class="token punctuation">:</span> <span class="token number">5</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<blockquote class="warning">
<p><code>moduleIds: 'deterministic'</code> 在 webpack 5 中被添加，而且 <code>moduleIds: 'hashed'</code> 相应地会在 webpack 5 中废弃。</p>
</blockquote>
<blockquote class="warning">
<p><code>moduleIds: total-size</code> 在 webpack 5 中被废弃。</p>
</blockquote>
<h2 id="optimizationchunkids"><code>optimization.chunkIds</code><a href="#optimizationchunkids" aria-hidden="true"><span class="icon icon-link"></span></a></h2>
<p><code>boolean = false</code> <code>string: 'natural' | 'named' | 'size' | 'total-size' | 'deterministic'</code></p>
<p>告知 webpack 当选择模块 id 时需要使用哪种算法。将 <code>optimization.chunkIds</code> 设置为  <code>false</code> 会告知 webpack 没有任何内置的算法会被使用，但自定义的算法会由插件提供。<code>optimization.chunkIds</code> 的默认值是 <code>false</code>：</p>
<ul>
<li>如果 <a href="#optimizationoccurrenceorder"><code>optimization.occurrenceOrder</code></a> 被启用 <code>optimization.chunkIds</code> 会被设置成 <code>'total-size'</code></li>
<li>不考虑上一条的条件，如果 <a href="#optimizationnamedchunks"><code>optimization.namedChunks</code></a> 被启用 <code>optimization.chunkIds</code> 会被设置成 <code>'named'</code></li>
<li>如果环境是开发环境，那么 <code>optimization.chunkIds</code> 会被设置成 <code>'named'</code>,
但当在生产环境中时，它会被设置成 <code>'deterministic'</code></li>
<li>如果上述的条件都不符合, <code>optimization.chunkIds</code> 会被默认设置为 <code>'natural'</code></li>
</ul>
<p>下述选项字符串值均为被支持:</p>
<table>
<thead>
<tr>
<th>选项值</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td><div class="title"><p>选项值</p><p>描述</p></div>
<div class="content"><p><code>'natural'</code><p class="description mobile">按使用顺序的数字 id。</p></p></div></td>
<td class="description desktop">按使用顺序的数字 id。</td>
</tr>
<tr>
<td><div class="title"><p>选项值</p><p>描述</p></div>
<div class="content"><p><code>'named'</code><p class="description mobile">对调试更友好的可读的 id。</p></p></div></td>
<td class="description desktop">对调试更友好的可读的 id。</td>
</tr>
<tr>
<td><div class="title"><p>选项值</p><p>描述</p></div>
<div class="content"><p><code>'deterministic'</code><p class="description mobile">在不同的编译中不变的短数字 id。有益于长期昏村。</p></p></div></td>
<td class="description desktop">在不同的编译中不变的短数字 id。有益于长期昏村。</td>
</tr>
</tbody>
</table>
<p>在生产模式中会默认开启。
<code>'size'</code>                | 专注于让初始下载包大小更小的数字 id。
<code>'total-size'</code>          | 专注于让总下载包大小更小的数字 id。</p>
<p><strong>webpack.config.js</strong></p>
<pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  optimization<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    chunkIds<span class="token punctuation">:</span> <span class="token string">'named'</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<p>默认地，当 <code>optimization.chunkIds</code> 被设置为 <code>'deterministic'</code> 时，最少3位数字会被使用。要覆盖默认的行为，
要将 <code>optimization.chunkIds</code> 设置为 <code>false</code>，同时要使用 <code>webpack.ids.DeterministicChunkIdsPlugin</code>。</p>
<p><strong>webpack.config.js</strong></p>
<pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  optimization<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    chunkIds<span class="token punctuation">:</span> <span class="token boolean">false</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  plugins<span class="token punctuation">:</span> <span class="token punctuation">[</span>
    <span class="token keyword">new</span> <span class="token class-name">webpack<span class="token punctuation">.</span>ids<span class="token punctuation">.</span>DeterministicChunkIdsPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      maxLength<span class="token punctuation">:</span> <span class="token number">5</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<h2 id="optimizationnodeenv"><code>optimization.nodeEnv</code><a href="#optimizationnodeenv" aria-hidden="true"><span class="icon icon-link"></span></a></h2>
<p><code>boolean = false</code> <code>string</code></p>
<p>告知 webpack 将 <code>process.env.NODE_ENV</code> 设置为一个给定字符串。如果 <code>optimization.nodeEnv</code> 不是 <code>false</code>，则会使用 <a href="/plugins/define-plugin/">DefinePlugin</a>，<code>optimization.nodeEnv</code> <strong>默认值</strong>取决于 <a href="/concepts/mode/">mode</a>，如果为 falsy 值，则会回退到 <code>"production"</code>。</p>
<p>可能的值有：</p>
<ul>
<li>任何字符串：用于设置 <code>process.env.NODE_ENV</code> 的值。</li>
<li>false：不修改/设置 <code>process.env.NODE_ENV</code>的值。</li>
</ul>
<p><strong>webpack.config.js</strong></p>
<pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  optimization<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    nodeEnv<span class="token punctuation">:</span> <span class="token string">'production'</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<h2 id="optimizationmanglewasmimports"><code>optimization.mangleWasmImports</code><a href="#optimizationmanglewasmimports" aria-hidden="true"><span class="icon icon-link"></span></a></h2>
<p><code>boolean = false</code></p>
<p>在设置为 <code>true</code> 时，告知 webpack 通过将导入修改为更短的字符串，来减少 WASM 大小。这会破坏模块和导出名称。</p>
<p><strong>webpack.config.js</strong></p>
<pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  optimization<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    mangleWasmImports<span class="token punctuation">:</span> <span class="token boolean">true</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<h2 id="optimizationremoveavailablemodules"><code>optimization.removeAvailableModules</code><a href="#optimizationremoveavailablemodules" aria-hidden="true"><span class="icon icon-link"></span></a></h2>
<p><code>boolean = false</code></p>
<p>如果模块已经包含在所有父级模块中，告知 webpack 从 chunk 中检测出这些模块，或移除这些模块。将 <code>optimization.removeAvailableModules</code> 设置为 <code>true</code> 以启用这项优化。在 <a href="/configuration/mode/"><code>生产</code> 模式</a> 中默认会被开启。</p>
<p><strong>webpack.config.js</strong></p>
<pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  optimization<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    removeAvailableModules<span class="token punctuation">:</span> <span class="token boolean">true</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<blockquote class="warning">
<p><code>optimization.removeAvailableModules</code> 会削减了 webapck 的性能表现，而且将会在下一个主要发布版本中，在 <code>生产</code> 模式下会被禁用。
如果你想获得额外的构建性能，请在 <code>生产</code> 模式中禁用它。</p>
</blockquote>
<h2 id="optimizationremoveemptychunks"><code>optimization.removeEmptyChunks</code><a href="#optimizationremoveemptychunks" aria-hidden="true"><span class="icon icon-link"></span></a></h2>
<p><code>boolean = true</code></p>
<p>如果 chunk 为空，告知 webpack 检测或移除这些 chunk。将 <code>optimization.removeEmptyChunks</code> 设置为 <code>false</code> 以禁用这项优化。</p>
<p><strong>webpack.config.js</strong></p>
<pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  optimization<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    removeEmptyChunks<span class="token punctuation">:</span> <span class="token boolean">false</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<h2 id="optimizationmergeduplicatechunks"><code>optimization.mergeDuplicateChunks</code><a href="#optimizationmergeduplicatechunks" aria-hidden="true"><span class="icon icon-link"></span></a></h2>
<p><code>boolean = true</code></p>
<p>告知 webpack 合并含有相同模块的 chunk。将 <code>optimization.mergeDuplicateChunks</code> 设置为 <code>false</code> 以禁用这项优化。</p>
<p><strong>webpack.config.js</strong></p>
<pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  optimization<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    mergeDuplicateChunks<span class="token punctuation">:</span> <span class="token boolean">false</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<h2 id="optimizationflagincludedchunks"><code>optimization.flagIncludedChunks</code><a href="#optimizationflagincludedchunks" aria-hidden="true"><span class="icon icon-link"></span></a></h2>
<p><code>boolean</code></p>
<p>告知 webpack 确定和标记出作为其他 chunk 子集的那些 chunk，其方式是在已经加载过较大的 chunk 之后，就不再去加载这些 chunk 子集。<code>optimization.flagIncludedChunks</code> 默认会在 <code>生产</code> <a href="/concepts/mode/">模式</a> 中启用，其他情况禁用。</p>
<p><strong>webpack.config.js</strong></p>
<pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  optimization<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    flagIncludedChunks<span class="token punctuation">:</span> <span class="token boolean">true</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<h2 id="optimizationoccurrenceorder"><code>optimization.occurrenceOrder</code><a href="#optimizationoccurrenceorder" aria-hidden="true"><span class="icon icon-link"></span></a></h2>
<p><code>boolean</code></p>
<p>告知 webpack 去确定那些会引致更小的初始化文件 bundle 的模块顺序。<code>optimization.occurrenceOrder</code>
默认会在 <code>生产</code> <a href="/concepts/mode/">模式</a> 中启用，其他情况禁用。</p>
<p><strong>webpack.config.js</strong></p>
<pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  optimization<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    occurrenceOrder<span class="token punctuation">:</span> <span class="token boolean">false</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<h2 id="optimizationprovidedexports"><code>optimization.providedExports</code><a href="#optimizationprovidedexports" aria-hidden="true"><span class="icon icon-link"></span></a></h2>
<p><code>boolean</code></p>
<p>告知 webpack 去确定那些由模块提供的导出内容，为 <code>export * from ...</code> 生成更多高效的代码。
默认 <code>optimization.providedExports</code> 会被启用。</p>
<p><strong>webpack.config.js</strong></p>
<pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  optimization<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    providedExports<span class="token punctuation">:</span> <span class="token boolean">false</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<h2 id="optimizationusedexports"><code>optimization.usedExports</code><a href="#optimizationusedexports" aria-hidden="true"><span class="icon icon-link"></span></a></h2>
<p><code>boolean = true</code></p>
<p>告知 webpack 去决定每个模块使用的导出内容。这取决于 <a href="#optimizationoccurrenceorder"><code>optimization.providedExports</code></a> 选项。由 <code>optimization.usedExports</code> 收集的信息会被其它优化手段或者代码生成使用，比如未使用的导出内容不会被生成，
当所有的使用都适配，导出名称会被处理做单个标记字符。
在压缩工具中的无用代码清除会受益于该选项，而且能够去除未使用的导出内容。</p>
<p><strong>webpack.config.js</strong></p>
<pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  optimization<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    usedExports<span class="token punctuation">:</span> <span class="token boolean">false</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<h2 id="optimizationconcatenatemodules"><code>optimization.concatenateModules</code><a href="#optimizationconcatenatemodules" aria-hidden="true"><span class="icon icon-link"></span></a></h2>
<p><code>boolean</code></p>
<p>告知 webpack 去寻找模块图形中的片段，哪些是可以安全地被合并到单一模块中。这取决于 <a href="#optimizationprovidedexports"><code>optimization.providedExports</code></a> 和 <a href="#optimizationusedexports"><code>optimization.usedExports</code></a>。
默认 <code>optimization.concatenateModules</code> 在 <code>生产</code> <a href="/configuration/mode/">模式</a> 下被启用，而在其它情况下被禁用。</p>
<p><strong>webpack.config.js</strong></p>
<pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  optimization<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    concatenateModules<span class="token punctuation">:</span> <span class="token boolean">true</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<h2 id="optimizationsideeffects"><code>optimization.sideEffects</code><a href="#optimizationsideeffects" aria-hidden="true"><span class="icon icon-link"></span></a></h2>
<p><code>boolean = true</code></p>
<p>告知 webpack 去辨识 <code>package.json</code> 中的  <a href="https://github.com/webpack/webpack/blob/master/examples/side-effects/README.md"><code>副作用</code></a> 标记或规则，以跳过那些当导出不被使用且被标记不包含副作用的模块。</p>
<p><strong>package.json</strong></p>
<pre><code class="hljs language-json"><span class="token punctuation">{</span>
  <span class="token property">"name"</span><span class="token operator">:</span> <span class="token string">"awesome npm module"</span><span class="token punctuation">,</span>
  <span class="token property">"version"</span><span class="token operator">:</span> <span class="token string">"1.0.0"</span><span class="token punctuation">,</span>
  <span class="token property">"sideEffects"</span><span class="token operator">:</span> <span class="token boolean">false</span>
<span class="token punctuation">}</span></code></pre>
<blockquote class="tip">
<p>请注意的是 <code>（副作用）sideEffects</code> 需要在 npm 模块的 <code>package.json</code> 文件中，但并不意味着你需要在你自己的引用那个大模块的项目中的
<code>package.json</code> 中将 <code>sideEffects</code> 设置成 <code>false</code>。</p>
</blockquote>
<p><code>optimization.sideEffects</code> 取决于 <a href="#optimizationprovidedexports"><code>optimization.providedExports</code></a> 被设置成启用。这个依赖会有构建时间的损耗，但去掉模块会对性能有正面的影响，因为更少的代码被生成。该优化的效果取决于你的代码库，
可以尝试这个特性以获取一些可能的性能优化。</p>
<p><strong>webpack.config.js</strong></p>
<pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  optimization<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    sideEffects<span class="token punctuation">:</span> <span class="token boolean">true</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<h2 id="optimizationportablerecords"><code>optimization.portableRecords</code><a href="#optimizationportablerecords" aria-hidden="true"><span class="icon icon-link"></span></a></h2>
<p><code>boolean</code></p>
<p><code>optimization.portableRecords</code> 告知 webpack 生成带有相对路径的记录(records)使得可以移动上下文目录。</p>
<p>默认 <code>optimization.portableRecords</code> 被禁用。如果下列至少一个选项在 webpack 中被设置，该选项也会自动启用：<a href="/configuration/other-options/#recordspath"><code>recordsPath</code></a>, <a href="/configuration/other-options/#recordsinputpath"><code>recordsInputPath</code></a>,
<a href="/configuration/other-options/#recordsoutputpath"><code>recordsOutputPath</code></a>。</p>
<p><strong>webpack.config.js</strong></p>
<pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  optimization<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    portableRecords<span class="token punctuation">:</span> <span class="token boolean">true</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<h2 id="optimizationmangleexports"><code>optimization.mangleExports</code><a href="#optimizationmangleexports" aria-hidden="true"><span class="icon icon-link"></span></a></h2>
<p><code>boolean</code></p>
<p><code>optimization.mangleExports</code> 允许控制导出处理(export mangling)。</p>
<p>默认 <code>optimization.mangleExports</code> 会在 <code>生产</code> <a href="/configuration/mode/">模式下</a> 启用而其它情况会被禁用。</p>
<p><strong>webpack.config.js</strong></p>
<pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  optimization<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    mangleExports<span class="token punctuation">:</span> <span class="token boolean">true</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<h2 id="optimizationinnergraph"><code>optimization.innerGraph</code><a href="#optimizationinnergraph" aria-hidden="true"><span class="icon icon-link"></span></a></h2>
<p><code>boolean = true</code></p>
<p><code>optimization.innerGraph</code> 告知 webpack 是否对未使用的导出内容，实施内部图形分析(graph analysis)。</p>
<p><strong>webpack.config.js</strong></p>
<pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  optimization<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    innerGraph<span class="token punctuation">:</span> <span class="token boolean">false</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<h1 id="插件plugins">插件(Plugins)<a href="#%E6%8F%92%E4%BB%B6plugins" aria-hidden="true"><span class="icon icon-link"></span></a></h1>
<p><code>plugins</code> 选项用于以各种方式自定义 webpack 构建过程。webpack 附带了各种内置插件，可以通过 <code>webpack.[plugin-name]</code> 访问这些插件。请查看 <a href="/plugins">插件页面</a> 获取插件列表和对应文档，
但请注意这只是其中一部分，社区中还有许多插件。</p>
<blockquote class="tip">
<p>注意：本页面仅讨论使用插件，如果你有兴趣编写自己的插件，
请访问 <a href="/contribute/writing-a-plugin/">编写一个插件</a> 页面。</p>
</blockquote>
<h2 id="plugins"><code>plugins</code><a href="#plugins" aria-hidden="true"><span class="icon icon-link"></span></a></h2>
<p><a href="/plugins/"><code>[Plugin]</code></a></p>
<p>一组 webpack 插件。例如，<a href="/plugins/define-plugin/"><code>DefinePlugin</code></a> 允许你创建可在编译时配置的全局常量。这对需要再开发环境构建和生产环境构建之间产生不同行为来说非常有用。
An array of webpack plugins. For example, <a href="/plugins/define-plugin/"><code>DefinePlugin</code></a> allows you to create global constants which can be configured at compile time. This can be useful for allowing different behavior between development builds and release builds.</p>
<p><strong>webpack.config.js</strong></p>
<pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  plugins<span class="token punctuation">:</span> <span class="token punctuation">[</span>
    <span class="token keyword">new</span> <span class="token class-name">webpack<span class="token punctuation">.</span>DefinePlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token comment">// Definitions...</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<p>一个复杂示例，使用多个插件，可能看起来就像这样：</p>
<p><strong>webpack.config.js</strong></p>
<pre><code class="hljs language-js"><span class="token keyword">var</span> webpack <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'webpack'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 导入非 webpack 自带默认插件</span>
<span class="token keyword">var</span> ExtractTextPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'extract-text-webpack-plugin'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> DashboardPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'webpack-dashboard/plugin'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 在配置中添加插件</span>
module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  plugins<span class="token punctuation">:</span> <span class="token punctuation">[</span>
    <span class="token keyword">new</span> <span class="token class-name">ExtractTextPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      filename<span class="token punctuation">:</span> <span class="token string">'build.min.css'</span><span class="token punctuation">,</span>
      allChunks<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token keyword">new</span> <span class="token class-name">webpack<span class="token punctuation">.</span>IgnorePlugin</span><span class="token punctuation">(</span><span class="token regex">/^\.\/locale$/</span><span class="token punctuation">,</span> <span class="token regex">/moment$/</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
   <span class="token comment">// 编译时(compile time)插件</span>
    <span class="token keyword">new</span> <span class="token class-name">webpack<span class="token punctuation">.</span>DefinePlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token string">'process.env.NODE_ENV'</span><span class="token punctuation">:</span> <span class="token string">'"production"'</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
   <span class="token comment">// webpack-dev-server 强化插件</span>
    <span class="token keyword">new</span> <span class="token class-name">DashboardPlugin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token keyword">new</span> <span class="token class-name">webpack<span class="token punctuation">.</span>HotModuleReplacementPlugin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<h1 id="devserver">DevServer<a href="#devserver" aria-hidden="true"><span class="icon icon-link"></span></a></h1>
<p><a href="https://github.com/webpack/webpack-dev-server">webpack-dev-server</a> can be used to quickly develop an application. See the <a href="/guides/development/">development guide</a> to get started.</p>
<p>This page describes the options that affect the behavior of webpack-dev-server (short: dev-server).</p>
<blockquote class="tip">
<p>Options that are compatible with <a href="https://github.com/webpack/webpack-dev-middleware">webpack-dev-middleware</a> have 🔑 next to them.</p>
</blockquote>
<h2 id="devserver-1"><code>devServer</code><a href="#devserver-1" aria-hidden="true"><span class="icon icon-link"></span></a></h2>
<p><code>object</code></p>
<p>This set of options is picked up by <a href="https://github.com/webpack/webpack-dev-server">webpack-dev-server</a> and can be used to change its behavior in various ways. Here's a simple example that gzips and serves everything from our <code>dist/</code> directory in the project root:</p>
<p><strong>webpack.config.js</strong></p>
<pre><code class="hljs language-javascript"><span class="token keyword">var</span> path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'path'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  devServer<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    contentBase<span class="token punctuation">:</span> path<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">'dist'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    compress<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    port<span class="token punctuation">:</span> <span class="token number">9000</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<p>When the server is started, there will be a message prior to the list of resolved modules:</p>
<pre><code class="hljs language-bash">http://localhost:9000/
webpack output is served from /build/
Content not from webpack is served from /path/to/dist/</code></pre>
<p>that will give some background on where the server is located and what it's serving.</p>
<p>If you're using dev-server through the Node.js API, the options in <code>devServer</code> will be ignored. Pass the options as a second parameter instead: <code>new WebpackDevServer(compiler, {...})</code>. <a href="https://github.com/webpack/webpack-dev-server/tree/master/examples/api/simple">See here</a> for an example of how to use webpack-dev-server through the Node.js API.</p>
<blockquote class="warning">
<p>You cannot use the second <code>compiler</code> argument (a callback) when using <code>WebpackDevServer</code>.</p>
</blockquote>
<blockquote class="warning">
<p>Be aware that when <a href="/configuration/configuration-types/#exporting-multiple-configurations">exporting multiple configurations</a> only the <code>devServer</code> options for the first configuration will be taken into account and used for all the configurations in the array.</p>
</blockquote>
<blockquote class="tip">
<p>If you're having trouble, navigating to the <code>/webpack-dev-server</code> route will show where files are served. For example, <code>http://localhost:9000/webpack-dev-server</code>.</p>
</blockquote>
<blockquote class="tip">
<p>If you want to manually recompile the bundle, navigating to the <code>/invalidate</code> route will <a href="/api/node/#invalidate-watching">invalidate</a> the current compilation of the bundle and recompile it for you via <a href="https://github.com/webpack/webpack-dev-middleware#invalidate">webpack-dev-middleware</a>. Depending on your configuration, URL may look like <code>http://localhost:9000/invalidate</code>.</p>
</blockquote>
<blockquote class="tip">
<p>HTML template is required to serve the bundle, usually it is an <code>index.html</code> file. Make sure that script references are added into HTML, webpack-dev-server doesn't inject them automatically.</p>
</blockquote>
<h2 id="devserverafter"><code>devServer.after</code><a href="#devserverafter" aria-hidden="true"><span class="icon icon-link"></span></a></h2>
<p><code>function (app, server, compiler)</code></p>
<p>Provides the ability to execute custom middleware after all other middleware
internally within the server.</p>
<p><strong>webpack.config.js</strong></p>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  devServer<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    after<span class="token punctuation">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span>app<span class="token punctuation">,</span> server<span class="token punctuation">,</span> compiler<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">// do fancy stuff</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<h2 id="devserverallowedhosts"><code>devServer.allowedHosts</code><a href="#devserverallowedhosts" aria-hidden="true"><span class="icon icon-link"></span></a></h2>
<p><code>[string]</code></p>
<p>This option allows you to whitelist services that are allowed to access the dev server.</p>
<p><strong>webpack.config.js</strong></p>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  devServer<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    allowedHosts<span class="token punctuation">:</span> <span class="token punctuation">[</span>
      <span class="token string">'host.com'</span><span class="token punctuation">,</span>
      <span class="token string">'subdomain.host.com'</span><span class="token punctuation">,</span>
      <span class="token string">'subdomain2.host.com'</span><span class="token punctuation">,</span>
      <span class="token string">'host2.com'</span>
    <span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<p>Mimicking django's <code>ALLOWED_HOSTS</code>, a value beginning with <code>.</code> can be used as a subdomain wildcard. <code>.host.com</code> will match <code>host.com</code>, <code>www.host.com</code>, and any other subdomain of <code>host.com</code>.</p>
<p><strong>webpack.config.js</strong></p>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  devServer<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    <span class="token comment">// this achieves the same effect as the first example</span>
    <span class="token comment">// with the bonus of not having to update your config</span>
    <span class="token comment">// if new subdomains need to access the dev server</span>
    allowedHosts<span class="token punctuation">:</span> <span class="token punctuation">[</span>
      <span class="token string">'.host.com'</span><span class="token punctuation">,</span>
      <span class="token string">'host2.com'</span>
    <span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<p>To use this option with the CLI pass the <code>--allowed-hosts</code> option a comma-delimited string.</p>
<pre><code class="hljs language-bash">webpack-dev-server --entry /entry/file --output-path /output/path --allowed-hosts .host.com,host2.com</code></pre>
<h2 id="devserverbefore"><code>devServer.before</code><a href="#devserverbefore" aria-hidden="true"><span class="icon icon-link"></span></a></h2>
<p><code>function (app, server, compiler)</code></p>
<p>Provides the ability to execute custom middleware prior to all other middleware
internally within the server. This could be used to define custom handlers, for
example:</p>
<p><strong>webpack.config.js</strong></p>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  devServer<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    before<span class="token punctuation">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span>app<span class="token punctuation">,</span> server<span class="token punctuation">,</span> compiler<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      app<span class="token punctuation">.</span><span class="token keyword">get</span><span class="token punctuation">(</span><span class="token string">'/some/path'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span>req<span class="token punctuation">,</span> res<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        res<span class="token punctuation">.</span><span class="token function">json</span><span class="token punctuation">(</span><span class="token punctuation">{</span> custom<span class="token punctuation">:</span> <span class="token string">'response'</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<h2 id="devserverbonjour"><code>devServer.bonjour</code><a href="#devserverbonjour" aria-hidden="true"><span class="icon icon-link"></span></a></h2>
<p><code>boolean = false</code></p>
<p>This option broadcasts the server via <a href="http://www.zeroconf.org/">ZeroConf</a> networking on start</p>
<p><strong>webpack.config.js</strong></p>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  devServer<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    bonjour<span class="token punctuation">:</span> <span class="token boolean">true</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<p>Usage via the CLI</p>
<pre><code class="hljs language-bash">webpack-dev-server --bonjour</code></pre>
<h2 id="devserverclientloglevel"><code>devServer.clientLogLevel</code><a href="#devserverclientloglevel" aria-hidden="true"><span class="icon icon-link"></span></a></h2>
<p><code>string = 'info': 'silent' | 'trace' | 'debug' | 'info' | 'warn' | 'error' | 'none' | 'warning'</code></p>
<blockquote class="warning">
<p><code>none</code> and <code>warning</code> are going to be deprecated at the next major version.</p>
</blockquote>
<p>When using <em>inline mode</em>, the console in your DevTools will show you messages e.g. before reloading, before an error or when <a href="/concepts/hot-module-replacement/">Hot Module Replacement</a> is enabled.</p>
<p><code>devServer.clientLogLevel</code> may be too verbose, you can turn logging off by setting it to  <code>'silent'</code>.</p>
<p><strong>webpack.config.js</strong></p>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  devServer<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    clientLogLevel<span class="token punctuation">:</span> <span class="token string">'silent'</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<p>Usage via the CLI</p>
<pre><code class="hljs language-bash">webpack-dev-server --client-log-level silent</code></pre>
<h2 id="devservercolor---cli-only"><code>devServer.color</code> - CLI only<a href="#devservercolor---cli-only" aria-hidden="true"><span class="icon icon-link"></span></a></h2>
<p><code>boolean</code></p>
<p>Enables/Disables colors on the console.</p>
<pre><code class="hljs language-bash">webpack-dev-server --color</code></pre>
<h2 id="devservercompress"><code>devServer.compress</code><a href="#devservercompress" aria-hidden="true"><span class="icon icon-link"></span></a></h2>
<p><code>boolean</code></p>
<p>Enable <a href="https://betterexplained.com/articles/how-to-optimize-your-site-with-gzip-compression/">gzip compression</a> for everything served:</p>
<p><strong>webpack.config.js</strong></p>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  devServer<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    compress<span class="token punctuation">:</span> <span class="token boolean">true</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<p>Usage via the CLI</p>
<pre><code class="hljs language-bash">webpack-dev-server --compress</code></pre>
<h2 id="devservercontentbase"><code>devServer.contentBase</code><a href="#devservercontentbase" aria-hidden="true"><span class="icon icon-link"></span></a></h2>
<p><code>boolean: false</code> <code>string</code> <code>[string]</code> <code>number</code></p>
<p>Tell the server where to serve content from. This is only necessary if you want to serve static files. <a href="#devserverpublicpath-"><code>devServer.publicPath</code></a> will be used to determine where the bundles should be served from, and takes precedence.</p>
<blockquote class="tip">
<p>It is recommended to use an absolute path.</p>
</blockquote>
<p>By default, it will use your current working directory to serve content. To disable <code>contentBase</code> set it to <code>false</code>.</p>
<p><strong>webpack.config.js</strong></p>
<pre><code class="hljs language-javascript"><span class="token keyword">const</span> path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'path'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  devServer<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    contentBase<span class="token punctuation">:</span> path<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">'public'</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<p>It is also possible to serve from multiple directories in case you want to serve static content at multiple URLs with <a href="#devservercontentbasepublicpath"><code>contentBasePublicPath</code></a>:</p>
<p><strong>webpack.config.js</strong></p>
<pre><code class="hljs language-javascript"><span class="token keyword">const</span> path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'path'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  devServer<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    contentBase<span class="token punctuation">:</span> <span class="token punctuation">[</span>path<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">'public'</span><span class="token punctuation">)</span><span class="token punctuation">,</span> path<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">'assets'</span><span class="token punctuation">)</span><span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<p>Usage via the CLI</p>
<pre><code class="hljs language-bash">webpack-dev-server --content-base /path/to/content/dir</code></pre>
<h2 id="devservercontentbasepublicpath"><code>devServer.contentBasePublicPath</code><a href="#devservercontentbasepublicpath" aria-hidden="true"><span class="icon icon-link"></span></a></h2>
<p><code>string = '/'</code> <code>[string]</code></p>
<p>Tell the server at what URL to serve <code>devServer.contentBase</code> static content. If there was a file <code>assets/manifest.json</code>, it would be served at <code>/serve-content-base-at-this-url/manifest.json</code></p>
<p><strong>webpack.config.js</strong></p>
<pre><code class="hljs language-javascript"><span class="token keyword">const</span> path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'path'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  devServer<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    contentBase<span class="token punctuation">:</span> path<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">'assets'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    contentBasePublicPath<span class="token punctuation">:</span> <span class="token string">'/serve-content-base-at-this-url'</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<p>Provide an array of strings in case you have multiple static folders set in <a href="#devservercontentbase"><code>contentBase</code></a>.</p>
<p><strong>webpack.config.js</strong></p>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  devServer<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    contentBase<span class="token punctuation">:</span> <span class="token punctuation">[</span>contentBasePublic<span class="token punctuation">,</span> contentBaseOther<span class="token punctuation">]</span><span class="token punctuation">,</span>
    contentBasePublicPath<span class="token punctuation">:</span> <span class="token punctuation">[</span>
      contentBasePublicPath<span class="token punctuation">,</span>
      contentBasePublicOtherPath
    <span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<h2 id="devserverdisablehostcheck"><code>devServer.disableHostCheck</code><a href="#devserverdisablehostcheck" aria-hidden="true"><span class="icon icon-link"></span></a></h2>
<p><code>boolean</code></p>
<p>When set to <code>true</code> this option bypasses host checking. <strong>THIS IS NOT RECOMMENDED</strong> as apps that do not check the host are vulnerable to DNS rebinding attacks.</p>
<p><strong>webpack.config.js</strong></p>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  devServer<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    disableHostCheck<span class="token punctuation">:</span> <span class="token boolean">true</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<p>Usage via the CLI</p>
<pre><code class="hljs language-bash">webpack-dev-server --disable-host-check</code></pre>
<h2 id="devserverfilename-"><code>devServer.filename</code> 🔑<a href="#devserverfilename-" aria-hidden="true"><span class="icon icon-link"></span></a></h2>
<p><code>string</code></p>
<p>This option lets you reduce the compilations in <a href="#devserverlazy-">lazy mode</a>.
By default in <a href="#devserverlazy-">lazy mode</a>, every request results in a new compilation. With <code>filename</code>, it's possible to only compile when a certain file is requested.</p>
<p>If <a href="/configuration/output/#outputfilename"><code>output.filename</code></a> is set to <code>'bundle.js'</code> and <code>devServer.filename</code> is used like this:</p>
<p><strong>webpack.config.js</strong></p>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  output<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    filename<span class="token punctuation">:</span> <span class="token string">'bundle.js'</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  devServer<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    lazy<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    filename<span class="token punctuation">:</span> <span class="token string">'bundle.js'</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<p>It will now only compile the bundle when <code>/bundle.js</code> is requested.</p>
<blockquote class="tip">
<p><code>filename</code> has no effect when used without <a href="#devserverlazy-">lazy mode</a>.</p>
</blockquote>
<h2 id="devserverheaders-"><code>devServer.headers</code> 🔑<a href="#devserverheaders-" aria-hidden="true"><span class="icon icon-link"></span></a></h2>
<p><code>object</code></p>
<p>Adds headers to all responses:</p>
<p><strong>webpack.config.js</strong></p>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  devServer<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    headers<span class="token punctuation">:</span> <span class="token punctuation">{</span>
      <span class="token string">'X-Custom-Foo'</span><span class="token punctuation">:</span> <span class="token string">'bar'</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<h2 id="devserverhistoryapifallback"><code>devServer.historyApiFallback</code><a href="#devserverhistoryapifallback" aria-hidden="true"><span class="icon icon-link"></span></a></h2>
<p><code>boolean = false</code> <code>object</code></p>
<p>When using the <a href="https://developer.mozilla.org/en-US/docs/Web/API/History">HTML5 History API</a>, the <code>index.html</code> page will likely have to be served in place of any <code>404</code> responses. Enable <code>devServer.historyApiFallback</code> by setting it to <code>true</code>:</p>
<p><strong>webpack.config.js</strong></p>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  devServer<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    historyApiFallback<span class="token punctuation">:</span> <span class="token boolean">true</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<p>By passing an object this behavior can be controlled further using options like <code>rewrites</code>:</p>
<p><strong>webpack.config.js</strong></p>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  devServer<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    historyApiFallback<span class="token punctuation">:</span> <span class="token punctuation">{</span>
      rewrites<span class="token punctuation">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span> <span class="token keyword">from</span><span class="token punctuation">:</span> <span class="token regex">/^\/$/</span><span class="token punctuation">,</span> to<span class="token punctuation">:</span> <span class="token string">'/views/landing.html'</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span> <span class="token keyword">from</span><span class="token punctuation">:</span> <span class="token regex">/^\/subpage/</span><span class="token punctuation">,</span> to<span class="token punctuation">:</span> <span class="token string">'/views/subpage.html'</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span> <span class="token keyword">from</span><span class="token punctuation">:</span> <span class="token regex">/./</span><span class="token punctuation">,</span> to<span class="token punctuation">:</span> <span class="token string">'/views/404.html'</span> <span class="token punctuation">}</span>
      <span class="token punctuation">]</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<p>When using dots in your path (common with Angular), you may need to use the <code>disableDotRule</code>:</p>
<p><strong>webpack.config.js</strong></p>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  devServer<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    historyApiFallback<span class="token punctuation">:</span> <span class="token punctuation">{</span>
      disableDotRule<span class="token punctuation">:</span> <span class="token boolean">true</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<p>Usage via the CLI</p>
<pre><code class="hljs language-bash">webpack-dev-server --history-api-fallback</code></pre>
<p>For more options and information, see the <a href="https://github.com/bripkens/connect-history-api-fallback">connect-history-api-fallback</a> documentation.</p>
<h2 id="devserverhost"><code>devServer.host</code><a href="#devserverhost" aria-hidden="true"><span class="icon icon-link"></span></a></h2>
<p><code>string = 'localhost'</code></p>
<p>Specify a host to use. If you want your server to be accessible externally, specify it like this:</p>
<p><strong>webpack.config.js</strong></p>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  devServer<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    host<span class="token punctuation">:</span> <span class="token string">'0.0.0.0'</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<p>Usage via the CLI</p>
<pre><code class="hljs language-bash">webpack-dev-server --host 0.0.0.0</code></pre>
<h2 id="devserverhot"><code>devServer.hot</code><a href="#devserverhot" aria-hidden="true"><span class="icon icon-link"></span></a></h2>
<p><code>boolean</code></p>
<p>Enable webpack's <a href="/concepts/hot-module-replacement/">Hot Module Replacement</a> feature:</p>
<p><strong>webpack.config.js</strong></p>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  devServer<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    hot<span class="token punctuation">:</span> <span class="token boolean">true</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<blockquote class="tip">
<p>Note that <a href="/plugins/hot-module-replacement-plugin/"><code>webpack.HotModuleReplacementPlugin</code></a> is required to fully enable HMR. If <code>webpack</code> or <code>webpack-dev-server</code> are launched with the <code>--hot</code> option, this plugin will be added automatically, so you may not need to add this to your <code>webpack.config.js</code>. See the <a href="/concepts/hot-module-replacement/">HMR concepts page</a> for more information.</p>
</blockquote>
<h2 id="devserverhotonly"><code>devServer.hotOnly</code><a href="#devserverhotonly" aria-hidden="true"><span class="icon icon-link"></span></a></h2>
<p><code>boolean</code></p>
<p>Enables Hot Module Replacement (see <a href="#devserverhot"><code>devServer.hot</code></a>) without page refresh as a fallback in case of build failures.</p>
<p><strong>webpack.config.js</strong></p>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  devServer<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    hotOnly<span class="token punctuation">:</span> <span class="token boolean">true</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<p>Usage via the CLI</p>
<pre><code class="hljs language-bash">webpack-dev-server --hot-only</code></pre>
<h2 id="devserverhttp2"><code>devServer.http2</code><a href="#devserverhttp2" aria-hidden="true"><span class="icon icon-link"></span></a></h2>
<p><code>boolean = false</code></p>
<p>Serve over HTTP/2 using <a href="https://www.npmjs.com/package/spdy">spdy</a>. This option is ignored for Node 10.0.0 and above, as spdy is broken for those versions. The dev server will migrate over to Node's built-in HTTP/2 once <a href="https://expressjs.com/">Express</a> supports it.</p>
<p>If <code>devServer.http2</code> is not explicitly set to <code>false</code>, it will default to <code>true</code> when <a href="#devserverhttps"><code>devServer.https</code></a> is enabled. When <code>devServer.http2</code> is enabled but the server is unable to serve over HTTP/2, the server defaults to HTTPS.</p>
<p>HTTP/2 with a self-signed certificate:</p>
<p><strong>webpack.config.js</strong></p>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  devServer<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    http2<span class="token punctuation">:</span> <span class="token boolean">true</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<p>Provide your own certificate using the <a href="#devserverhttps">https</a> option:</p>
<p><strong>webpack.config.js</strong></p>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  devServer<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    http2<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    https<span class="token punctuation">:</span> <span class="token punctuation">{</span>
      key<span class="token punctuation">:</span> fs<span class="token punctuation">.</span><span class="token function">readFileSync</span><span class="token punctuation">(</span><span class="token string">'/path/to/server.key'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
      cert<span class="token punctuation">:</span> fs<span class="token punctuation">.</span><span class="token function">readFileSync</span><span class="token punctuation">(</span><span class="token string">'/path/to/server.crt'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
      ca<span class="token punctuation">:</span> fs<span class="token punctuation">.</span><span class="token function">readFileSync</span><span class="token punctuation">(</span><span class="token string">'/path/to/ca.pem'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<p>Usage via CLI</p>
<pre><code class="hljs language-bash">webpack-dev-server --http2</code></pre>
<p>To pass your own certificate via CLI, use the following options</p>
<pre><code class="hljs language-bash">webpack-dev-server --http2 --key /path/to/server.key --cert /path/to/server.crt --cacert /path/to/ca.pem</code></pre>
<h2 id="devserverhttps"><code>devServer.https</code><a href="#devserverhttps" aria-hidden="true"><span class="icon icon-link"></span></a></h2>
<p><code>boolean</code> <code>object</code></p>
<p>By default, dev-server will be served over HTTP. It can optionally be served over HTTP/2 with HTTPS:</p>
<p><strong>webpack.config.js</strong></p>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  devServer<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    https<span class="token punctuation">:</span> <span class="token boolean">true</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<p>With the above setting, a self-signed certificate is used, but you can provide your own:</p>
<p><strong>webpack.config.js</strong></p>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  devServer<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    https<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    key<span class="token punctuation">:</span> fs<span class="token punctuation">.</span><span class="token function">readFileSync</span><span class="token punctuation">(</span><span class="token string">'/path/to/server.key'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    cert<span class="token punctuation">:</span> fs<span class="token punctuation">.</span><span class="token function">readFileSync</span><span class="token punctuation">(</span><span class="token string">'/path/to/server.crt'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    ca<span class="token punctuation">:</span> fs<span class="token punctuation">.</span><span class="token function">readFileSync</span><span class="token punctuation">(</span><span class="token string">'/path/to/ca.pem'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<p>This object is passed straight to Node.js HTTPS module, so see the <a href="https://nodejs.org/api/https.html">HTTPS documentation</a> for more information.</p>
<p>Usage via the CLI</p>
<pre><code class="hljs language-bash">webpack-dev-server --https</code></pre>
<p>To pass your own certificate via the CLI use the following options</p>
<pre><code class="hljs language-bash">webpack-dev-server --https --key /path/to/server.key --cert /path/to/server.crt --cacert /path/to/ca.pem</code></pre>
<h2 id="devserverindex"><code>devServer.index</code><a href="#devserverindex" aria-hidden="true"><span class="icon icon-link"></span></a></h2>
<p><code>string</code></p>
<p>The filename that is considered the index file.</p>
<p><strong>webpack.config.js</strong></p>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  devServer<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    index<span class="token punctuation">:</span> <span class="token string">'index.html'</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<h2 id="devserverinfo---cli-only"><code>devServer.info</code> - CLI only<a href="#devserverinfo---cli-only" aria-hidden="true"><span class="icon icon-link"></span></a></h2>
<p><code>boolean</code></p>
<p>Output cli information. It is enabled by default.</p>
<pre><code class="hljs language-bash">webpack-dev-server --info<span class="token operator">=</span>false</code></pre>
<h2 id="devserverinjectclient"><code>devServer.injectClient</code><a href="#devserverinjectclient" aria-hidden="true"><span class="icon icon-link"></span></a></h2>
<p><code>boolean = false</code> <code>function (compilerConfig) => boolean</code></p>
<p>Tells <code>devServer</code> to inject a client. Setting <code>devServer.injectClient</code> to <code>true</code> will result in always injecting a client. It is possible to provide a function to inject conditionally:</p>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  devServer<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    injectClient<span class="token punctuation">:</span> <span class="token punctuation">(</span>compilerConfig<span class="token punctuation">)</span> <span class="token operator">=></span> compilerConfig<span class="token punctuation">.</span>name <span class="token operator">===</span> <span class="token string">'only-include'</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<h2 id="devserverinjecthot"><code>devServer.injectHot</code><a href="#devserverinjecthot" aria-hidden="true"><span class="icon icon-link"></span></a></h2>
<p><code>boolean = false</code> <code>function (compilerConfig) => boolean</code></p>
<p>Tells <code>devServer</code> to inject a Hot Module Replacement. Setting <code>devServer.injectHot</code> to <code>true</code> will result in always injecting. It is possible to provide a function to inject conditionally:</p>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  devServer<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    hot<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    injectHot<span class="token punctuation">:</span> <span class="token punctuation">(</span>compilerConfig<span class="token punctuation">)</span> <span class="token operator">=></span> compilerConfig<span class="token punctuation">.</span>name <span class="token operator">===</span> <span class="token string">'only-include'</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<blockquote class="warning">
<p>Make sure that <a href="#devserverhot"><code>devServer.hot</code></a> is set to <code>true</code> because <code>devServer.injectHot</code> only works with HMR.</p>
</blockquote>
<h2 id="devserverinline"><code>devServer.inline</code><a href="#devserverinline" aria-hidden="true"><span class="icon icon-link"></span></a></h2>
<p><code>boolean</code></p>
<p>Toggle between the dev-server's two different modes. By default, the application will be served with <em>inline mode</em> enabled. This means that a script will be inserted in your bundle to take care of live reloading, and build messages will appear in the browser console.</p>
<p>It is also possible to use <strong>iframe mode</strong>, which uses an <code>&#x3C;iframe></code> under a notification bar with messages about the build. To switch to <strong>iframe mode</strong>:</p>
<p><strong>webpack.config.js</strong></p>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  devServer<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    inline<span class="token punctuation">:</span> <span class="token boolean">false</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<p>Usage via the CLI</p>
<pre><code class="hljs language-bash">webpack-dev-server --inline<span class="token operator">=</span>false</code></pre>
<blockquote class="tip">
<p>Inline mode is recommended for <a href="/plugins/hot-module-replacement-plugin/">Hot Module Replacement</a> as it includes an HMR trigger from the websocket. Polling mode can be used as an alternative, but requires an additional entry point, <code>'webpack/hot/poll?1000'</code>.</p>
</blockquote>
<h2 id="devserverlazy-"><code>devServer.lazy</code> 🔑<a href="#devserverlazy-" aria-hidden="true"><span class="icon icon-link"></span></a></h2>
<p><code>boolean</code></p>
<p>When <code>devServer.lazy</code> is enabled, the dev-server will only compile the bundle when it gets requested. This means that webpack will not watch any file changes. We call this <strong>lazy mode</strong>.</p>
<p><strong>webpack.config.js</strong></p>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  devServer<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    lazy<span class="token punctuation">:</span> <span class="token boolean">true</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<p>Usage via the CLI</p>
<pre><code class="hljs language-bash">webpack-dev-server --lazy</code></pre>
<blockquote class="tip">
<p><a href="#devserverwatchoptions-"><code>watchOptions</code></a> will have no effect when used with <strong>lazy mode</strong>.</p>
</blockquote>
<blockquote class="tip">
<p>If you use the CLI, make sure <strong>inline mode</strong> is disabled.</p>
</blockquote>
<h2 id="devserverlivereload"><code>devServer.liveReload</code><a href="#devserverlivereload" aria-hidden="true"><span class="icon icon-link"></span></a></h2>
<p><code>boolean = true</code></p>
<p>By default, the dev-server will reload/refresh the page when file changes are detected. <a href="#devserverhot"><code>devServer.hot</code></a> option must be disabled or <a href="#devserverwatchcontentbase"><code>devServer.watchContentBase</code></a> option must be enabled in order for <code>liveReload</code> to take effect. Disable <code>devServer.liveReload</code> by setting it to <code>false</code>:</p>
<p><strong>webpack.config.js</strong></p>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  devServer<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    liveReload<span class="token punctuation">:</span> <span class="token boolean">false</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<p>Usage via the CLI</p>
<pre><code class="hljs language-bash">webpack-dev-server --no-live-reload</code></pre>
<h2 id="devservermimetypes-"><code>devServer.mimeTypes</code> 🔑<a href="#devservermimetypes-" aria-hidden="true"><span class="icon icon-link"></span></a></h2>
<p><code>object</code></p>
<p>Allows dev-server to register custom mime types.
The object is passed to the underlying <code>webpack-dev-middleware</code>.
See <a href="https://github.com/webpack/webpack-dev-middleware#mimetypes">documentation</a> for usage notes.</p>
<p><strong>webpack.config.js</strong></p>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  devServer<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    mimeTypes<span class="token punctuation">:</span> <span class="token punctuation">{</span> <span class="token string">'text/html'</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">'phtml'</span><span class="token punctuation">]</span> <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<h2 id="devservernoinfo-"><code>devServer.noInfo</code> 🔑<a href="#devservernoinfo-" aria-hidden="true"><span class="icon icon-link"></span></a></h2>
<p><code>boolean = false</code></p>
<p>Tells dev-server to suppress messages like the webpack bundle information. Errors and warnings will still be shown.</p>
<p><strong>webpack.config.js</strong></p>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  devServer<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    noInfo<span class="token punctuation">:</span> <span class="token boolean">true</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<h2 id="devserveronlistening"><code>devServer.onListening</code><a href="#devserveronlistening" aria-hidden="true"><span class="icon icon-link"></span></a></h2>
<p><code>function (server)</code></p>
<p>Provides an option to execute a custom function when <code>webpack-dev-server</code> starts listening for connections on a port.</p>
<p><strong>webpack.config.js</strong></p>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  devServer<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    onListening<span class="token punctuation">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span>server<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">const</span> port <span class="token operator">=</span> server<span class="token punctuation">.</span>listeningApp<span class="token punctuation">.</span><span class="token function">address</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>port<span class="token punctuation">;</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'Listening on port:'</span><span class="token punctuation">,</span> port<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<h2 id="devserveropen"><code>devServer.open</code><a href="#devserveropen" aria-hidden="true"><span class="icon icon-link"></span></a></h2>
<p><code>boolean = false</code> <code>string</code> <code>object</code></p>
<p>Tells dev-server to open the browser after server had been started. Set it to <code>true</code> to open your default browser.</p>
<p><strong>webpack.config.js</strong></p>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  devServer<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    open<span class="token punctuation">:</span> <span class="token boolean">true</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<p>Provide browser name to use instead of the default one:</p>
<p><strong>webpack.config.js</strong></p>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  devServer<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    open<span class="token punctuation">:</span> <span class="token string">'Google Chrome'</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<p>If you want to use flags when opening the browser like opening an incognito window (<code>--incognito</code> flag), you can set <code>open</code> to an object. The object accepts all <a href="https://www.npmjs.com/package/open">open</a> options, <code>app</code> property must be an array. The first element in the array must be the browser name and the other following elements are the flags you want to use. For example:</p>
<p><strong>webpack.config.js</strong></p>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  devServer<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    open<span class="token punctuation">:</span> <span class="token punctuation">{</span>
      app<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">'Google Chrome'</span><span class="token punctuation">,</span> <span class="token string">'--incognito'</span><span class="token punctuation">,</span> <span class="token string">'--other-flag'</span><span class="token punctuation">]</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<p>Usage via the CLI</p>
<pre><code class="hljs language-bash">webpack-dev-server --open <span class="token string">'Google Chrome'</span></code></pre>
<blockquote class="tip">
<p>The browser application name is platform dependent. Don't hard code it in reusable modules. For example, <code>'Chrome'</code> is <code>'Google Chrome'</code> on macOS, <code>'google-chrome'</code> on Linux and <code>'chrome'</code> on Windows.</p>
</blockquote>
<h2 id="devserveropenpage"><code>devServer.openPage</code><a href="#devserveropenpage" aria-hidden="true"><span class="icon icon-link"></span></a></h2>
<p><code>string</code> <code>[string]</code></p>
<p>Specify a page to navigate to when opening the browser.</p>
<p><strong>webpack.config.js</strong></p>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  devServer<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    openPage<span class="token punctuation">:</span> <span class="token string">'/different/page'</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<p>Usage via the CLI</p>
<pre><code class="hljs language-bash">webpack-dev-server --open-page <span class="token string">"/different/page"</span></code></pre>
<p>If you wish to specify multiple pages to open in the browser.</p>
<p><strong>webpack.config.js</strong></p>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  devServer<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    openPage<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">'/different/page1'</span><span class="token punctuation">,</span> <span class="token string">'/different/page2'</span><span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<p>Usage via the CLI</p>
<pre><code class="hljs language-bash">webpack-dev-server --open-page <span class="token string">"/different/page1,/different/page2"</span></code></pre>
<h2 id="devserveroverlay"><code>devServer.overlay</code><a href="#devserveroverlay" aria-hidden="true"><span class="icon icon-link"></span></a></h2>
<p><code>boolean = false</code> <code>object: { errors boolean = false, warnings boolean = false }</code></p>
<p>Shows a full-screen overlay in the browser when there are compiler errors or warnings. If you want to show only compiler errors:</p>
<p><strong>webpack.config.js</strong></p>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  devServer<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    overlay<span class="token punctuation">:</span> <span class="token boolean">true</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<p>If you want to show warnings as well as errors:</p>
<p><strong>webpack.config.js</strong></p>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  devServer<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    overlay<span class="token punctuation">:</span> <span class="token punctuation">{</span>
      warnings<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
      errors<span class="token punctuation">:</span> <span class="token boolean">true</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<h2 id="devserverpfx"><code>devServer.pfx</code><a href="#devserverpfx" aria-hidden="true"><span class="icon icon-link"></span></a></h2>
<p><code>string</code></p>
<p>When used via the CLI, a path to an SSL .pfx file. If used in options, it should be the bytestream of the .pfx file.</p>
<p><strong>webpack.config.js</strong></p>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  devServer<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    pfx<span class="token punctuation">:</span> <span class="token string">'/path/to/file.pfx'</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<p>Usage via the CLI</p>
<pre><code class="hljs language-bash">webpack-dev-server --pfx /path/to/file.pfx</code></pre>
<h2 id="devserverpfxpassphrase"><code>devServer.pfxPassphrase</code><a href="#devserverpfxpassphrase" aria-hidden="true"><span class="icon icon-link"></span></a></h2>
<p><code>string</code></p>
<p>The passphrase to a SSL PFX file.</p>
<p><strong>webpack.config.js</strong></p>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  devServer<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    pfxPassphrase<span class="token punctuation">:</span> <span class="token string">'passphrase'</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<p>Usage via the CLI</p>
<pre><code class="hljs language-bash">webpack-dev-server --pfx-passphrase passphrase</code></pre>
<h2 id="devserverport"><code>devServer.port</code><a href="#devserverport" aria-hidden="true"><span class="icon icon-link"></span></a></h2>
<p><code>number</code></p>
<p>Specify a port number to listen for requests on:</p>
<p><strong>webpack.config.js</strong></p>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  devServer<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    port<span class="token punctuation">:</span> <span class="token number">8080</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<p>Usage via the CLI</p>
<pre><code class="hljs language-bash">webpack-dev-server --port 8080</code></pre>
<h2 id="devserverproxy"><code>devServer.proxy</code><a href="#devserverproxy" aria-hidden="true"><span class="icon icon-link"></span></a></h2>
<p><code>object</code> <code>[object, function]</code></p>
<p>Proxying some URLs can be useful when you have a separate API backend development server and you want to send API requests on the same domain.</p>
<p>The dev-server makes use of the powerful <a href="https://github.com/chimurai/http-proxy-middleware">http-proxy-middleware</a> package. Check out its <a href="https://github.com/chimurai/http-proxy-middleware#options">documentation</a> for more advanced usages. Note that some of <code>http-proxy-middleware</code>'s features do not require a <code>target</code> key, e.g. its <code>router</code> feature, but you will still need to include a <code>target</code> key in your configuration here, otherwise <code>webpack-dev-server</code> won't pass it along to <code>http-proxy-middleware</code>).</p>
<p>With a backend on <code>localhost:3000</code>, you can use this to enable proxying:</p>
<p><strong>webpack.config.js</strong></p>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  devServer<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    proxy<span class="token punctuation">:</span> <span class="token punctuation">{</span>
      <span class="token string">'/api'</span><span class="token punctuation">:</span> <span class="token string">'http://localhost:3000'</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<p>A request to <code>/api/users</code> will now proxy the request to <code>http://localhost:3000/api/users</code>.</p>
<p>If you don't want <code>/api</code> to be passed along, we need to rewrite the path:</p>
<p><strong>webpack.config.js</strong></p>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  devServer<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    proxy<span class="token punctuation">:</span> <span class="token punctuation">{</span>
      <span class="token string">'/api'</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>
        target<span class="token punctuation">:</span> <span class="token string">'http://localhost:3000'</span><span class="token punctuation">,</span>
        pathRewrite<span class="token punctuation">:</span> <span class="token punctuation">{</span><span class="token string">'^/api'</span> <span class="token punctuation">:</span> <span class="token string">''</span><span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<p>A backend server running on HTTPS with an invalid certificate will not be accepted by default. If you want to, modify your configuration like this:</p>
<p><strong>webpack.config.js</strong></p>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  devServer<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    proxy<span class="token punctuation">:</span> <span class="token punctuation">{</span>
      <span class="token string">'/api'</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>
        target<span class="token punctuation">:</span> <span class="token string">'https://other-server.example.com'</span><span class="token punctuation">,</span>
        secure<span class="token punctuation">:</span> <span class="token boolean">false</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<p>Sometimes you don't want to proxy everything. It is possible to bypass the proxy based on the return value of a function.</p>
<p>In the function you get access to the request, response, and proxy options.</p>
<ul>
<li>Return <code>null</code> or <code>undefined</code> to continue processing the request with proxy.</li>
<li>Return <code>false</code> to produce a 404 error for the request.</li>
<li>Return a path to serve from, instead of continuing to proxy the request.</li>
</ul>
<p>E.g. for a browser request, you want to serve an HTML page, but for an API request you want to proxy it. You could do something like this:</p>
<p><strong>webpack.config.js</strong></p>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  devServer<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    proxy<span class="token punctuation">:</span> <span class="token punctuation">{</span>
      <span class="token string">'/api'</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>
        target<span class="token punctuation">:</span> <span class="token string">'http://localhost:3000'</span><span class="token punctuation">,</span>
        bypass<span class="token punctuation">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span>req<span class="token punctuation">,</span> res<span class="token punctuation">,</span> proxyOptions<span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token keyword">if</span> <span class="token punctuation">(</span>req<span class="token punctuation">.</span>headers<span class="token punctuation">.</span>accept<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span><span class="token string">'html'</span><span class="token punctuation">)</span> <span class="token operator">!==</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'Skipping proxy for browser request.'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">return</span> <span class="token string">'/index.html'</span><span class="token punctuation">;</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<p>If you want to proxy multiple, specific paths to the same target, you can use an array of one or more objects with a <code>context</code> property:</p>
<p><strong>webpack.config.js</strong></p>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  devServer<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    proxy<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span>
      context<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">'/auth'</span><span class="token punctuation">,</span> <span class="token string">'/api'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      target<span class="token punctuation">:</span> <span class="token string">'http://localhost:3000'</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<p>Note that requests to root won't be proxied by default. To enable root proxying, the <code>devServer.index</code> option should be specified as a falsy value:</p>
<p><strong>webpack.config.js</strong></p>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  devServer<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    index<span class="token punctuation">:</span> <span class="token string">''</span><span class="token punctuation">,</span> <span class="token comment">// specify to enable root proxying</span>
    host<span class="token punctuation">:</span> <span class="token string">'...'</span><span class="token punctuation">,</span>
    contentBase<span class="token punctuation">:</span> <span class="token string">'...'</span><span class="token punctuation">,</span>
    proxy<span class="token punctuation">:</span> <span class="token punctuation">{</span>
      context<span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token boolean">true</span><span class="token punctuation">,</span>
      target<span class="token punctuation">:</span> <span class="token string">'http://localhost:1234'</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<p>The origin of the host header is kept when proxying by default, you can set <code>changeOrigin</code> to <code>true</code> to override this behaviour. It is useful in some cases like using <a href="https://en.wikipedia.org/wiki/Virtual_hosting#Name-based">name-based virtual hosted sites</a>.</p>
<p><strong>webpack.config.js</strong></p>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  devServer<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    proxy<span class="token punctuation">:</span> <span class="token punctuation">{</span>
      <span class="token string">'/api'</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>
        target<span class="token punctuation">:</span> <span class="token string">'http://localhost:3000'</span><span class="token punctuation">,</span>
        changeOrigin<span class="token punctuation">:</span> <span class="token boolean">true</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<h2 id="devserverprogress---cli-only"><code>devServer.progress</code> - CLI only<a href="#devserverprogress---cli-only" aria-hidden="true"><span class="icon icon-link"></span></a></h2>
<p><code>boolean</code></p>
<p>Output running progress to console.</p>
<pre><code class="hljs language-bash">webpack-dev-server --progress</code></pre>
<h2 id="devserverpublic"><code>devServer.public</code><a href="#devserverpublic" aria-hidden="true"><span class="icon icon-link"></span></a></h2>
<p><code>string</code></p>
<p>When using <em>inline mode</em> and you're proxying dev-server, the inline client script does not always know where to connect to. It will try to guess the URL of the server based on <code>window.location</code>, but if that fails you'll need to use this.</p>
<p>For example, the dev-server is proxied by nginx, and available on <code>myapp.test</code>:</p>
<p><strong>webpack.config.js</strong></p>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  devServer<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span><span class="token punctuation">:</span> <span class="token string">'myapp.test:80'</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<p>Usage via the CLI</p>
<pre><code class="hljs language-bash">webpack-dev-server --public myapp.test:80</code></pre>
<h2 id="devserverpublicpath-"><code>devServer.publicPath</code> 🔑<a href="#devserverpublicpath-" aria-hidden="true"><span class="icon icon-link"></span></a></h2>
<p><code>string = '/'</code></p>
<p>The bundled files will be available in the browser under this path.</p>
<p>Imagine that the server is running under <code>http://localhost:8080</code> and <a href="/configuration/output/#outputfilename"><code>output.filename</code></a> is set to <code>bundle.js</code>. By default the <code>devServer.publicPath</code> is <code>'/'</code>, so your bundle is available as <code>http://localhost:8080/bundle.js</code>.</p>
<p>Change <code>devServer.publicPath</code> to put bundle under specific directory:</p>
<p><strong>webpack.config.js</strong></p>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  devServer<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    publicPath<span class="token punctuation">:</span> <span class="token string">'/assets/'</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<p>The bundle will now be available as <code>http://localhost:8080/assets/bundle.js</code>.</p>
<blockquote class="tip">
<p>Make sure <code>devServer.publicPath</code> always starts and ends with a forward slash.</p>
</blockquote>
<p>It is also possible to use a full URL.</p>
<p><strong>webpack.config.js</strong></p>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  devServer<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    publicPath<span class="token punctuation">:</span> <span class="token string">'http://localhost:8080/assets/'</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<p>The bundle will also be available as <code>http://localhost:8080/assets/bundle.js</code>.</p>
<blockquote class="tip">
<p>It is recommended that <code>devServer.publicPath</code> is the same as <a href="/configuration/output/#outputpublicpath"><code>output.publicPath</code></a>.</p>
</blockquote>
<h2 id="devserverquiet-"><code>devServer.quiet</code> 🔑<a href="#devserverquiet-" aria-hidden="true"><span class="icon icon-link"></span></a></h2>
<p><code>boolean</code></p>
<p>With <code>devServer.quiet</code> enabled, nothing except the initial startup information will be written to the console. This also means that errors or warnings from webpack are not visible.</p>
<p><strong>webpack.config.js</strong></p>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  devServer<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    quiet<span class="token punctuation">:</span> <span class="token boolean">true</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<p>Usage via the CLI</p>
<pre><code class="hljs language-bash">webpack-dev-server --quiet</code></pre>
<h2 id="devserverserveindex"><code>devServer.serveIndex</code><a href="#devserverserveindex" aria-hidden="true"><span class="icon icon-link"></span></a></h2>
<p><code>boolean = true</code></p>
<p>Tells dev-server to use <a href="https://github.com/expressjs/serve-index"><code>serveIndex</code></a> middleware when enabled.</p>
<p><a href="https://github.com/expressjs/serve-index"><code>serveIndex</code></a> middleware generates directory listings on viewing directories that don't have an index.html file.</p>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  devServer<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    serveIndex<span class="token punctuation">:</span> <span class="token boolean">true</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<h2 id="devserversetup"><code>devServer.setup</code><a href="#devserversetup" aria-hidden="true"><span class="icon icon-link"></span></a></h2>
<p><code>function (app, server)</code></p>
<blockquote class="warning">
<p>This option is <strong>deprecated</strong> in favor of <a href="#devserverbefore"><code>devServer.before</code></a> and will be removed in v3.0.0.</p>
</blockquote>
<p>Here you can access the Express app object and add your own custom middleware to it.
For example, to define custom handlers for some paths:</p>
<p><strong>webpack.config.js</strong></p>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  devServer<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    setup<span class="token punctuation">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span>app<span class="token punctuation">,</span> server<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      app<span class="token punctuation">.</span><span class="token keyword">get</span><span class="token punctuation">(</span><span class="token string">'/some/path'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span>req<span class="token punctuation">,</span> res<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        res<span class="token punctuation">.</span><span class="token function">json</span><span class="token punctuation">(</span><span class="token punctuation">{</span> custom<span class="token punctuation">:</span> <span class="token string">'response'</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<h2 id="devserversocket"><code>devServer.socket</code><a href="#devserversocket" aria-hidden="true"><span class="icon icon-link"></span></a></h2>
<p><code>string</code></p>
<p>The Unix socket to listen to (instead of a host).</p>
<p><strong>webpack.config.js</strong></p>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  devServer<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    socket<span class="token punctuation">:</span> <span class="token string">'socket'</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<p>Usage via the CLI</p>
<pre><code class="hljs language-bash">webpack-dev-server --socket socket</code></pre>
<h2 id="devserversockhost"><code>devServer.sockHost</code><a href="#devserversockhost" aria-hidden="true"><span class="icon icon-link"></span></a></h2>
<p><code>string</code></p>
<p>Tells clients connected to <code>devServer</code> to use provided socket host.</p>
<p><strong>webpack.config.js</strong></p>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  devServer<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    sockHost<span class="token punctuation">:</span> <span class="token string">'myhost.test'</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<h2 id="devserversockpath"><code>devServer.sockPath</code><a href="#devserversockpath" aria-hidden="true"><span class="icon icon-link"></span></a></h2>
<p><code>string = '/sockjs-node'</code></p>
<p>The path at which to connect to the reloading socket.</p>
<p><strong>webpack.config.js</strong></p>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  devServer<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    sockPath<span class="token punctuation">:</span> <span class="token string">'/socket'</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<p>Usage via the CLI</p>
<pre><code class="hljs language-bash">webpack-dev-server --sockPath /socket</code></pre>
<h2 id="devserversockport"><code>devServer.sockPort</code><a href="#devserversockport" aria-hidden="true"><span class="icon icon-link"></span></a></h2>
<p><code>number</code> <code>string</code></p>
<p>Tells clients connected to <code>devServer</code> to use provided socket port.</p>
<p><strong>webpack.config.js</strong></p>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  devServer<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    sockPort<span class="token punctuation">:</span> <span class="token number">8080</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<h2 id="devserverstaticoptions"><code>devServer.staticOptions</code><a href="#devserverstaticoptions" aria-hidden="true"><span class="icon icon-link"></span></a></h2>
<p><code>object</code></p>
<p>It is possible to configure advanced options for serving static files from <code>contentBase</code>. See the <a href="http://expressjs.com/en/4x/api.html#express.static">Express documentation</a> for the possible options.</p>
<p><strong>webpack.config.js</strong></p>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  devServer<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    staticOptions<span class="token punctuation">:</span> <span class="token punctuation">{</span>
      redirect<span class="token punctuation">:</span> <span class="token boolean">false</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<blockquote class="tip">
<p>This only works when using <a href="#devservercontentbase"><code>devServer.contentBase</code></a> as a <code>string</code>.</p>
</blockquote>
<h2 id="devserverstats-"><code>devServer.stats</code> 🔑<a href="#devserverstats-" aria-hidden="true"><span class="icon icon-link"></span></a></h2>
<p><code>string: 'none' | 'errors-only' | 'minimal' | 'normal' | 'verbose'</code> <code>object</code></p>
<p>This option lets you precisely control what bundle information gets displayed. This can be a nice middle ground if you want some bundle information, but not all of it.</p>
<p>To show only errors in your bundle:</p>
<p><strong>webpack.config.js</strong></p>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  devServer<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    stats<span class="token punctuation">:</span> <span class="token string">'errors-only'</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<p>For more information, see the <a href="/configuration/stats/"><strong>stats documentation</strong></a>.</p>
<blockquote class="tip">
<p>This option has no effect when used with <code>quiet</code> or <code>noInfo</code>.</p>
</blockquote>
<h2 id="devserverstdin---cli-only"><code>devServer.stdin</code> - CLI only<a href="#devserverstdin---cli-only" aria-hidden="true"><span class="icon icon-link"></span></a></h2>
<p><code>boolean</code></p>
<p>This option closes the server when stdin ends.</p>
<pre><code class="hljs language-bash">webpack-dev-server --stdin</code></pre>
<h2 id="devservertransportmode"><code>devServer.transportMode</code><a href="#devservertransportmode" aria-hidden="true"><span class="icon icon-link"></span></a></h2>
<p><code>string = 'sockjs': 'sockjs' | 'ws'</code> <code>object</code></p>
<blockquote class="warning">
<p><code>transportMode</code> is an experimental option, meaning its usage could potentially change without warning.</p>
</blockquote>
<blockquote class="tip">
<p>Providing a string to <code>devServer.transportMode</code> is a shortcut to setting both <code>devServer.transportMode.client</code> and <code>devServer.transportMode.server</code> to the given string value.</p>
</blockquote>
<p>This option allows us either to choose the current <code>devServer</code> transport mode for client/server individually or to provide custom client/server implementation. This allows to specify how browser or other client communicates with the <code>devServer</code>.</p>
<p>The current default mode is <a href="https://www.npmjs.com/package/sockjs"><code>'sockjs'</code></a>. This mode uses <a href="https://github.com/sockjs/sockjs-node">SockJS-node</a> as a server, and <a href="https://www.npmjs.com/package/sockjs-client">SockJS-client</a> on the client.</p>
<p><code>'ws'</code> mode will become the default mode in the next major <code>devServer</code> version. This mode uses <a href="https://www.npmjs.com/package/ws">ws</a> as a server, and native WebSockets on the client.</p>
<p>Use <code>'ws'</code> mode:</p>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  devServer<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    transportMode<span class="token punctuation">:</span> <span class="token string">'ws'</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<blockquote class="tip">
<p>When providing a custom client and server implementation make sure that they are compatible with one another to communicate successfully.</p>
</blockquote>
<h3 id="devservertransportmodeclient"><code>devServer.transportMode.client</code><a href="#devservertransportmodeclient" aria-hidden="true"><span class="icon icon-link"></span></a></h3>
<p><code>string</code> <code>path</code></p>
<p>To create a custom client implementation, create a class that extends <a href="https://github.com/webpack/webpack-dev-server/blob/master/client-src/clients/BaseClient.js"><code>BaseClient</code></a>.</p>
<p>Using path to <code>CustomClient.js</code>, a custom WebSocket client implementation, along with the compatible <code>'ws'</code> server:</p>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  devServer<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    transportMode<span class="token punctuation">:</span> <span class="token punctuation">{</span>
      client<span class="token punctuation">:</span> require<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span><span class="token string">'./CustomClient'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
      server<span class="token punctuation">:</span> <span class="token string">'ws'</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<h3 id="devservertransportmodeserver"><code>devServer.transportMode.server</code><a href="#devservertransportmodeserver" aria-hidden="true"><span class="icon icon-link"></span></a></h3>
<p><code>string</code> <code>path</code> <code>function</code></p>
<p>To create a custom server implementation, create a class that extends <a href="https://github.com/webpack/webpack-dev-server/blob/master/lib/servers/BaseServer.js"><code>BaseServer</code></a>.</p>
<p>Using path to <code>CustomServer.js</code>, a custom WebSocket server implementation, along with the compatible <code>'ws'</code> client:</p>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  devServer<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    transportMode<span class="token punctuation">:</span> <span class="token punctuation">{</span>
      client<span class="token punctuation">:</span> <span class="token string">'ws'</span><span class="token punctuation">,</span>
      server<span class="token punctuation">:</span> require<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span><span class="token string">'./CustomServer'</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<p>Using class exported by <code>CustomServer.js</code>, a custom WebSocket server implementation, along with the compatible <code>'ws'</code> client:</p>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  devServer<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    transportMode<span class="token punctuation">:</span> <span class="token punctuation">{</span>
      client<span class="token punctuation">:</span> <span class="token string">'ws'</span><span class="token punctuation">,</span>
      server<span class="token punctuation">:</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'./CustomServer'</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<p>Using custom, compatible WebSocket client and server implementations:</p>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  devServer<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    transportMode<span class="token punctuation">:</span> <span class="token punctuation">{</span>
      client<span class="token punctuation">:</span> require<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span><span class="token string">'./CustomClient'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
      server<span class="token punctuation">:</span> require<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span><span class="token string">'./CustomServer'</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<h2 id="devserveruselocalip"><code>devServer.useLocalIp</code><a href="#devserveruselocalip" aria-hidden="true"><span class="icon icon-link"></span></a></h2>
<p><code>boolean</code></p>
<p>This option lets the browser open with your local IP.</p>
<p><strong>webpack.config.js</strong></p>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  devServer<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    useLocalIp<span class="token punctuation">:</span> <span class="token boolean">true</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<p>Usage via the CLI</p>
<pre><code class="hljs language-bash">webpack-dev-server --useLocalIp</code></pre>
<h2 id="devserverwatchcontentbase"><code>devServer.watchContentBase</code><a href="#devserverwatchcontentbase" aria-hidden="true"><span class="icon icon-link"></span></a></h2>
<p><code>boolean</code></p>
<p>Tell dev-server to watch the files served by the <a href="#devservercontentbase"><code>devServer.contentBase</code></a> option. It is disabled by default. When enabled, file changes will trigger a full page reload.</p>
<p><strong>webpack.config.js</strong></p>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  devServer<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    watchContentBase<span class="token punctuation">:</span> <span class="token boolean">true</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<p>Usage via the CLI</p>
<pre><code class="hljs language-bash">webpack-dev-server --watch-content-base</code></pre>
<h2 id="devserverwatchoptions-"><code>devServer.watchOptions</code> 🔑<a href="#devserverwatchoptions-" aria-hidden="true"><span class="icon icon-link"></span></a></h2>
<p><code>object</code></p>
<p>Control options related to watching the files.</p>
<p>webpack uses the file system to get notified of file changes. In some cases, this does not work. For example, when using Network File System (NFS). <a href="https://www.vagrantup.com/">Vagrant</a> also has a lot of problems with this. In these cases, use polling:</p>
<p><strong>webpack.config.js</strong></p>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  devServer<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    watchOptions<span class="token punctuation">:</span> <span class="token punctuation">{</span>
      poll<span class="token punctuation">:</span> <span class="token boolean">true</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<p>If this is too heavy on the file system, you can change this to an integer to set the interval in milliseconds.</p>
<p>See <a href="/configuration/watch/">WatchOptions</a> for more options.</p>
<h2 id="devserverwritetodisk-"><code>devServer.writeToDisk</code> 🔑<a href="#devserverwritetodisk-" aria-hidden="true"><span class="icon icon-link"></span></a></h2>
<p><code>boolean = false</code> <code>function (filePath) => boolean</code></p>
<p>Tells <code>devServer</code> to write generated assets to the disk. The output is written to the <a href="/configuration/output/#outputpath">output.path</a> directory.</p>
<p><strong>webpack.config.js</strong></p>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  devServer<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    writeToDisk<span class="token punctuation">:</span> <span class="token boolean">true</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<p>Providing a <code>Function</code> to <code>devServer.writeToDisk</code> can be used for filtering. The function follows the same premise as <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/filter"><code>Array#filter</code></a> in which a boolean return value tells if the file should be written to disk.</p>
<p><strong>webpack.config.js</strong></p>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  devServer<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    writeToDisk<span class="token punctuation">:</span> <span class="token punctuation">(</span>filePath<span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token operator">/</span>superman\<span class="token punctuation">.</span>css$<span class="token operator">/</span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>filePath<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<blockquote class="tip">
<p>It is possible to set any Node.js flags via <code>NODE_OPTIONS</code>, for example, to configure <code>HTTP_MAX_HEADER_SIZE</code>: </p>
</blockquote>
<p><strong>package.json</strong></p>
<pre><code class="hljs language-json"><span class="token punctuation">{</span>
  <span class="token property">"scripts"</span><span class="token operator">:</span> <span class="token string">"NODE_OPTIONS='--max-http-header-size=100000' webpack-dev-server"</span>
<span class="token punctuation">}</span></code></pre>
<h1 id="devtool">Devtool<a href="#devtool" aria-hidden="true"><span class="icon icon-link"></span></a></h1>
<p>此选项控制是否生成，以及如何生成 source map。</p>
<p>使用 <a href="/plugins/source-map-dev-tool-plugin"><code>SourceMapDevToolPlugin</code></a> 进行更细粒度的配置。查看 <a href="/loaders/source-map-loader"><code>source-map-loader</code></a> 来处理已有的 source map。</p>
<h2 id="devtool-1"><code>devtool</code><a href="#devtool-1" aria-hidden="true"><span class="icon icon-link"></span></a></h2>
<p><code>string</code> <code>false</code></p>
<p>选择一种 <a href="http://blog.teamtreehouse.com/introduction-source-maps">source map</a> 格式来增强调试过程。不同的值会明显影响到构建(build)和重新构建(rebuild)的速度。</p>
<blockquote class="tip">
<p>webpack 仓库中包含一个 <a href="https://github.com/webpack/webpack/tree/master/examples/source-map">显示所有 <code>devtool</code> 变体效果的示例</a>。这些例子或许会有助于你理解这些差异之处。</p>
</blockquote>
<blockquote class="tip">
<p>你可以直接使用 <code>SourceMapDevToolPlugin</code>/<code>EvalSourceMapDevToolPlugin</code> 来替代使用 <code>devtool</code> 选项，因为它有更多的选项。切勿同时使用 <code>devtool</code> 选项和 <code>SourceMapDevToolPlugin</code>/<code>EvalSourceMapDevToolPlugin</code> 插件。<code>devtool</code> 选项在内部添加过这些插件，所以你最终将应用两次插件。</p>
</blockquote>
<table>
<thead>
<tr>
<th>devtool</th>
<th>构建速度</th>
<th>重新构建速度</th>
<th>生产环境</th>
<th>品质(quality)</th>
</tr>
</thead>
<tbody>
<tr>
<td><div class="title"><p>devtool</p><p>构建速度</p><p>重新构建速度</p><p>生产环境</p><p>品质(quality)</p></div>
<div class="content"><p>(none)<p class="description mobile">非常快速</p></p></div></td>
<td class="description desktop">非常快速</td>
<td>非常快速</td>
<td>yes</td>
<td>打包后的代码</td>
</tr>
<tr>
<td><div class="title"><p>devtool</p><p>构建速度</p><p>重新构建速度</p><p>生产环境</p><p>品质(quality)</p></div>
<div class="content"><p>eval<p class="description mobile">非常快速</p></p></div></td>
<td class="description desktop">非常快速</td>
<td>非常快速</td>
<td>no</td>
<td>生成后的代码</td>
</tr>
<tr>
<td><div class="title"><p>devtool</p><p>构建速度</p><p>重新构建速度</p><p>生产环境</p><p>品质(quality)</p></div>
<div class="content"><p>eval-cheap-source-map<p class="description mobile">比较快</p></p></div></td>
<td class="description desktop">比较快</td>
<td>快速</td>
<td>no</td>
<td>转换过的代码（仅限行）</td>
</tr>
<tr>
<td><div class="title"><p>devtool</p><p>构建速度</p><p>重新构建速度</p><p>生产环境</p><p>品质(quality)</p></div>
<div class="content"><p>eval-cheap-module-source-map<p class="description mobile">中等</p></p></div></td>
<td class="description desktop">中等</td>
<td>快速</td>
<td>no</td>
<td>原始源代码（仅限行）</td>
</tr>
<tr>
<td><div class="title"><p>devtool</p><p>构建速度</p><p>重新构建速度</p><p>生产环境</p><p>品质(quality)</p></div>
<div class="content"><p>eval-source-map<p class="description mobile">慢</p></p></div></td>
<td class="description desktop">慢</td>
<td>比较快</td>
<td>no</td>
<td>原始源代码</td>
</tr>
<tr>
<td><div class="title"><p>devtool</p><p>构建速度</p><p>重新构建速度</p><p>生产环境</p><p>品质(quality)</p></div>
<div class="content"><p>eval-nosources-source-map<p class="description mobile"></p></p></div></td>
<td class="description desktop"></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td><div class="title"><p>devtool</p><p>构建速度</p><p>重新构建速度</p><p>生产环境</p><p>品质(quality)</p></div>
<div class="content"><p>eval-nosources-cheap-source-map<p class="description mobile"></p></p></div></td>
<td class="description desktop"></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td><div class="title"><p>devtool</p><p>构建速度</p><p>重新构建速度</p><p>生产环境</p><p>品质(quality)</p></div>
<div class="content"><p>eval-nosources-cheap-module-source-map<p class="description mobile"></p></p></div></td>
<td class="description desktop"></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td><div class="title"><p>devtool</p><p>构建速度</p><p>重新构建速度</p><p>生产环境</p><p>品质(quality)</p></div>
<div class="content"><p>cheap-source-map<p class="description mobile">比较快</p></p></div></td>
<td class="description desktop">比较快</td>
<td>中等</td>
<td>yes</td>
<td>转换过的代码（仅限行）</td>
</tr>
<tr>
<td><div class="title"><p>devtool</p><p>构建速度</p><p>重新构建速度</p><p>生产环境</p><p>品质(quality)</p></div>
<div class="content"><p>cheap-module-source-map<p class="description mobile">中等</p></p></div></td>
<td class="description desktop">中等</td>
<td>比较慢</td>
<td>yes</td>
<td>原始源代码（仅限行）</td>
</tr>
<tr>
<td><div class="title"><p>devtool</p><p>构建速度</p><p>重新构建速度</p><p>生产环境</p><p>品质(quality)</p></div>
<div class="content"><p>inline-cheap-source-map<p class="description mobile">比较快</p></p></div></td>
<td class="description desktop">比较快</td>
<td>中等</td>
<td>no</td>
<td>转换过的代码（仅限行）</td>
</tr>
<tr>
<td><div class="title"><p>devtool</p><p>构建速度</p><p>重新构建速度</p><p>生产环境</p><p>品质(quality)</p></div>
<div class="content"><p>inline-cheap-module-source-map<p class="description mobile">中等</p></p></div></td>
<td class="description desktop">中等</td>
<td>比较慢</td>
<td>no</td>
<td>原始源代码（仅限行）</td>
</tr>
<tr>
<td><div class="title"><p>devtool</p><p>构建速度</p><p>重新构建速度</p><p>生产环境</p><p>品质(quality)</p></div>
<div class="content"><p>inline-source-map<p class="description mobile">慢</p></p></div></td>
<td class="description desktop">慢</td>
<td>慢</td>
<td>no</td>
<td>原始源代码</td>
</tr>
<tr>
<td><div class="title"><p>devtool</p><p>构建速度</p><p>重新构建速度</p><p>生产环境</p><p>品质(quality)</p></div>
<div class="content"><p>inline-nosources-source-map<p class="description mobile"></p></p></div></td>
<td class="description desktop"></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td><div class="title"><p>devtool</p><p>构建速度</p><p>重新构建速度</p><p>生产环境</p><p>品质(quality)</p></div>
<div class="content"><p>inline-nosources-cheap-source-map<p class="description mobile"></p></p></div></td>
<td class="description desktop"></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td><div class="title"><p>devtool</p><p>构建速度</p><p>重新构建速度</p><p>生产环境</p><p>品质(quality)</p></div>
<div class="content"><p>inline-nosources-cheap-module-source-map<p class="description mobile"></p></p></div></td>
<td class="description desktop"></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td><div class="title"><p>devtool</p><p>构建速度</p><p>重新构建速度</p><p>生产环境</p><p>品质(quality)</p></div>
<div class="content"><p>source-map<p class="description mobile">慢</p></p></div></td>
<td class="description desktop">慢</td>
<td>慢</td>
<td>yes</td>
<td>原始源代码</td>
</tr>
<tr>
<td><div class="title"><p>devtool</p><p>构建速度</p><p>重新构建速度</p><p>生产环境</p><p>品质(quality)</p></div>
<div class="content"><p>hidden-source-map<p class="description mobile">慢</p></p></div></td>
<td class="description desktop">慢</td>
<td>慢</td>
<td>yes</td>
<td>原始源代码</td>
</tr>
<tr>
<td><div class="title"><p>devtool</p><p>构建速度</p><p>重新构建速度</p><p>生产环境</p><p>品质(quality)</p></div>
<div class="content"><p>hidden-nosources-source-map<p class="description mobile"></p></p></div></td>
<td class="description desktop"></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td><div class="title"><p>devtool</p><p>构建速度</p><p>重新构建速度</p><p>生产环境</p><p>品质(quality)</p></div>
<div class="content"><p>hidden-nosources-cheap-source-map<p class="description mobile"></p></p></div></td>
<td class="description desktop"></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td><div class="title"><p>devtool</p><p>构建速度</p><p>重新构建速度</p><p>生产环境</p><p>品质(quality)</p></div>
<div class="content"><p>hidden-nosources-cheap-module-source-map<p class="description mobile"></p></p></div></td>
<td class="description desktop"></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td><div class="title"><p>devtool</p><p>构建速度</p><p>重新构建速度</p><p>生产环境</p><p>品质(quality)</p></div>
<div class="content"><p>hidden-cheap-source-map<p class="description mobile"></p></p></div></td>
<td class="description desktop"></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td><div class="title"><p>devtool</p><p>构建速度</p><p>重新构建速度</p><p>生产环境</p><p>品质(quality)</p></div>
<div class="content"><p>hidden-cheap-module-source-map<p class="description mobile"></p></p></div></td>
<td class="description desktop"></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td><div class="title"><p>devtool</p><p>构建速度</p><p>重新构建速度</p><p>生产环境</p><p>品质(quality)</p></div>
<div class="content"><p>nosources-source-map<p class="description mobile">慢</p></p></div></td>
<td class="description desktop">慢</td>
<td>慢</td>
<td>yes</td>
<td>无源代码内容</td>
</tr>
<tr>
<td><div class="title"><p>devtool</p><p>构建速度</p><p>重新构建速度</p><p>生产环境</p><p>品质(quality)</p></div>
<div class="content"><p>nosources-cheap-source-map<p class="description mobile"></p></p></div></td>
<td class="description desktop"></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td><div class="title"><p>devtool</p><p>构建速度</p><p>重新构建速度</p><p>生产环境</p><p>品质(quality)</p></div>
<div class="content"><p>nosources-cheap-module-source-map<p class="description mobile"></p></p></div></td>
<td class="description desktop"></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
<blockquote class="tip">
<p>验证 devtool 名称时， 我们期望使用某种模式， 注意不要混淆 devtool 字符串的顺序， 模式是： <code>[inline-|hidden-|eval-][nosources-][cheap-[module-]]source-map</code>.</p>
</blockquote>
<p>其中一些值适用于开发环境，一些适用于生产环境。对于开发环境，通常希望更快速的 source map，需要添加到 bundle 中以增加体积为代价，但是对于生产环境，则希望更精准的 source map，需要从 bundle 中分离并独立存在。</p>
<blockquote class="warning">
<p>Chrome 中的 source map 有一些问题。<a href="https://github.com/webpack/webpack/issues/3165">我们需要你的帮助！</a>。</p>
</blockquote>
<blockquote class="tip">
<p>查看 <a href="/configuration/output#output-sourcemapfilename"><code>output.sourceMapFilename</code></a> 自定义生成的 source map 的文件名。</p>
</blockquote>
<h3 id="品质说明quality">品质说明(quality)<a href="#%E5%93%81%E8%B4%A8%E8%AF%B4%E6%98%8Equality" aria-hidden="true"><span class="icon icon-link"></span></a></h3>
<p><code>打包后的代码</code> - 将所有生成的代码视为一大块代码。你看不到相互分离的模块。</p>
<p><code>生成后的代码</code> - 每个模块相互分离，并用模块名称进行注释。可以看到 webpack 生成的代码。示例：你会看到类似 <code>var module__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(42); module__WEBPACK_IMPORTED_MODULE_1__.a();</code>，而不是 <code>import {test} from "module"; test();</code>。</p>
<p><code>转换过的代码</code> - 每个模块相互分离，并用模块名称进行注释。可以看到 webpack 转换前、loader 转译后的代码。示例：你会看到类似 <code>import {test} from "module"; var A = function(_test) { ... }(test);</code>，而不是 <code>import {test} from "module"; class A extends test {}</code>。</p>
<p><code>原始源代码</code> - 每个模块相互分离，并用模块名称进行注释。你会看到转译之前的代码，正如编写它时。这取决于 loader 支持。</p>
<p><code>无源代码内容</code> - source map 中不包含源代码内容。浏览器通常会尝试从 web 服务器或文件系统加载源代码。你必须确保正确设置 <a href="/configuration/output/#output-devtoolmodulefilenametemplate"><code>output.devtoolModuleFilenameTemplate</code></a>，以匹配源代码的 url。</p>
<p><code>（仅限行）</code> - source map 被简化为每行一个映射。这通常意味着每个语句只有一个映射（假设你使用这种方式）。这会妨碍你在语句级别上调试执行，也会妨碍你在每行的一些列上设置断点。与压缩后的代码组合后，映射关系是不可能实现的，因为压缩工具通常只会输出一行。</p>
<h3 id="对于开发环境">对于开发环境<a href="#%E5%AF%B9%E4%BA%8E%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83" aria-hidden="true"><span class="icon icon-link"></span></a></h3>
<p>以下选项非常适合开发环境：</p>
<p><code>eval</code> - 每个模块都使用 <code>eval()</code> 执行，并且都有 <code>//@ sourceURL</code>。此选项会非常快地构建。主要缺点是，由于会映射到转换后的代码，而不是映射到原始代码（没有从 loader 中获取 source map），所以不能正确的显示行数。</p>
<p><code>eval-source-map</code> - 每个模块使用 <code>eval()</code> 执行，并且 source map 转换为 DataUrl 后添加到 <code>eval()</code> 中。初始化 source map 时比较慢，但是会在重新构建时提供比较快的速度，并且生成实际的文件。行数能够正确映射，因为会映射到原始代码中。它会生成用于开发环境的最佳品质的 source map。</p>
<p><code>eval-cheap-source-map</code> - 类似 <code>eval-source-map</code>，每个模块使用 <code>eval()</code> 执行。这是 "cheap(低开销)" 的 source map，因为它没有生成列映射(column mapping)，只是映射行数。它会忽略源自 loader 的 source map，并且仅显示转译后的代码，就像 <code>eval</code> devtool。</p>
<p><code>eval-cheap-module-source-map</code> - 类似 <code>eval-cheap-source-map</code>，并且，在这种情况下，源自 loader 的 source map 会得到更好的处理结果。然而，loader source map 会被简化为每行一个映射(mapping)。</p>
<h3 id="特定场景">特定场景<a href="#%E7%89%B9%E5%AE%9A%E5%9C%BA%E6%99%AF" aria-hidden="true"><span class="icon icon-link"></span></a></h3>
<p>以下选项对于开发环境和生产环境并不理想。他们是一些特定场景下需要的，例如，针对一些第三方工具。</p>
<p><code>inline-source-map</code> - source map 转换为 DataUrl 后添加到 bundle 中。</p>
<p><code>cheap-source-map</code> - 没有列映射(column mapping)的 source map，忽略 loader source map。</p>
<p><code>inline-cheap-source-map</code> - 类似 <code>cheap-source-map</code>，但是 source map 转换为 DataUrl 后添加到 bundle 中。</p>
<p><code>cheap-module-source-map</code> - 没有列映射(column mapping)的 source map，将 loader source map 简化为每行一个映射(mapping)。</p>
<p><code>inline-cheap-module-source-map</code> - 类似 <code>cheap-module-source-map</code>，但是 source mapp 转换为 DataUrl 添加到 bundle 中。</p>
<h3 id="对于生产环境">对于生产环境<a href="#%E5%AF%B9%E4%BA%8E%E7%94%9F%E4%BA%A7%E7%8E%AF%E5%A2%83" aria-hidden="true"><span class="icon icon-link"></span></a></h3>
<p>这些选项通常用于生产环境中：</p>
<p><code>(none)</code>（省略 <code>devtool</code> 选项） - 不生成 source map。这是一个不错的选择。</p>
<p><code>source-map</code> - 整个 source map 作为一个单独的文件生成。它为 bundle 添加了一个引用注释，以便开发工具知道在哪里可以找到它。</p>
<blockquote class="warning">
<p>你应该将你的服务器配置为，不允许普通用户访问 source map 文件！</p>
</blockquote>
<p><code>hidden-source-map</code> - 与 <code>source-map</code> 相同，但不会为 bundle 添加引用注释。如果你只想 source map 映射那些源自错误报告的错误堆栈跟踪信息，但不想为浏览器开发工具暴露你的 source map，这个选项会很有用。</p>
<blockquote class="warning">
<p>你不应将 source map 文件部署到 web 服务器。而是只将其用于错误报告工具。</p>
</blockquote>
<p><code>nosources-source-map</code> - 创建的 source map 不包含 <code>sourcesContent(源代码内容)</code>。它可以用来映射客户端上的堆栈跟踪，而无须暴露所有的源代码。你可以将 source map 文件部署到 web 服务器。</p>
<blockquote class="warning">
<p>这仍然会暴露反编译后的文件名和结构，但它不会暴露原始代码。</p>
</blockquote>
<blockquote class="tip">
<p>如果默认的 webpack <code>minimizer</code> 被覆盖 (例如自定义 <code>terser-webpack-plugin</code> 选项)， 请确保将其替换配置为  <code>sourceMap: true</code> 以启用 SourceMap 支持。</p>
</blockquote>
<h1 id="构建目标targets">构建目标(Targets)<a href="#%E6%9E%84%E5%BB%BA%E7%9B%AE%E6%A0%87targets" aria-hidden="true"><span class="icon icon-link"></span></a></h1>
<p>webpack 能够为多种环境或 <em>target</em> 构建编译。想要理解什么是 <code>target</code> 的详细信息，
请阅读 <a href="/concepts/targets/">target 概念页面</a>。</p>
<h2 id="target"><code>target</code><a href="#target" aria-hidden="true"><span class="icon icon-link"></span></a></h2>
<p><code>string</code> <code>function (compiler)</code></p>
<p>告知 webpack 为目标(target)指定一个环境。</p>
<h3 id="string"><code>string</code><a href="#string" aria-hidden="true"><span class="icon icon-link"></span></a></h3>
<p>通过 <a href="https://github.com/webpack/webpack/blob/master/lib/WebpackOptionsApply.js"><code>WebpackOptionsApply</code></a> ，
可以支持以下字符串值：</p>
<table>
<thead>
<tr>
<th>选项</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td><div class="title"><p>选项</p><p>描述</p></div>
<div class="content"><p><code>async-node</code><p class="description mobile">编译为类 Node.js 环境可用（使用 fs 和 vm 异步加载分块）</p></p></div></td>
<td class="description desktop">编译为类 Node.js 环境可用（使用 fs 和 vm 异步加载分块）</td>
</tr>
<tr>
<td><div class="title"><p>选项</p><p>描述</p></div>
<div class="content"><p><code>electron-main</code><p class="description mobile">编译为 <a href="https://electronjs.org/">Electron</a> 主进程。</p></p></div></td>
<td class="description desktop">编译为 
<a href="https://electronjs.org/">Electron</a>
 主进程。</td>
</tr>
<tr>
<td><div class="title"><p>选项</p><p>描述</p></div>
<div class="content"><p><code>electron-renderer</code><p class="description mobile">编译为 <a href="https://electronjs.org/">Electron</a> 渲染进程，使用 <code>JsonpTemplatePlugin</code>,</p></p></div></td>
<td class="description desktop">编译为 
<a href="https://electronjs.org/">Electron</a>
 渲染进程，使用 
<code>JsonpTemplatePlugin</code>
,</td>
</tr>
</tbody>
</table>
<p><code>FunctionModulePlugin</code> 来为浏览器环境提供目标，使用 <code>NodeTargetPlugin</code> 和 <code>ExternalsPlugin</code>
为 CommonJS 和 Electron 内置模块提供目标。
<code>electron-preload</code>    | 编译为 <a href="https://electronjs.org/">Electron</a> 渲染进程，
使用 <code>NodeTemplatePlugin</code> 且 <code>asyncChunkLoading</code> 设置为 <code>true</code> ，<code>FunctionModulePlugin</code> 来为浏览器提供目标，使用 <code>NodeTargetPlugin</code> 和 <code>ExternalsPlugin</code> 为 CommonJS 和 Electron 内置模块提供目标。
<code>node</code>                | 编译为类 Node.js 环境可用（使用 Node.js <code>require</code> 加载 chunks）
<code>node-webkit</code>         | 编译为 Webkit 可用，并且使用 jsonp 去加载分块。支持 Node.js 内置模块和 <a href="http://docs.nwjs.io/en/latest/"><code>nw.gui</code></a>
导入（实验性质）
<code>web</code>                 | 编译为类浏览器环境里可用 <strong>（默认）</strong>
<code>webworker</code>           | 编译成一个 WebWorker</p>
<p>例如，当 <code>target</code> 设置为 <code>"electron-main"</code>，webpack 引入多个 electron 特定的变量。
有关使用哪些模板和 externals 的更多信息，
你可以 <a href="https://github.com/webpack/webpack/blob/master/lib/WebpackOptionsApply.js#L148-L183">直接参考 webpack 源码</a>。</p>
<h3 id="function"><code>function</code><a href="#function" aria-hidden="true"><span class="icon icon-link"></span></a></h3>
<p>如果传入一个函数，此函数调用时会传入一个 编译器（compiler） 作为参数。如果以上列表中没有一个预定义的目标(target)符合你的要求，
请将其设置为一个函数。</p>
<p>例如，如果你不需要使用以上任何插件：</p>
<p><strong>webpack.config.js</strong></p>
<pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">// ...</span>
  target<span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> undefined
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<p>或者可以使用你想要指定的插件</p>
<p><strong>webpack.config.js</strong></p>
<pre><code class="hljs language-js"><span class="token keyword">const</span> webpack <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'webpack'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">// ...</span>
  target<span class="token punctuation">:</span> <span class="token punctuation">(</span>compiler<span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
    <span class="token keyword">new</span> <span class="token class-name">webpack<span class="token punctuation">.</span>JsonpTemplatePlugin</span><span class="token punctuation">(</span>options<span class="token punctuation">.</span>output<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span>compiler<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">new</span> <span class="token class-name">webpack<span class="token punctuation">.</span>LoaderTargetPlugin</span><span class="token punctuation">(</span><span class="token string">'web'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span>compiler<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<h1 id="watch-和-watchoptions">watch 和 watchOptions<a href="#watch-%E5%92%8C-watchoptions" aria-hidden="true"><span class="icon icon-link"></span></a></h1>
<p>webpack 可以监听文件变化，当它们修改后会重新编译。这个页面介绍了如何启用这个功能，以及当 watch 无法正常运行的时候你可以做的一些调整。</p>
<h2 id="watch"><code>watch</code><a href="#watch" aria-hidden="true"><span class="icon icon-link"></span></a></h2>
<p><code>boolean = false</code></p>
<p>启用 Watch 模式。这意味着在初始构建之后，webpack 将继续监听任何已解析文件的更改。</p>
<p><strong>webpack.config.js</strong></p>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  watch<span class="token punctuation">:</span> <span class="token boolean">true</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<blockquote class="tip">
<p><a href="https://github.com/webpack/webpack-dev-server">webpack-dev-server</a> 和 <a href="https://github.com/webpack/webpack-dev-middleware">webpack-dev-middleware</a> 里 Watch 模式默认开启。</p>
</blockquote>
<h2 id="watchoptions"><code>watchOptions</code><a href="#watchoptions" aria-hidden="true"><span class="icon icon-link"></span></a></h2>
<p><code>object</code> <code>number = 200</code></p>
<p>一组用来定制 watch 模式的选项：</p>
<p><strong>webpack.config.js</strong></p>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  watchOptions<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    aggregateTimeout<span class="token punctuation">:</span> <span class="token number">200</span><span class="token punctuation">,</span>
    poll<span class="token punctuation">:</span> <span class="token number">1000</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<p>直接向 <code>watchOptions</code> 设置为一个数字，等同于将 <code>watchOptions.aggregateTimeout</code> 设置为给定的数字。</p>
<p><strong>webpack.config.js</strong></p>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">// 与 watchOptions.aggregateTimeout = 300 相同</span>
  watchOptions<span class="token punctuation">:</span>  <span class="token number">300</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<h2 id="watchoptionsaggregatetimeout"><code>watchOptions.aggregateTimeout</code><a href="#watchoptionsaggregatetimeout" aria-hidden="true"><span class="icon icon-link"></span></a></h2>
<p><code>number = 200</code></p>
<p>当第一个文件更改，会在重新构建前增加延迟。这个选项允许 webpack 将这段时间内进行的任何其他更改都聚合到一次重新构建里。以毫秒为单位：</p>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  watchOptions<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    aggregateTimeout<span class="token punctuation">:</span> <span class="token number">600</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<h2 id="watchoptionsignored"><code>watchOptions.ignored</code><a href="#watchoptionsignored" aria-hidden="true"><span class="icon icon-link"></span></a></h2>
<p><code>RegExp</code> <a href="https://github.com/micromatch/anymatch"><code>anymatch</code></a></p>
<p>对于某些系统，监听大量文件系统会导致大量的 CPU 或内存占用。这个选项可以排除一些巨大的文件夹，例如 <code>node_modules</code>：</p>
<p><strong>webpack.config.js</strong></p>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  watchOptions<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    ignored<span class="token punctuation">:</span> <span class="token regex">/node_modules/</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<p>也可以使用多种 <a href="https://github.com/micromatch/anymatch">anymatch</a> 模式：</p>
<p><strong>webpack.config.js</strong></p>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  watchOptions<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    ignored<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">'files/**/*.js'</span><span class="token punctuation">,</span> <span class="token string">'node_modules/**'</span><span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<blockquote class="tip">
<p>如果你使用 <code>require.context</code>，webpack 会观察你的整个目录。你应该忽略一些文件和/或(and/or)目录，以便那些不需要监听的文件修改，不会触发重新构建。</p>
</blockquote>
<h2 id="watchoptionspoll"><code>watchOptions.poll</code><a href="#watchoptionspoll" aria-hidden="true"><span class="icon icon-link"></span></a></h2>
<p><code>boolean = false</code> <code>number</code></p>
<p>通过传递 <code>true</code> 开启 <a href="https://whatis.techtarget.com/definition/polling">polling</a>，或者指定毫秒为单位进行轮询。</p>
<p><strong>webpack.config.js</strong></p>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  watchOptions<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    poll<span class="token punctuation">:</span> <span class="token number">1000</span> <span class="token comment">// 每秒检查一次变动</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<blockquote class="tip">
<p>如果监听没生效，试试这个选项吧。Watch 在 NFS 和 VirtualBox 机器上不适用。</p>
</blockquote>
<h2 id="info-verbosity"><code>info-verbosity</code><a href="#info-verbosity" aria-hidden="true"><span class="icon icon-link"></span></a></h2>
<p><code>string = 'info': 'none' | 'info' | 'verbose'</code></p>
<p>控制生命周期消息的详细程度，例如 <code>Started watching files(开始监听文件)...</code> 日志。将 <code>info-verbosity</code> 设置为 <code>verbose</code>，还会额外在增量构建的开始和结束时，向控制台发送消息。</p>
<pre><code class="hljs language-bash">webpack --watch --info-verbosity verbose</code></pre>
<h2 id="故障排除">故障排除<a href="#%E6%95%85%E9%9A%9C%E6%8E%92%E9%99%A4" aria-hidden="true"><span class="icon icon-link"></span></a></h2>
<p>如果您遇到任何问题，请查看以下注意事项。对于 webpack 为何会忽略文件修改，这里有多种原因。</p>
<h3 id="发现修改，但并未做处理">发现修改，但并未做处理<a href="#%E5%8F%91%E7%8E%B0%E4%BF%AE%E6%94%B9%EF%BC%8C%E4%BD%86%E5%B9%B6%E6%9C%AA%E5%81%9A%E5%A4%84%E7%90%86" aria-hidden="true"><span class="icon icon-link"></span></a></h3>
<p>在运行 webpack 时，通过使用 --progress 标志，来验证文件修改后，是否没有通知 webpack。如果进度显示保存，但没有输出文件，则可能是配置问题，而不是文件监视问题。</p>
<pre><code class="hljs language-bash">webpack --watch --progress</code></pre>
<h3 id="没有足够的文件观察者">没有足够的文件观察者<a href="#%E6%B2%A1%E6%9C%89%E8%B6%B3%E5%A4%9F%E7%9A%84%E6%96%87%E4%BB%B6%E8%A7%82%E5%AF%9F%E8%80%85" aria-hidden="true"><span class="icon icon-link"></span></a></h3>
<p>确认系统中有足够多的文件观察者。如果这个值太低，webpack 中的文件观察者将无法识别修改：</p>
<pre><code class="hljs language-bash"><span class="token function">cat</span> /proc/sys/fs/inotify/max_user_watches</code></pre>
<p>Arch 用户，请将 <code>fs.inotify.max_user_watches=524288</code> 添加到 <code>/etc/sysctl.d/99-sysctl.conf</code> 中，然后执行 <code>sysctl --system</code>。 Ubuntu 用户（可能还有其他用户）请执行：<code>echo fs.inotify.max_user_watches=524288 | sudo tee -a /etc/sysctl.conf &#x26;&#x26; sudo sysctl -p</code>。</p>
<h3 id="macos-fsevents-bug">macOS fsevents Bug<a href="#macos-fsevents-bug" aria-hidden="true"><span class="icon icon-link"></span></a></h3>
<p>在 macOS 中，某些情况下文件夹可能会损坏。请参阅<a href="https://github.com/livereload/livereload-site/blob/master/livereload.com/_articles/troubleshooting/os-x-fsevents-bug-may-prevent-monitoring-of-certain-folders.md">这篇文章</a>。</p>
<h3 id="windows-paths">Windows Paths<a href="#windows-paths" aria-hidden="true"><span class="icon icon-link"></span></a></h3>
<p>因为 webpack 期望获得多个配置选项的绝对路径（如 <code>__dirname + '/app/folder'</code>），所以 Windows 的路径分隔符 <code>\</code> 可能会破坏某些功能。</p>
<p>使用正确的分隔符。即 <code>path.resolve(__dirname, 'app/folder')</code> 或 <code>path.join(__dirname, 'app', 'folder')</code>。</p>
<h3 id="vim">Vim<a href="#vim" aria-hidden="true"><span class="icon icon-link"></span></a></h3>
<p>在某些机器上，Vim 预先将 <a href="http://vimdoc.sourceforge.net/htmldoc/options.html#&#x27;backupcopy&#x27;">backupcopy 选项</a> 设置为 <code>auto</code>。这可能会导致系统的文件监视机制出现问题。将此选项设置为 <code>yes</code> 可以确保创建文件的副本，并在保存时覆盖原始文件。</p>
<p><code>:set backupcopy=yes</code></p>
<h3 id="在-webstorm-中保存">在 WebStorm 中保存<a href="#%E5%9C%A8-webstorm-%E4%B8%AD%E4%BF%9D%E5%AD%98" aria-hidden="true"><span class="icon icon-link"></span></a></h3>
<p>使用 JetBrains WebStorm IDE 时，你可能会发现保存修改过的文件，并不会按照预期触发观察者。尝试在设置中禁用<code>安全写入(safe write)</code>选项，该选项确定在原文件被覆盖之前，文件是否先保存到临时位置：取消选中 <code>File > {Settings|Preferences} > Appearance &#x26; Behavior > System Settings > Use "safe write" (save changes to a temporary file first)</code>。</p>
<h1 id="外部扩展externals">外部扩展(externals)<a href="#%E5%A4%96%E9%83%A8%E6%89%A9%E5%B1%95externals" aria-hidden="true"><span class="icon icon-link"></span></a></h1>
<p><code>externals</code> 配置选项提供了「从输出的 bundle 中排除依赖」的方法。相反，所创建的 bundle 依赖于那些存在于用户环境(consumer's environment)中的依赖。此功能通常对 <strong>library 开发人员</strong>来说是最有用的，然而也会有各种各样的应用程序用到它。</p>
<h2 id="externals"><code>externals</code><a href="#externals" aria-hidden="true"><span class="icon icon-link"></span></a></h2>
<p><code>string</code> <code>[string]</code> <code>object</code> <code>function</code>  <code>RegExp</code></p>
<p><strong>防止</strong>将某些 <code>import</code> 的包(package)<strong>打包</strong>到 bundle 中，而是在运行时(runtime)再去从外部获取这些<em>扩展依赖(external dependencies)</em>。</p>
<p>例如，从 CDN 引入 <a href="https://jquery.com/">jQuery</a>，而不是把它打包：</p>
<p><strong>index.html</strong></p>
<pre><code class="hljs language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>script</span>
  <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>https://code.jquery.com/jquery-3.1.0.js<span class="token punctuation">"</span></span>
  <span class="token attr-name">integrity</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>sha256-slogkvB1K3VOkzAI8QITxV3VzpOnkeNVsKvtkYLMjfk=<span class="token punctuation">"</span></span>
  <span class="token attr-name">crossorigin</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>anonymous<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token script language-javascript">
</span><span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>script</span><span class="token punctuation">></span></span></code></pre>
<p><strong>webpack.config.js</strong></p>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  externals<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    jquery<span class="token punctuation">:</span> <span class="token string">'jQuery'</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<p>这样就剥离了那些不需要改动的依赖模块，换句话，下面展示的代码还可以正常运行：</p>
<pre><code class="hljs language-javascript"><span class="token keyword">import</span> $ <span class="token keyword">from</span> <span class="token string">'jquery'</span><span class="token punctuation">;</span>

<span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'.my-element'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">animate</span><span class="token punctuation">(</span><span class="token comment">/* ... */</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
<p>具有外部依赖(external dependency)的 bundle 可以在各种模块上下文(module context)中使用，例如 <a href="/concepts/modules">CommonJS, AMD, 全局变量和 ES2015 模块</a>。外部 library 可能是以下任何一种形式：</p>
<ul>
<li><strong>root</strong>：可以通过一个全局变量访问 library（例如，通过 script 标签）。</li>
<li><strong>commonjs</strong>：可以将 library 作为一个 CommonJS 模块访问。</li>
<li><strong>commonjs2</strong>：和上面的类似，但导出的是 <code>module.exports.default</code>.</li>
<li><strong>amd</strong>：类似于 <code>commonjs</code>，但使用 AMD 模块系统。</li>
</ul>
<p>可以接受以下语法……</p>
<h3 id="字符串">字符串<a href="#%E5%AD%97%E7%AC%A6%E4%B8%B2" aria-hidden="true"><span class="icon icon-link"></span></a></h3>
<p>请查看上面的例子。属性名称是 <code>jquery</code>，表示应该排除 <code>import $ from 'jquery'</code> 中的 <code>jquery</code> 模块。为了替换这个模块，<code>jQuery</code> 的值将被用来检索一个全局的 <code>jQuery</code> 变量。换句话说，当设置为一个字符串时，它将被视为<code>全局的</code>（定义在上面和下面）。</p>
<p>另一方面，如果你想将一个符合 CommonJS 模块化规则的类库外部化，你可以提供外联类库的类型以及类库的名称。</p>
<p>如果你想将 <code>fs-extra</code> 从输出的 bundle 中剔除并在运行时中引入它，你可以如下定义：</p>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">// ...</span>
  externals<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    <span class="token string">'fs-extra'</span><span class="token punctuation">:</span> <span class="token string">'commonjs2 fs-extra'</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<p>这样的做法会让任何依赖的模块都不变，正如以下所示的代码：</p>
<pre><code class="hljs language-javascript"><span class="token keyword">import</span> fs <span class="token keyword">from</span> <span class="token string">'fs-extra'</span><span class="token punctuation">;</span></code></pre>
<p>会将代码编译成：</p>
<pre><code class="hljs language-javascript"><span class="token keyword">const</span> fs <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'fs-extra'</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
<h3 id="字符串数组">字符串数组<a href="#%E5%AD%97%E7%AC%A6%E4%B8%B2%E6%95%B0%E7%BB%84" aria-hidden="true"><span class="icon icon-link"></span></a></h3>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  externals<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    subtract<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">'./math'</span><span class="token punctuation">,</span> <span class="token string">'subtract'</span><span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<p><code>subtract: ['./math', 'subtract']</code> 转换为父子结构，其中 <code>./math</code> 是父模块，而 bundle 只引用 <code>subtract</code> 变量下的子集。该例子会编译成 <code>require('./math').subtract;</code></p>
<h3 id="对象">对象<a href="#%E5%AF%B9%E8%B1%A1" aria-hidden="true"><span class="icon icon-link"></span></a></h3>
<blockquote class="warning">
<p>一个形如  <code>{ root, amd, commonjs, ... }</code> 的对象仅允许用于  <a href="/configuration/output/#outputlibrarytarget"><code>libraryTarget: 'umd'</code></a> 这样的配置.它不被允许 用于其它的 library targets 配置值.</p>
</blockquote>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  externals <span class="token punctuation">:</span> <span class="token punctuation">{</span>
    react<span class="token punctuation">:</span> <span class="token string">'react'</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>

  <span class="token comment">// 或者</span>

  externals <span class="token punctuation">:</span> <span class="token punctuation">{</span>
    lodash <span class="token punctuation">:</span> <span class="token punctuation">{</span>
      commonjs<span class="token punctuation">:</span> <span class="token string">'lodash'</span><span class="token punctuation">,</span>
      amd<span class="token punctuation">:</span> <span class="token string">'lodash'</span><span class="token punctuation">,</span>
      root<span class="token punctuation">:</span> <span class="token string">'_'</span> <span class="token comment">// 指向全局变量</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>

  <span class="token comment">// 或者</span>

  externals <span class="token punctuation">:</span> <span class="token punctuation">{</span>
    subtract <span class="token punctuation">:</span> <span class="token punctuation">{</span>
      root<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">'math'</span><span class="token punctuation">,</span> <span class="token string">'subtract'</span><span class="token punctuation">]</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<p>此语法用于描述外部 library 所有可用的访问方式。这里 <code>lodash</code> 这个外部 library 可以在 AMD 和 CommonJS 模块系统中通过 <code>lodash</code> 访问，但在全局变量形式下用 <code>_</code> 访问。<code>subtract</code> 可以通过全局 <code>math</code> 对象下的属性 <code>subtract</code> 访问（例如 <code>window['math']['subtract']</code>）。</p>
<h3 id="函数">函数<a href="#%E5%87%BD%E6%95%B0" aria-hidden="true"><span class="icon icon-link"></span></a></h3>
<p><code>function (context, request, callback)</code></p>
<p>对于 webpack 外部化，通过定义函数来控制行为，可能会很有帮助。例如，<a href="https://www.npmjs.com/package/webpack-node-externals">webpack-node-externals</a> 能够排除 <code>node_modules</code> 目录中所有模块，还提供一些选项，比如白名单 package(whitelist package)。</p>
<p>函数接收三个入参：</p>
<ul>
<li><code>context</code> (<code>string</code>): 包含引用的文件目录。</li>
<li><code>request</code> (<code>string</code>): 被请求引入的路径。</li>
<li><code>callback</code> (<code>function (err, result, type)</code>): 用于指明模块如何被外部化的回调函数</li>
</ul>
<p>回调函数接收三个入参：</p>
<ul>
<li><code>err</code> (<code>Error</code>): 被用于表明在外部外引用的时候是否会产生错误。如果有错误，这将会是唯一被用到的参数。</li>
<li><code>result</code> (<code>string</code> <code>[string]</code> <code>object</code>): 描述外部化的模块。可以接受形如 <code>${type} ${path}</code> 格式的字符串，或者其它标准化外部化模块格式，(<a href="#string"><code>string</code></a>, <a href="#string-1"><code>[string]</code></a>，或 <a href="#object"><code>object</code></a>)。</li>
<li><code>type</code> (<code>string</code>): 可选的参数，用于指明模块的类型（如果它没在 <code>result</code> 参数中被指明）。</li>
</ul>
<p>作为例子，要外部化所有匹配一个正则表达式的引入，你可以像下面那样处理：</p>
<p><strong>webpack.config.js</strong></p>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  externals<span class="token punctuation">:</span> <span class="token punctuation">[</span>
    <span class="token keyword">function</span><span class="token punctuation">(</span>context<span class="token punctuation">,</span> request<span class="token punctuation">,</span> callback<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token regex">/^yourregex$/</span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>request<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token comment">// 使用 request 路径，将一个 commonjs 模块外部化</span>
        <span class="token keyword">return</span> <span class="token function">callback</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token string">'commonjs '</span> <span class="token operator">+</span> request<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>

      <span class="token comment">// 继续下一步且不外部化引用</span>
      <span class="token function">callback</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<p>其它例子使用不同的模块格式：</p>
<p><strong>webpack.config.js</strong></p>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  externals<span class="token punctuation">:</span> <span class="token punctuation">[</span>
    <span class="token keyword">function</span><span class="token punctuation">(</span>context<span class="token punctuation">,</span> request<span class="token punctuation">,</span> callback<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">// 该外部化的模块，是一个 `commonjs2` 的模块，且放在 `@scope/library` 目录中</span>
      <span class="token function">callback</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token string">'@scope/library'</span><span class="token punctuation">,</span> <span class="token string">'commonjs2'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<p><strong>webpack.config.js</strong></p>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  externals<span class="token punctuation">:</span> <span class="token punctuation">[</span>
    <span class="token keyword">function</span><span class="token punctuation">(</span>context<span class="token punctuation">,</span> request<span class="token punctuation">,</span> callback<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">// 该外部化模块是一个全局变量叫作 `nameOfGlobal`.</span>
      <span class="token function">callback</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token string">'nameOfGlobal'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<p><strong>webpack.config.js</strong></p>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  externals<span class="token punctuation">:</span> <span class="token punctuation">[</span>
    <span class="token keyword">function</span><span class="token punctuation">(</span>context<span class="token punctuation">,</span> request<span class="token punctuation">,</span> callback<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">// 该外部化模块是一个在`@scope/library`模块里的命名导出（named export）。</span>
      <span class="token function">callback</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">'@scope/library'</span><span class="token punctuation">,</span> <span class="token string">'namedexport'</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token string">'commonjs'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<p><strong>webpack.config.js</strong></p>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  externals<span class="token punctuation">:</span> <span class="token punctuation">[</span>
    <span class="token keyword">function</span><span class="token punctuation">(</span>context<span class="token punctuation">,</span> request<span class="token punctuation">,</span> callback<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">// 外部化模块是一个 UMD 模块</span>
      <span class="token function">callback</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
        root<span class="token punctuation">:</span> <span class="token string">'componentsGlobal'</span><span class="token punctuation">,</span>
        commonjs<span class="token punctuation">:</span> <span class="token string">'@scope/components'</span><span class="token punctuation">,</span>
        commonjs2<span class="token punctuation">:</span> <span class="token string">'@scope/components'</span><span class="token punctuation">,</span>
        amd<span class="token punctuation">:</span> <span class="token string">'components'</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<h3 id="regexp">RegExp<a href="#regexp" aria-hidden="true"><span class="icon icon-link"></span></a></h3>
<p>匹配给定正则表达式的每个依赖，都将从输出 bundle 中排除。</p>
<p><strong>webpack.config.js</strong></p>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  externals<span class="token punctuation">:</span> <span class="token regex">/^(jquery|\$)$/i</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<p>这个示例中，所有名为 <code>jQuery</code> 的依赖（忽略大小写），或者 <code>$</code>，都会被外部化。</p>
<h3 id="混用语法">混用语法<a href="#%E6%B7%B7%E7%94%A8%E8%AF%AD%E6%B3%95" aria-hidden="true"><span class="icon icon-link"></span></a></h3>
<p>有时你需要混用上面介绍的语法。这可以像以下这样操作：</p>
<p><strong>webpack.config.js</strong></p>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  externals<span class="token punctuation">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      <span class="token comment">// 字符串</span>
      react<span class="token punctuation">:</span> <span class="token string">'react'</span><span class="token punctuation">,</span>
      <span class="token comment">// 对象</span>
      lodash <span class="token punctuation">:</span> <span class="token punctuation">{</span>
        commonjs<span class="token punctuation">:</span> <span class="token string">'lodash'</span><span class="token punctuation">,</span>
        amd<span class="token punctuation">:</span> <span class="token string">'lodash'</span><span class="token punctuation">,</span>
        root<span class="token punctuation">:</span> <span class="token string">'_'</span> <span class="token comment">// indicates global variable</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token comment">// 字符串数组</span>
      subtract<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">'./math'</span><span class="token punctuation">,</span> <span class="token string">'subtract'</span><span class="token punctuation">]</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token comment">// 函数</span>
    <span class="token keyword">function</span><span class="token punctuation">(</span>context<span class="token punctuation">,</span> request<span class="token punctuation">,</span> callback<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token regex">/^yourregex$/</span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>request<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token function">callback</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token string">'commonjs '</span> <span class="token operator">+</span> request<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
      <span class="token function">callback</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token comment">// 正则表达式</span>
    <span class="token operator">/</span><span class="token operator">^</span><span class="token punctuation">(</span>jquery<span class="token operator">|</span>\$<span class="token punctuation">)</span>$<span class="token operator">/</span>i
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<blockquote class="warning">
<p><a href="/configuration/externals/#externalstype">Default type</a> will be used if you sepcify <code>externals</code> without a type e.g. <code>externals: { react: 'react' }</code> instead of <code>externals: { react: 'commonjs-module react' }</code>.</p>
</blockquote>
<p>关于如何使用此 externals 配置的更多信息，请参考 <a href="/guides/author-libraries">如何编写 library</a>。</p>
<h2 id="externalstype"><code>externalsType</code><a href="#externalstype" aria-hidden="true"><span class="icon icon-link"></span></a></h2>
<p><code>string = 'var'</code></p>
<p>Specifies the default type of externals. <code>amd</code>, <code>root</code> and <code>system</code> externals <strong>depend on the <a href="/configuration/output/#outputlibrarytarget"><code>output.libraryTarget</code></a></strong> being set to the same value e.g. you can only consume <code>amd</code> externals within an <code>amd</code> library.</p>
<p>Supported types:</p>
<ul>
<li><code>'var'</code></li>
<li><code>'module'</code></li>
<li><code>'assign'</code></li>
<li><code>'this'</code></li>
<li><code>'window'</code></li>
<li><code>'self'</code></li>
<li><code>'global'</code></li>
<li><code>'commonjs'</code></li>
<li><code>'commonjs-module'</code></li>
<li><code>'amd'</code></li>
<li><code>'amd-require'</code></li>
<li><code>'umd'</code></li>
<li><code>'umd2'</code></li>
<li><code>'jsonp'</code></li>
<li><code>'system'</code></li>
<li><code>'promise'</code> - same as <code>'var'</code> but awaits the result (async module, depends on <a href="/configuration/experiments/"><code>experiments.importAsync</code></a>)</li>
<li><code>'import'</code> - uses <code>import()</code> to load a native EcmaScript module (async module, depends on <a href="/configuration/experiments/"><code>experiments.importAsync</code></a>)</li>
</ul>
<p><strong>webpack.config.js</strong></p>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  externalsType<span class="token punctuation">:</span> <span class="token string">'promise'</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<h1 id="性能performance">性能(performance)<a href="#%E6%80%A7%E8%83%BDperformance" aria-hidden="true"><span class="icon icon-link"></span></a></h1>
<p>这些选项可以控制 webpack 如何通知「资源(asset)和入口起点超过指定文件限制」。
此功能受到 <a href="https://github.com/webpack/webpack/issues/3216">webpack 性能评估</a>的启发。</p>
<h2 id="performance"><code>performance</code><a href="#performance" aria-hidden="true"><span class="icon icon-link"></span></a></h2>
<p><code>object</code></p>
<p>配置如何展示性能提示。例如，如果一个资源超过 250kb，webpack 会对此输出一个警告来通知你。</p>
<h2 id="performancehints"><code>performance.hints</code><a href="#performancehints" aria-hidden="true"><span class="icon icon-link"></span></a></h2>
<p><code>string = 'warning': 'error' | 'warning'</code> <code>boolean: false</code></p>
<p>打开/关闭提示。此外，当找到提示时，告诉 webpack 抛出一个错误或警告。此属性默认设置为 <code>"warning"</code>。</p>
<p>给定一个创建后超过 250kb 的资源：</p>
<pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  performance<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    hints<span class="token punctuation">:</span> <span class="token boolean">false</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<p>不展示警告或错误提示。</p>
<pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  performance<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    hints<span class="token punctuation">:</span> <span class="token string">'warning'</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<p>将展示一条警告，通知你这是体积大的资源。在开发环境，我们推荐这样。</p>
<pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  performance<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    hints<span class="token punctuation">:</span> <span class="token string">'error'</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<p>将展示一条错误，通知你这是体积大的资源。在生产环境构建时，我们推荐使用 <code>hints: "error"</code>，有助于防止把体积巨大的 bundle 部署到生产环境，从而影响网页的性能。</p>
<h2 id="performancemaxentrypointsize"><code>performance.maxEntrypointSize</code><a href="#performancemaxentrypointsize" aria-hidden="true"><span class="icon icon-link"></span></a></h2>
<p><code>number = 250000</code></p>
<p>入口起点表示针对指定的入口，对于所有资源，要充分利用初始加载时(initial load time)期间。此选项根据入口起点的最大体积，控制 webpack 何时生成性能提示。</p>
<pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  performance<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    maxEntrypointSize<span class="token punctuation">:</span> <span class="token number">400000</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<h2 id="performancemaxassetsize"><code>performance.maxAssetSize</code><a href="#performancemaxassetsize" aria-hidden="true"><span class="icon icon-link"></span></a></h2>
<p><code>number = 250000</code></p>
<p>资源(asset)是从 webpack 生成的任何文件。此选项根据单个资源体积(单位: bytes)，控制 webpack 何时生成性能提示。</p>
<pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  performance<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    maxAssetSize<span class="token punctuation">:</span> <span class="token number">100000</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<h2 id="performanceassetfilter"><code>performance.assetFilter</code><a href="#performanceassetfilter" aria-hidden="true"><span class="icon icon-link"></span></a></h2>
<p><code>function(assetFilename) => boolean</code></p>
<p>此属性允许 webpack 控制用于计算性能提示的文件。默认函数如下：</p>
<pre><code class="hljs language-js"><span class="token keyword">function</span> <span class="token function">assetFilter</span><span class="token punctuation">(</span>assetFilename<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token operator">!</span><span class="token punctuation">(</span><span class="token regex">/\.map$/</span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>assetFilename<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre>
<p>你可以通过传递自己的函数来覆盖此属性：</p>
<pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  performance<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    assetFilter<span class="token punctuation">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span>assetFilename<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> assetFilename<span class="token punctuation">.</span><span class="token function">endsWith</span><span class="token punctuation">(</span><span class="token string">'.js'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<p>以上示例将只给出 <code>.js</code> 文件的性能提示。</p>
<h1 id="node">Node<a href="#node" aria-hidden="true"><span class="icon icon-link"></span></a></h1>
<p>这些选项可以配置是否 polyfill 或 mock 某些 <a href="https://nodejs.org/docs/latest/api/globals.html">Node.js 全局变量</a>和模块。这可以使最初为 Node.js 环境编写的代码，在其他环境（如浏览器）中运行。</p>
<p>此功能由 webpack 内部的 <a href="https://github.com/webpack/webpack/blob/master/lib/NodeStuffPlugin.js"><code>NodeStuffPlugin</code></a> 插件提供。如果 target 是 "web"（默认）或 "webworker"，那么 <a href="https://github.com/webpack/webpack/blob/master/lib/node/NodeSourcePlugin.js"><code>NodeSourcePlugin</code></a> 插件也会被激活。</p>
<h2 id="node-1"><code>node</code><a href="#node-1" aria-hidden="true"><span class="icon icon-link"></span></a></h2>
<p><code>boolean = false</code> <code>object</code></p>
<p>是一个对象，其中每个属性都是 Node.js 全局变量或模块的名称，每个 value 是以下其中之一……</p>
<ul>
<li><code>true</code>：提供 polyfill。</li>
<li><code>"mock"</code>：提供 mock 实现预期接口，但功能很少或没有。</li>
<li><code>"empty"</code>：提供空对象。</li>
<li><code>false</code>: 什么都不提供。预期获取此对象的代码，可能会因为获取不到此对象，触发 <code>ReferenceError</code> 而崩溃。尝试使用 <code>require('modulename')</code> 导入模块的代码，可能会触发 <code>Cannot find module "modulename"</code> 错误。</li>
</ul>
<blockquote class="warning">
<p>注意，不是每个 Node 全局变量都支持所有选项。对于不支持的键值组合(property-value combination)，compiler 会抛出错误。更多细节请查看接下来的章节。</p>
</blockquote>
<blockquote class="tip">
<p>如果你正在使用一个需要全局变量的模块，请使用 <code>ProvidePlugin</code> 而非 <code>global</code>。</p>
</blockquote>
<p>这里是默认值：</p>
<p><strong>webpack.config.js</strong></p>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  node<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    global<span class="token punctuation">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
    __filename<span class="token punctuation">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
    __dirname<span class="token punctuation">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<p>从 webpack 3.0.0 开始，<code>node</code> 选项可能被设置为 <code>false</code>，以完全关闭 <code>NodeStuffPlugin</code> 和 <code>NodeSourcePlugin</code> 插件。</p>
<h2 id="nodeglobal"><code>node.global</code><a href="#nodeglobal" aria-hidden="true"><span class="icon icon-link"></span></a></h2>
<p><code>boolean = false</code></p>
<p>关于此对象的准确行为，请查看<a href="https://github.com/webpack/webpack/blob/master/buildin/global.js">源码</a>。</p>
<h2 id="node__filename"><code>node.__filename</code><a href="#node__filename" aria-hidden="true"><span class="icon icon-link"></span></a></h2>
<p><code>string</code> <code>boolean = false</code></p>
<p>选项：</p>
<ul>
<li><code>true</code>: <strong>输入</strong> 文件的文件名，是相对于 <a href="https://webpack.js.org/configuration/entry-context/#context"><code>context</code> 选项</a>。</li>
<li><code>false</code>: 常规的 Node.js <code>__filename</code> 行为。在 Node.js 环境中运行时，<strong>输出</strong> 文件的文件名。</li>
<li><code>"mock"</code>: value 填充为 <code>"index.js"</code>.</li>
</ul>
<h2 id="node__dirname"><code>node.__dirname</code><a href="#node__dirname" aria-hidden="true"><span class="icon icon-link"></span></a></h2>
<p><code>string</code> <code>boolean = false</code></p>
<p>选项：</p>
<ul>
<li><code>true</code>: <strong>输入</strong> 文件的目录名，是相对于 <a href="https://webpack.js.org/configuration/entry-context/#context"><code>context</code> 选项</a>。</li>
<li><code>false</code>: 常规的 Node.js <code>__dirname</code> 行为。在 Node.js 环境中运行时，<strong>输出</strong> 文件的目录名。</li>
<li><code>"mock"</code>: value 填充为 <code>"/"</code>。</li>
</ul>
<h1 id="stats-对象">stats 对象<a href="#stats-%E5%AF%B9%E8%B1%A1" aria-hidden="true"><span class="icon icon-link"></span></a></h1>
<p><code>object</code> <code>string</code></p>
<p><code>stats</code> 选项让你更精确地控制 bundle 信息该怎么显示。 如果你不希望使用 <code>quiet</code> 或 <code>noInfo</code> 这样的不显示信息，而是又不想得到全部的信息，只是想要获取某部分 bundle 的信息，使用 stats 选项是比较好的折衷方式。</p>
<blockquote class="tip">
<p>对于 webpack-dev-server，这个属性要放在 <a href="/configuration/dev-server/#devserverstats-"><code>devServer</code> 配置对象</a>.</p>
</blockquote>
<blockquote class="tip">
<p>对于 <a href="https://github.com/webpack/webpack-dev-middleware">webpack-dev-middleware</a>, 该属性需要在webpack-dev-middleware 的 <code>options</code> 对象中.</p>
</blockquote>
<blockquote class="warning">
<p>在使用 Node.js API 时，此选项无效。</p>
</blockquote>
<p><strong>webpack.js.org</strong></p>
<pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  stats<span class="token punctuation">:</span> <span class="token string">'errors-only'</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<h2 id="stats-presets">Stats Presets<a href="#stats-presets" aria-hidden="true"><span class="icon icon-link"></span></a></h2>
<p>webpack 有一些特定的预设选项给统计信息输出：</p>
<table>
<thead>
<tr>
<th>预设</th>
<th>可选值</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td><div class="title"><p>预设</p><p>可选值</p><p>描述</p></div>
<div class="content"><p><code>'errors-only'</code><p class="description mobile"><em>none</em></p></p></div></td>
<td class="description desktop"><em>none</em></td>
<td>只在发生错误时输出</td>
</tr>
<tr>
<td><div class="title"><p>预设</p><p>可选值</p><p>描述</p></div>
<div class="content"><p><code>'errors-warnings'</code><p class="description mobile"><em>none</em></p></p></div></td>
<td class="description desktop"><em>none</em></td>
<td>只在发生错误或有新的编译时输出</td>
</tr>
<tr>
<td><div class="title"><p>预设</p><p>可选值</p><p>描述</p></div>
<div class="content"><p><code>'minimal'</code><p class="description mobile"><em>none</em></p></p></div></td>
<td class="description desktop"><em>none</em></td>
<td>只在发生错误或新的编译开始时输出</td>
</tr>
<tr>
<td><div class="title"><p>预设</p><p>可选值</p><p>描述</p></div>
<div class="content"><p><code>'none'</code><p class="description mobile"><code>false</code></p></p></div></td>
<td class="description desktop"><code>false</code></td>
<td>没有输出</td>
</tr>
<tr>
<td><div class="title"><p>预设</p><p>可选值</p><p>描述</p></div>
<div class="content"><p><code>'normal'</code><p class="description mobile"><code>true</code></p></p></div></td>
<td class="description desktop"><code>true</code></td>
<td>标准输出</td>
</tr>
<tr>
<td><div class="title"><p>预设</p><p>可选值</p><p>描述</p></div>
<div class="content"><p><code>'verbose'</code><p class="description mobile"><em>none</em></p></p></div></td>
<td class="description desktop"><em>none</em></td>
<td>全部输出</td>
</tr>
<tr>
<td><div class="title"><p>预设</p><p>可选值</p><p>描述</p></div>
<div class="content"><p><code>'detailed'</code><p class="description mobile"><em>none</em></p></p></div></td>
<td class="description desktop"><em>none</em></td>
<td>全部输出除了 
<code>chunkModules</code>
 和 
<code>chunkRootModules</code></td>
</tr>
</tbody>
</table>
<h2 id="stats-选项">Stats 选项<a href="#stats-%E9%80%89%E9%A1%B9" aria-hidden="true"><span class="icon icon-link"></span></a></h2>
<p>你可以在统计输出里指定你想看到的信息。</p>
<blockquote class="tip">
<p>所有在统计信息配置里的选项都是可选的。</p>
</blockquote>
<h3 id="statsall"><code>stats.all</code><a href="#statsall" aria-hidden="true"><span class="icon icon-link"></span></a></h3>
<p>当统计信息配置没被定义，则该值是一个回退值。它的优先级比本地的 webpack 默认值高。</p>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  stats<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    all<span class="token punctuation">:</span> undefined
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<h3 id="statsassets"><code>stats.assets</code><a href="#statsassets" aria-hidden="true"><span class="icon icon-link"></span></a></h3>
<p><code>boolean = true</code></p>
<p>告知 <code>stats</code> 是否展示资源信息。将 <code>stats.assets</code> 设置成 <code>false</code> 会禁用.</p>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  stats<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    assets<span class="token punctuation">:</span> <span class="token boolean">false</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<h3 id="statsassetssort"><code>stats.assetsSort</code><a href="#statsassetssort" aria-hidden="true"><span class="icon icon-link"></span></a></h3>
<p><code>string = 'id'</code></p>
<p>告知 <code>stats</code> 基于给定的字段对资源进行排序。所有的 <a href="#sorting-fields">排序字段</a>都被允许作为 <code>stats.assetsSort</code>的值。使用 <code>!</code> 作为值的前缀以反转基于给定字段的排序结果。</p>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  stats<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    assetsSort<span class="token punctuation">:</span> <span class="token string">'!size'</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<h3 id="statsbuiltat"><code>stats.builtAt</code><a href="#statsbuiltat" aria-hidden="true"><span class="icon icon-link"></span></a></h3>
<p><code>boolean = true</code></p>
<p>告知 <code>stats</code> 是否添加构建日期与时间信息。将 <code>stats.builtAt</code> 设置成 <code>false</code> 来隐藏.</p>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  stats<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    builtAt<span class="token punctuation">:</span> <span class="token boolean">false</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<h3 id="statsmoduleassets"><code>stats.moduleAssets</code><a href="#statsmoduleassets" aria-hidden="true"><span class="icon icon-link"></span></a></h3>
<p><code>boolean = true</code></p>
<p>告知 <code>stats</code> 是否添加模块内的资源信息。将 <code>stats.moduleAssets</code> 设置成 <code>false</code> 以隐藏。</p>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  stats<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    moduleAssets<span class="token punctuation">:</span> <span class="token boolean">false</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<h3 id="statscached"><code>stats.cached</code><a href="#statscached" aria-hidden="true"><span class="icon icon-link"></span></a></h3>
<p><code>boolean = true</code></p>
<p>告知 <code>stats</code> 是否添加关于缓存模块的信息 (并非被构建的模块)。</p>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  stats<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    cached<span class="token punctuation">:</span> <span class="token boolean">false</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<h3 id="statscachedassets"><code>stats.cachedAssets</code><a href="#statscachedassets" aria-hidden="true"><span class="icon icon-link"></span></a></h3>
<p><code>boolean = true</code></p>
<p>告知 <code>stats</code> 是否添加关于缓存资源的信息。 将 <code>stats.cachedAssets</code> 设置成 <code>false</code> 会告知 <code>stats</code> 仅展示被生成的文件 (并非被构建的模块)。</p>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  stats<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    cachedAssets<span class="token punctuation">:</span> <span class="token boolean">false</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<h3 id="statschildren"><code>stats.children</code><a href="#statschildren" aria-hidden="true"><span class="icon icon-link"></span></a></h3>
<p><code>boolean = true</code></p>
<p>告知 <code>stats</code> 是否添加关于子模块的信息。</p>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  stats<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    children<span class="token punctuation">:</span> <span class="token boolean">false</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<h3 id="statschunks"><code>stats.chunks</code><a href="#statschunks" aria-hidden="true"><span class="icon icon-link"></span></a></h3>
<p><code>boolean = true</code></p>
<p>告知 <code>stats</code> 是否添加关于 chunk 的信息。 将 <code>stats.chunks</code> 设置为 <code>false</code> 会引发更少的输出。</p>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  stats<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    chunks<span class="token punctuation">:</span> <span class="token boolean">false</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<h3 id="statschunkgroups"><code>stats.chunkGroups</code><a href="#statschunkgroups" aria-hidden="true"><span class="icon icon-link"></span></a></h3>
<p><code>boolean = true</code></p>
<p>告知 <code>stats</code> 是否添加关于 <code>namedChunkGroups</code> 的信息。</p>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  stats<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    chunkGroups<span class="token punctuation">:</span> <span class="token boolean">false</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<h3 id="statschunkmodules"><code>stats.chunkModules</code><a href="#statschunkmodules" aria-hidden="true"><span class="icon icon-link"></span></a></h3>
<p><code>boolean = true</code></p>
<p>告知 <code>stats</code> 是否添加关于已构建模块和关于 chunk 的信息。</p>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  stats<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    chunkModules<span class="token punctuation">:</span> <span class="token boolean">false</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<h3 id="statschunkrootmodules"><code>stats.chunkRootModules</code><a href="#statschunkrootmodules" aria-hidden="true"><span class="icon icon-link"></span></a></h3>
<p><code>boolean = true</code></p>
<p>告知 <code>stats</code> 是否添加关于 chunks 的根模块信息。 如果 <code>stats.chunks = true</code> 则会应用该配置.</p>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  stats<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    chunkRootModules<span class="token punctuation">:</span> <span class="token boolean">false</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<h3 id="statschunkorigins"><code>stats.chunkOrigins</code><a href="#statschunkorigins" aria-hidden="true"><span class="icon icon-link"></span></a></h3>
<p><code>boolean = true</code></p>
<p>告知 <code>stats</code> 是不添加关于 chunks 的来源和 chunk 合并的信息。</p>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  stats<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    chunkOrigins<span class="token punctuation">:</span> <span class="token boolean">false</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<h3 id="statschunkssort"><code>stats.chunksSort</code><a href="#statschunkssort" aria-hidden="true"><span class="icon icon-link"></span></a></h3>
<p><code>string = 'id'</code></p>
<p>告知 <code>stats</code> 基于给定的字段给 chunks 排序。所有 <a href="#sorting-fields">排序字段</a> 都被允许用于作为 <code>stats.chunksSort</code> 的值。使用  <code>!</code> 作为值里的前缀用以将基于给定字段排序的结果反转。</p>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  stats<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    chunksSort<span class="token punctuation">:</span> <span class="token string">'name'</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<h3 id="statscontext"><code>stats.context</code><a href="#statscontext" aria-hidden="true"><span class="icon icon-link"></span></a></h3>
<p><code>string = '../src/'</code></p>
<p>设置上下文目录用以将文件请求信息变短。</p>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  stats<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    context<span class="token punctuation">:</span> <span class="token string">'../src/components/'</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<h3 id="statscolors"><code>stats.colors</code><a href="#statscolors" aria-hidden="true"><span class="icon icon-link"></span></a></h3>
<p><code>boolean = false</code> <code>object</code></p>
<p>告知 <code>stats</code> 是否输出不同的颜色。</p>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  stats<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    colors<span class="token punctuation">:</span> <span class="token boolean">true</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<p>它也可用通过命令行的参数实现：</p>
<pre><code class="hljs language-bash">webpack-cli --colors</code></pre>
<p>你可以通过使用 <a href="https://en.wikipedia.org/wiki/ANSI_escape_code">ANSI escape sequences</a> 指定你自己的命令行终端颜色。</p>
<pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  colors<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    green<span class="token punctuation">:</span> <span class="token string">'\u001b[32m'</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<h3 id="statsdepth"><code>stats.depth</code><a href="#statsdepth" aria-hidden="true"><span class="icon icon-link"></span></a></h3>
<p><code>boolean = false</code></p>
<p>告知 <code>stats</code> 是否展示每个模块与入口文件的距离。</p>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  stats<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    depth<span class="token punctuation">:</span> <span class="token boolean">true</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<h3 id="statsentrypoints"><code>stats.entrypoints</code><a href="#statsentrypoints" aria-hidden="true"><span class="icon icon-link"></span></a></h3>
<p><code>boolean = true</code></p>
<p>告知 <code>stats</code> 是否展示入口文件与对应的文件 bundles。</p>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  stats<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    entrypoints<span class="token punctuation">:</span> <span class="token boolean">false</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<h3 id="statsenv"><code>stats.env</code><a href="#statsenv" aria-hidden="true"><span class="icon icon-link"></span></a></h3>
<p><code>boolean = false</code></p>
<p>告知 <code>stats</code> 是否展示 <code>--env</code> 信息.</p>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  stats<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    env<span class="token punctuation">:</span> <span class="token boolean">true</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<h3 id="statsorphanmodules"><code>stats.orphanModules</code><a href="#statsorphanmodules" aria-hidden="true"><span class="icon icon-link"></span></a></h3>
<p><code>boolean = false</code></p>
<p>告知 <code>stats</code> 是否隐藏 <code>孤儿(orphan)</code> 模块. 一个模块属于 <code>孤儿(orphan)</code> 如果它不被包含在任何一个 chunk里。孤儿模块默认在 <code>stats</code> 中会被隐藏。</p>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  stats<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    orphanModules<span class="token punctuation">:</span> <span class="token boolean">true</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<h3 id="statserrors"><code>stats.errors</code><a href="#statserrors" aria-hidden="true"><span class="icon icon-link"></span></a></h3>
<p><code>boolean = true</code></p>
<p>告知 <code>stats</code> 是否展示错误。</p>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  stats<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    errors<span class="token punctuation">:</span> <span class="token boolean">false</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<h3 id="statserrordetails"><code>stats.errorDetails</code><a href="#statserrordetails" aria-hidden="true"><span class="icon icon-link"></span></a></h3>
<p><code>boolean = true</code></p>
<p>告知 <code>stats</code> 是否添加错误的详情。</p>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  stats<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    errorDetails<span class="token punctuation">:</span> <span class="token boolean">false</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<h3 id="statserrorstack"><code>stats.errorStack</code><a href="#statserrorstack" aria-hidden="true"><span class="icon icon-link"></span></a></h3>
<p><code>boolean = true</code></p>
<p>告知 <code>stats</code> 是否展示错位的栈追踪信息。</p>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  stats<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    errorStack<span class="token punctuation">:</span> <span class="token boolean">false</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<h3 id="statsexcludeassets"><code>stats.excludeAssets</code><a href="#statsexcludeassets" aria-hidden="true"><span class="icon icon-link"></span></a></h3>
<p><code>array = []: string | RegExp | function (assetName) => boolean</code> <code>string</code> <code>RegExp</code> <code>function (assetName) => boolean</code></p>
<p>告知 <code>stats</code> 排除掉匹配的资源信息。这个可以通过设置一个 <code>字符串</code>, 一个 <code>正则表达式</code>, 一个 <code>函数</code> 取得资源的名字作为入参且返回一个 <code>布尔值</code>。 <code>stats.excludeAssets</code> 可以是一个包括上面任意一类型值的 <code>数组</code> 。</p>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  stats<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    excludeAssets<span class="token punctuation">:</span> <span class="token punctuation">[</span>
      <span class="token string">'filter'</span><span class="token punctuation">,</span>
      <span class="token regex">/filter/</span><span class="token punctuation">,</span>
      <span class="token punctuation">(</span>assetName<span class="token punctuation">)</span> <span class="token operator">=></span> assetName<span class="token punctuation">.</span><span class="token function">contains</span><span class="token punctuation">(</span><span class="token string">'moduleA'</span><span class="token punctuation">)</span>
    <span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<h3 id="statsexcludemodules"><code>stats.excludeModules</code><a href="#statsexcludemodules" aria-hidden="true"><span class="icon icon-link"></span></a></h3>
<p><code>array = []: string | RegExp | function (assetName) => boolean</code> <code>string</code> <code>RegExp</code> <code>function (assetName) => boolean</code> <code>boolean: false</code></p>
<p>告知 <code>stats</code> 排除掉匹配的资源信息。这个可以通过设置一个 <code>字符串</code>, 一个 <code>正则表达式</code>, 一个 <code>函数</code> 取得资源的名字作为入参且返回一个 <code>布尔值</code>。 <code>stats.excludeModules</code> 可以是一个包括上面任意一类型值的 <code>数组</code> 。<code>stats.excludeModules</code> 会与 <code>stats.exclude</code> 的配置值<a href="https://github.com/webpack/webpack/blob/master/lib/Stats.js#L215">进行合并</a>。</p>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  stats<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    excludeModules<span class="token punctuation">:</span> <span class="token punctuation">[</span>
      <span class="token string">'filter'</span><span class="token punctuation">,</span>
      <span class="token regex">/filter/</span><span class="token punctuation">,</span>
      <span class="token punctuation">(</span>moduleSource<span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token boolean">true</span>
    <span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<p>将 <code>stats.excludeModules</code> 设置为 <code>false</code> 会禁用以上的排除行为。</p>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  stats<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    excludeModules<span class="token punctuation">:</span> <span class="token boolean">false</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<h3 id="statsexclude"><code>stats.exclude</code><a href="#statsexclude" aria-hidden="true"><span class="icon icon-link"></span></a></h3>
<p>详参 <a href="#statsexcludemodules"><code>stats.excludeModules</code></a>.</p>
<h3 id="statshash"><code>stats.hash</code><a href="#statshash" aria-hidden="true"><span class="icon icon-link"></span></a></h3>
<p><code>boolean = true</code></p>
<p>告知 <code>stats</code> 是否添加关于编译哈希值的信息。</p>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  stats<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    hash<span class="token punctuation">:</span> <span class="token boolean">false</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<h3 id="statslogging"><code>stats.logging</code><a href="#statslogging" aria-hidden="true"><span class="icon icon-link"></span></a></h3>
<p><code>string = 'info': 'none' | 'error' | 'warn' | 'info' | 'log' | 'verbose'</code> <code>boolean</code></p>
<p>告知 <code>stats</code> 是否添加日志输出。</p>
<ul>
<li><code>'none'</code>, <code>false</code> - 禁用日志</li>
<li><code>'error'</code> - 仅显示错误</li>
<li><code>'warn'</code> - 仅显示错误与告警</li>
<li><code>'info'</code> - 显示错误，告警与信息</li>
<li><code>'log'</code>, <code>true</code> - 显示错误，告警与信息，日志，组别，清理。折叠组别会在折叠状态中被显示 。</li>
<li><code>'verbose'</code> - 输出所有日志除了调试与追踪。 折叠组别会在扩展状态中被显示 。</li>
</ul>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  stats<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    logging<span class="token punctuation">:</span> <span class="token string">'verbose'</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<h3 id="statsloggingdebug"><code>stats.loggingDebug</code><a href="#statsloggingdebug" aria-hidden="true"><span class="icon icon-link"></span></a></h3>
<p><code>array = []: string | RegExp | function (name) => boolean</code> <code>string</code> <code>RegExp</code> <code>function (name) => boolean</code></p>
<p>告知 <code>stats</code> 去包括特定的日志工具调试信息比如插件或加载器的日志工具。当 <a href="#statslogging"><code>stats.logging</code></a> 被设置为 <code>false</code>, <code>stats.loggingDebug</code> 配置会被忽略。</p>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  stats<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    loggingDebug<span class="token punctuation">:</span> <span class="token punctuation">[</span>
      <span class="token string">'MyPlugin'</span><span class="token punctuation">,</span>
      <span class="token regex">/MyPlugin/</span><span class="token punctuation">,</span>
      <span class="token regex">/webpack/</span><span class="token punctuation">,</span> <span class="token comment">// To get core logging</span>
      <span class="token punctuation">(</span>name<span class="token punctuation">)</span> <span class="token operator">=></span> name<span class="token punctuation">.</span><span class="token function">contains</span><span class="token punctuation">(</span><span class="token string">'MyPlugin'</span><span class="token punctuation">)</span>
    <span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<h3 id="statsloggingtrace"><code>stats.loggingTrace</code><a href="#statsloggingtrace" aria-hidden="true"><span class="icon icon-link"></span></a></h3>
<p><code>boolean = true</code></p>
<p>启用错误，告警与追踪的日志输出中的堆栈追踪。将 <code>stats.loggingTrace</code> 设置为 <code>false</code> 隐藏追踪。</p>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  stats<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    loggingTrace<span class="token punctuation">:</span> <span class="token boolean">false</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<h3 id="statsmaxmodules"><code>stats.maxModules</code><a href="#statsmaxmodules" aria-hidden="true"><span class="icon icon-link"></span></a></h3>
<p><code>number = 15</code></p>
<p>设置最大的模块显示数量。</p>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  stats<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    maxModules<span class="token punctuation">:</span> <span class="token number">5</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<h3 id="statsmodules"><code>stats.modules</code><a href="#statsmodules" aria-hidden="true"><span class="icon icon-link"></span></a></h3>
<p><code>boolean = true</code></p>
<p>告知 <code>stats</code> 是否添加关于构建模块的信息。</p>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  stats<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    modules<span class="token punctuation">:</span> <span class="token boolean">false</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<h3 id="statsmodulessort"><code>stats.modulesSort</code><a href="#statsmodulessort" aria-hidden="true"><span class="icon icon-link"></span></a></h3>
<p><code>string = 'id'</code></p>
<p>告知 <code>stats</code> 基于给定的字段对资源进行排序。所有的 <a href="#sorting-fields">排序字段</a>都被允许作为 <code>stats.modulesSort</code>的值。使用 <code>!</code> 作为值的前缀以反转基于给定字段的排序结果。</p>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  stats<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    modulesSort<span class="token punctuation">:</span> <span class="token string">'size'</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<h3 id="statsmoduletrace"><code>stats.moduleTrace</code><a href="#statsmoduletrace" aria-hidden="true"><span class="icon icon-link"></span></a></h3>
<p><code>boolean = true</code></p>
<p>告知 <code>stats</code> 展示依赖和告警/错误的来源。<code>stats.moduleTrace</code> 从 webpack 2.5.0 起可用。</p>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  stats<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    moduleTrace<span class="token punctuation">:</span> <span class="token boolean">false</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<h3 id="statsoutputpath"><code>stats.outputPath</code><a href="#statsoutputpath" aria-hidden="true"><span class="icon icon-link"></span></a></h3>
<p><code>boolean = true</code></p>
<p>告知 <code>stats</code> 展示 <code>outputPath</code>.</p>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  stats<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    outputPath<span class="token punctuation">:</span> <span class="token boolean">false</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<h3 id="statsperformance"><code>stats.performance</code><a href="#statsperformance" aria-hidden="true"><span class="icon icon-link"></span></a></h3>
<p><code>boolean = true</code></p>
<p>告知 <code>stats</code> 当文件大小超过 <a href="/configuration/performance/#performancemaxassetsize"><code>performance.maxAssetSize</code></a>配置值时，展示性能提性。</p>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  stats<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    performance<span class="token punctuation">:</span> <span class="token boolean">false</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<h3 id="statspreset"><code>stats.preset</code><a href="#statspreset" aria-hidden="true"><span class="icon icon-link"></span></a></h3>
<p><code>string</code> <code>boolean: false</code></p>
<p>为展示的信息类型设置 <a href="/configuration/stats/#stats-presets">预设值</a>。这对<a href="/configuration/stats/#extending-stats-behaviours">扩展统计信息行为</a>非常有用。</p>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  stats<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    preset<span class="token punctuation">:</span> <span class="token string">'minimal'</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<p>将 <code>stats.preset</code> 的值设置为<code>false</code> 告知 webpack 使用 <code>'none'</code> <a href="/configuration/stats/#stats-presets">统计信息预设值</a>。</p>
<h3 id="statsprovidedexports"><code>stats.providedExports</code><a href="#statsprovidedexports" aria-hidden="true"><span class="icon icon-link"></span></a></h3>
<p><code>boolean = false</code></p>
<p>告知 <code>stats</code> 去展示模块的导出。</p>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  stats<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    providedExports<span class="token punctuation">:</span> <span class="token boolean">true</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<h3 id="statspublicpath"><code>stats.publicPath</code><a href="#statspublicpath" aria-hidden="true"><span class="icon icon-link"></span></a></h3>
<p><code>boolean = true</code></p>
<p>告知 <code>stats</code> 展示 <code>publicPath</code>。</p>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  stats<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    publicPath<span class="token punctuation">:</span> <span class="token boolean">false</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<h3 id="statsreasons"><code>stats.reasons</code><a href="#statsreasons" aria-hidden="true"><span class="icon icon-link"></span></a></h3>
<p><code>boolean = true</code></p>
<p>告知 <code>stats</code> 添加关于模块被引用的原因信息。</p>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  stats<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    reasons<span class="token punctuation">:</span> <span class="token boolean">false</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<h3 id="statssource"><code>stats.source</code><a href="#statssource" aria-hidden="true"><span class="icon icon-link"></span></a></h3>
<p><code>boolean = false</code></p>
<p>告知 <code>stats</code> 去添加模块的源码。</p>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  stats<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    source<span class="token punctuation">:</span> <span class="token boolean">true</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<h3 id="statstimings"><code>stats.timings</code><a href="#statstimings" aria-hidden="true"><span class="icon icon-link"></span></a></h3>
<p><code>boolean = true</code></p>
<p>告知 <code>stats</code> 添加时间信息。</p>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  stats<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    timings<span class="token punctuation">:</span> <span class="token boolean">false</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<h3 id="statsusedexports"><code>stats.usedExports</code><a href="#statsusedexports" aria-hidden="true"><span class="icon icon-link"></span></a></h3>
<p><code>boolean = false</code></p>
<p>告知 <code>stats</code> 是否展示模块用了哪些导出。</p>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  stats<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    usedExports<span class="token punctuation">:</span> <span class="token boolean">true</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<h3 id="statsversion"><code>stats.version</code><a href="#statsversion" aria-hidden="true"><span class="icon icon-link"></span></a></h3>
<p><code>boolean = true</code></p>
<p>告知 <code>stats</code> 添加关于 webpack 版本的信息。</p>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  stats<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    version<span class="token punctuation">:</span> <span class="token boolean">false</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<h3 id="statswarnings"><code>stats.warnings</code><a href="#statswarnings" aria-hidden="true"><span class="icon icon-link"></span></a></h3>
<p><code>boolean = true</code></p>
<p>告知 <code>stats</code> 添加告警。</p>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  stats<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    warnings<span class="token punctuation">:</span> <span class="token boolean">false</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<h3 id="statswarningsfilter"><code>stats.warningsFilter</code><a href="#statswarningsfilter" aria-hidden="true"><span class="icon icon-link"></span></a></h3>
<p><code>array = []: string | RegExp | function (warning) => boolean</code> <code>string</code> <code>RegExp</code> <code>function (warning) => boolean</code></p>
<p>告知 <code>stats</code> 排除掉匹配的告警信息。这个可以通过设置一个 <code>字符串</code>, 一个 <code>正则表达式</code>, 一个 <code>函数</code> 取得资源的名字作为入参且返回一个 <code>布尔值</code>。 <code>stats.warningsFilter</code> 可以是一个包括上面任意一类型值的 <code>数组</code> 。</p>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  stats<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    warningsFilter<span class="token punctuation">:</span> <span class="token punctuation">[</span>
      <span class="token string">'filter'</span><span class="token punctuation">,</span>
      <span class="token regex">/filter/</span><span class="token punctuation">,</span>
      <span class="token punctuation">(</span>warning<span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token boolean">true</span>
    <span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<h3 id="statschunkrelations"><code>stats.chunkRelations</code><a href="#statschunkrelations" aria-hidden="true"><span class="icon icon-link"></span></a></h3>
<p><code>boolean = false</code></p>
<p>告知 <code>stats</code> 展示 chunk 的父chunk，孩子chunk和兄弟chunk。</p>
<h3 id="字段排序">字段排序<a href="#%E5%AD%97%E6%AE%B5%E6%8E%92%E5%BA%8F" aria-hidden="true"><span class="icon icon-link"></span></a></h3>
<p>对于 <code>assetsSort</code>, <code>chunksSort</code> 和 <code>modulesSort</code> 它们有几个可用的字段用于排序：</p>
<ul>
<li><code>'id'</code> 是元素（指资源，chunk或模块，下同）的 id;</li>
<li><code>'name'</code> - 一个元素的名字，在导引的时候被分配；</li>
<li><code>'size'</code> - 一个元素的大小，单位字节（bytes）;</li>
<li><code>'chunks'</code> - 元素来源于哪些 chunks (例如，一个 chunk 有多个子 chunks， - 子 chunks 会被基于主 chunk 组合到一起);</li>
<li><code>'errors'</code> - 元素组错误的数量;</li>
<li><code>'warnings'</code> - 元素中告警的数量;</li>
<li><code>'failed'</code> - 元素是被编译失败;</li>
<li><code>'cacheable'</code> - 元素是否被缓存;</li>
<li><code>'built'</code> - 资源是否被构建;</li>
<li><code>'prefetched'</code> - 资源是否被预拉取;</li>
<li><code>'optional'</code> - 资源是否可选;</li>
<li><code>'identifier'</code> - 元素的标识符;</li>
<li><code>'index'</code> - 元素加工指针;</li>
<li><code>'index2'</code></li>
<li><code>'profile'</code></li>
<li><code>'issuer'</code> - 发起者(issuer)的标识符;</li>
<li><code>'issuerId'</code> - 发起者(issuer)的id;</li>
<li><code>'issuerName'</code> - 发起者(issuer)的名字;</li>
<li><code>'issuerPath'</code> - 一个完整的发起者(issuer)对象。基于这个字段排序没有现实的需要;</li>
</ul>
<h3 id="扩展统计信息行为">扩展统计信息行为<a href="#%E6%89%A9%E5%B1%95%E7%BB%9F%E8%AE%A1%E4%BF%A1%E6%81%AF%E8%A1%8C%E4%B8%BA" aria-hidden="true"><span class="icon icon-link"></span></a></h3>
<p>如果你想使用其中一个预定义的行为，例如 <code>'minimal'</code>，但仍想重载一个或更多的规则：请指定想要设置的 <code>stats.preset</code> 同时在后面添加自定义或额外的规则。</p>
<p><strong>webpack.config.js</strong></p>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//..</span>
  stats<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    preset<span class="token punctuation">:</span> <span class="token string">'minimal'</span><span class="token punctuation">,</span>
    moduleTrace<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    errorDetails<span class="token punctuation">:</span> <span class="token boolean">true</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<h1 id="实验特性experiments">实验特性(experiments)<a href="#%E5%AE%9E%E9%AA%8C%E7%89%B9%E6%80%A7experiments" aria-hidden="true"><span class="icon icon-link"></span></a></h1>
<h2 id="experiments"><code>experiments</code><a href="#experiments" aria-hidden="true"><span class="icon icon-link"></span></a></h2>
<p><code>boolean: false</code></p>
<p><code>experiments</code> 配置是在 webpack 5 中推出，目的是为了给用户赋能去开启并试用一些实验的特性。</p>
<blockquote class="warning">
<p>由于实验特性具有相对 宽松的语义版本，可能会有重大的变更，所以主确定你将 webpack 的版本固定为小版本号，例如与其使用 <code>webpack: ~5.4.3</code> 不如使用 <code>webpack: ^5.4.3</code> 或者当使用 <code>experiments</code> 配置时使用版本锁定能力.</p>
</blockquote>
<p>可用的配置项：</p>
<ul>
<li><code>mjs</code>: 支持  <code>.mjs</code> 文件来定义 <a href="https://nodejs.org/api/esm.html#esm_ecmascript_modules">EcmaScript 模块</a></li>
<li><code>syncWebAssembly</code>: 支持旧版本  webpack 4 的  WebAssembly</li>
<li><code>asyncWebAssembly</code>: 支持新版本的 WebAssembly，该版本依据 <a href="https://github.com/WebAssembly/esm-integration">更新的规格书</a>, 它使 WebAssembly 模块作为一个异步的模块</li>
<li><code>topLevelAwait</code>: 支持 <a href="https://github.com/tc39/proposal-top-level-await">顶层 Await 阶段3提议</a>, 当 <code>await</code> 在顶层使用，它让模块成为一个异步模块。</li>
<li><code>importAsync</code>: 使用 <code>import</code> 导入异步模块</li>
<li><code>importAwait</code>: 使用 <code>import await</code> 导入异步模块</li>
<li><code>asset</code>: 一种允许使用资源文件  (如字体fonts, 图片images, 等)而不需要配置类似于 <code>file-loader</code> | <code>url-loader</code> | <code>raw-loader</code> 等loaders 来处理它们的导入的模块</li>
<li><code>outputModule</code>: 开启使用 <a href="/configuration/output/#outputmodule"><code>output.module</code></a> 配置同时将它设置成 <code>true</code>。 开启使用 <code>output.libraryTarget</code> 作为 <code>'module'</code> 且将它设置成 <code>'module'</code>。</li>
</ul>
<p><strong>webpack.config.js</strong></p>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  experiments<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    mjs<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    outputModule<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    syncWebAssembly<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    topLevelAwait<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    asset<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    asyncWebAssembly<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    importAsync<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    importAwait<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<h1 id="其它选项">其它选项<a href="#%E5%85%B6%E5%AE%83%E9%80%89%E9%A1%B9" aria-hidden="true"><span class="icon icon-link"></span></a></h1>
<p>这里是 webpack 支持的其它选项。</p>
<blockquote class="warning">
<p>寻求帮助：这个页面还在更新中，如果你发现本页面内有描述不准确或者不完整，请在 <a href="https://github.com/webpack/webpack.js.org">webpack 的文档仓库</a>中创建 issue 或者 pull request</p>
</blockquote>
<h2 id="amd"><code>amd</code><a href="#amd" aria-hidden="true"><span class="icon icon-link"></span></a></h2>
<p><code>object</code> <code>boolean: false</code></p>
<p>设置 <code>require.amd</code> 或 <code>define.amd</code> 的值。设置 <code>amd</code> 为 <code>false</code> 会禁用 webpack 的 AMD 支持。</p>
<p><strong>webpack.config.js</strong></p>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  amd<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    jQuery<span class="token punctuation">:</span> <span class="token boolean">true</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<p>某些流行的模块是按照 AMD 规范编写的，最引人瞩目的 jQuery 版本在 1.7.0 到 1.9.1，如果 loader 提示它对页面包含的多个版本采取了<a href="https://github.com/amdjs/amdjs-api/wiki/jQuery-and-AMD">特殊许可</a>时，才会注册为 AMD 模块。</p>
<p>许可权限是具有「限制指定版本注册」或「支持有不同定义模块的不同沙盒」的能力。</p>
<p>此选项允许将模块查找的键(key)设置为真值(truthy value)。
发生这种情况时，webpack 中的 AMD 支持将忽略定义的名称。</p>
<h2 id="bail"><code>bail</code><a href="#bail" aria-hidden="true"><span class="icon icon-link"></span></a></h2>
<p><code>boolean = false</code></p>
<p>在第一个错误出现时抛出失败结果，而不是容忍它。默认情况下，当使用 HMR 时，webpack 会将在终端以及浏览器控制台中，以红色文字记录这些错误，但仍然继续进行打包。要启用它：</p>
<p><strong>webpack.config.js</strong></p>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  bail<span class="token punctuation">:</span> <span class="token boolean">true</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<p>这将迫使 webpack 退出其打包过程。</p>
<h2 id="cache"><code>cache</code><a href="#cache" aria-hidden="true"><span class="icon icon-link"></span></a></h2>
<p><code>boolean</code> <code>object</code></p>
<p>缓存生成的 webpack 模块和 chunk，来改善构建速度。<code>cache</code> 会在<a href="/configuration/mode/#mode-development"><code>开发</code> 模式</a>被设置成 <code>type: 'memory'</code> 而且在 <a href="/configuration/mode/#mode-production"><code>生产</code> 模式</a> 中被禁用。 <code>cache: true</code> 与 <code>cache: { type: 'memory' }</code> 配置作用一致。 传入  <code>false</code> 会禁用缓存:</p>
<p><strong>webpack.config.js</strong></p>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  cache<span class="token punctuation">:</span> <span class="token boolean">false</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<h3 id="cachetype"><code>cache.type</code><a href="#cachetype" aria-hidden="true"><span class="icon icon-link"></span></a></h3>
<p><code>string: 'memory' | 'filesystem'</code></p>
<p>将 <code>cache</code> 类型设置成内存或者文件系统。 <code>memory</code> 选项是非常直白的，它告诉 webpack 将内存存放在内存中并且不允许额外的配置：</p>
<p><strong>webpack.config.js</strong></p>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  cache<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    type<span class="token punctuation">:</span> <span class="token string">'memory'</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<p>当将 <code>cache.type</code> 设置成 <code>filesystem</code> 会开放更多的选荐可配置。</p>
<h3 id="cachecachedirectory"><code>cache.cacheDirectory</code><a href="#cachecachedirectory" aria-hidden="true"><span class="icon icon-link"></span></a></h3>
<p><code>string</code></p>
<p>缓存的。默认为 <code>node_modules/.cache/webpack</code>。</p>
<p><code>cache.cacheDirectory</code> 选项仅当 <a href="#cachetype"><code>cache.type</code></a> 被设置成 <code>filesystem</code> 才可用。</p>
<p><strong>webpack.config.js</strong></p>
<pre><code class="hljs language-javascript"><span class="token keyword">const</span> path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'path'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  cache<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    type<span class="token punctuation">:</span> <span class="token string">'filesystem'</span><span class="token punctuation">,</span>
    cacheDirectory<span class="token punctuation">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">'.temp_cache'</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<blockquote class="warning">
<p>最终的缓存目标是 <code>cache.cacheDirectory</code> + <code>cache.name</code> 的混合.</p>
</blockquote>
<h3 id="cachecachelocation"><code>cache.cacheLocation</code><a href="#cachecachelocation" aria-hidden="true"><span class="icon icon-link"></span></a></h3>
<p><code>string</code></p>
<p>缓存的路径。默认值为 <code>path.resolve(cache.cacheDirectory, cache.name)</code>.</p>
<p><strong>webpack.config.js</strong></p>
<pre><code class="hljs language-javascript"><span class="token keyword">const</span> path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'path'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  cache<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    type<span class="token punctuation">:</span> <span class="token string">'filesystem'</span><span class="token punctuation">,</span>
    cacheLocation<span class="token punctuation">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">'.test_cache'</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<h3 id="cachebuilddependencies"><code>cache.buildDependencies</code><a href="#cachebuilddependencies" aria-hidden="true"><span class="icon icon-link"></span></a></h3>
<p><code>object</code></p>
<p><code>cache.buildDependencies</code> is an object of arrays of additional code dependencies for the build. webpack will use a hash of each of these items and all dependencies to invalidate the filesystem cache.</p>
<p>Defaults to <code>webpack/lib</code> to get all dependencies of webpack.</p>
<blockquote class="tip">
<p>It's recommended to set <code>cache.buildDependencies.config: [__filename]</code> in your webpack configuration to get the latest configuration and all dependencies.</p>
</blockquote>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  cache<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    buildDependencies<span class="token punctuation">:</span> <span class="token punctuation">{</span>
      <span class="token comment">// This makes all dependencies of this file - build dependencies</span>
      config<span class="token punctuation">:</span> <span class="token punctuation">[</span>__filename<span class="token punctuation">]</span>
      <span class="token comment">// By default webpack and loaders are build dependencies</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<h3 id="cachemanagedpaths"><code>cache.managedPaths</code><a href="#cachemanagedpaths" aria-hidden="true"><span class="icon icon-link"></span></a></h3>
<p><code>[string] = ['./node_modules']</code></p>
<p><code>cache.managedPaths</code> is an array of package-manager only managed paths. webpack will avoid hashing and timestamping them, assume the version is unique and will use it as a snapshot (for both memory and filesystem cache).</p>
<h3 id="cachehashalgorithm"><code>cache.hashAlgorithm</code><a href="#cachehashalgorithm" aria-hidden="true"><span class="icon icon-link"></span></a></h3>
<p><code>string</code></p>
<p>用于哈希生成的算法。详情请参阅 <a href="https://nodejs.org/api/crypto.html">Node.js crypto</a>。默认值为 <code>md4</code>.</p>
<p><code>cache.hashAlgorithm</code> 选项仅当 <a href="#cachetype"><code>cache.type</code></a> 设置成 <code>filesystem</code> 才可配置。</p>
<p><strong>webpack.config.js</strong></p>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  cache<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    type<span class="token punctuation">:</span> <span class="token string">'filesystem'</span><span class="token punctuation">,</span>
    hashAlgorithm<span class="token punctuation">:</span> <span class="token string">'md4'</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<h3 id="cachename"><code>cache.name</code><a href="#cachename" aria-hidden="true"><span class="icon icon-link"></span></a></h3>
<p><code>string</code></p>
<p>缓存的名称。不同的名字会导致不同的的共存的缓存。默认值为 <code>${config.name}-${config.mode}</code>。使用 <code>cache.name</code> 当你有多份配置的时候，是比较合理的因为会有配置会有独立的缓存。</p>
<p><code>cache.name</code> 选项仅当 <a href="#cachetype"><code>cache.type</code></a> 被设置成 <code>filesystem</code> 的时候可进行配置。</p>
<p><strong>webpack.config.js</strong></p>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  cache<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    type<span class="token punctuation">:</span> <span class="token string">'filesystem'</span><span class="token punctuation">,</span>
    name<span class="token punctuation">:</span> <span class="token string">'AppBuildCache'</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<h3 id="cachestore"><code>cache.store</code><a href="#cachestore" aria-hidden="true"><span class="icon icon-link"></span></a></h3>
<p><code>string = 'pack': 'pack'</code></p>
<p><code>cache.store</code> 告诉 webpack 什么时候将数据存放在文件系统中。</p>
<ul>
<li><code>'pack'</code>: 当编译器闲置时候，将缓存数据都存放在一个文件中</li>
</ul>
<p><code>cache.store</code> 选项仅当 <a href="#cachetype"><code>cache.type</code></a> 设置成 <code>filesystem</code> 才可配置。</p>
<blockquote class="warning">
<p><code>pack</code> 是 webpack 5.0.x 起唯一支持的类型</p>
</blockquote>
<p><strong>webpack.config.js</strong></p>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  cache<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    type<span class="token punctuation">:</span> <span class="token string">'filesystem'</span><span class="token punctuation">,</span>
    store<span class="token punctuation">:</span> <span class="token string">'pack'</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<h3 id="cacheversion"><code>cache.version</code><a href="#cacheversion" aria-hidden="true"><span class="icon icon-link"></span></a></h3>
<p><code>string = ''</code></p>
<p>缓存数据的版本。不同版本不会允许重用缓存和重载当前的内容。当配置以一种无法重用缓存的方式改变时，要更新缓存的版本。这会让缓存失效。</p>
<p><code>cache.version</code> 选项仅当 <a href="#cachetype"><code>cache.type</code></a> 设置成 <code>filesystem</code> 才可配置。</p>
<p><strong>webpack.config.js</strong></p>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  cache<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    type<span class="token punctuation">:</span> <span class="token string">'filesystem'</span><span class="token punctuation">,</span>
    version<span class="token punctuation">:</span> <span class="token string">'your_version'</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<blockquote class="warning">
<p>在具有不同选项的调用之间不要共享缓存。</p>
</blockquote>
<h3 id="cacheidletimeout"><code>cache.idleTimeout</code><a href="#cacheidletimeout" aria-hidden="true"><span class="icon icon-link"></span></a></h3>
<p><code>number = 10000</code></p>
<p>单位毫秒。 <code>cache.idleTimeout</code> 表示缓存存储发生后的时间段。</p>
<p><strong>webpack.config.js</strong></p>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//..</span>
  cache<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    idleTimeout<span class="token punctuation">:</span> <span class="token number">10000</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<blockquote class="warning">
<p><code>cache.idleTimeout</code> 仅当 <a href="#cachestore"><code>cache.store</code></a> 设置成 <code>'pack'</code> 或 <code>'idle'</code> 才可配置。</p>
</blockquote>
<h3 id="cacheidletimeoutforinitialstore"><code>cache.idleTimeoutForInitialStore</code><a href="#cacheidletimeoutforinitialstore" aria-hidden="true"><span class="icon icon-link"></span></a></h3>
<p><code>number = 0</code></p>
<p>单位毫秒。 <code>cache.idleTimeoutForInitialStore</code> 是在初始缓存存储发生后的时间段。</p>
<p><strong>webpack.config.js</strong></p>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//..</span>
  cache<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    idleTimoutForInitialStore<span class="token punctuation">:</span> <span class="token number">0</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<blockquote class="warning">
<p><code>cache.idleTimeoutForInitialStore</code> 仅当 <a href="#cachestore"><code>cache.store</code></a> 设置成 <code>'pack'</code> 或 <code>'idle'</code> 才可配置。</p>
</blockquote>
<h2 id="loader"><code>loader</code><a href="#loader" aria-hidden="true"><span class="icon icon-link"></span></a></h2>
<p><code>object</code></p>
<p>在 loader 上下文中暴露自定义值。</p>
<blockquote class="todo">
<p>添加一个例子...</p>
</blockquote>
<h2 id="parallelism"><code>parallelism</code><a href="#parallelism" aria-hidden="true"><span class="icon icon-link"></span></a></h2>
<p><code>number = 100</code></p>
<p>限制并行处理的模块数量。可以用于调优性能或获取更可靠的性能分析结果。</p>
<h2 id="profile"><code>profile</code><a href="#profile" aria-hidden="true"><span class="icon icon-link"></span></a></h2>
<p><code>boolean</code></p>
<p>捕获一个应用程序"配置文件"，包括统计和提示，然后可以使用 <a href="https://webpack.github.io/analyse/">Analyze</a> 分析工具进行详细分析。</p>
<blockquote class="tip">
<p>使用 <a href="https://www.npmjs.com/package/stats-webpack-plugin">StatsPlugin</a> 可以更好地控制生成的配置文件。</p>
</blockquote>
<blockquote class="tip">
<p>与 <code>parallelism: 1</code> 混用以达到更好的结果。</p>
</blockquote>
<h2 id="recordspath"><code>recordsPath</code><a href="#recordspath" aria-hidden="true"><span class="icon icon-link"></span></a></h2>
<p><code>string</code></p>
<p>开启这个选项可以生成一个 JSON 文件，其中含有 webpack 的 "records" 记录 - 即「用于存储跨多次构建(across multiple builds)的模块标识符」的数据片段。可以使用此文件来跟踪在每次构建之间的模块变化。只要简单的设置一下路径,就可以生成这个 JSON 文件：</p>
<p><strong>webpack.config.js</strong></p>
<pre><code class="hljs language-javascript"><span class="token keyword">const</span> path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'path'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  recordsPath<span class="token punctuation">:</span> path<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">'records.json'</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<p>如果你使用了<a href="/guides/code-splitting">代码分离(code splittnig)</a>这样的复杂配置，records 会特别有用。这些数据用于确保拆分 bundle，以便实现你需要的<a href="/guides/caching">缓存(caching)</a>行为。</p>
<blockquote class="tip">
<p>注意，虽然这个文件是由编译器(compiler)生成的，但你可能仍然希望在源代码管理中追踪它，以便随时记录它的变化情况。</p>
</blockquote>
<blockquote class="warning">
<p>设置 <code>recordsPath</code> 本质上会把 <code>recordsInputPath</code> 和 <code>recordsOutputPath</code> 都设置成相同的路径。通常来讲这也是符合逻辑的，除非你决定改变记录文件的名称。可以查看下面的实例：</p>
</blockquote>
<h2 id="recordsinputpath"><code>recordsInputPath</code><a href="#recordsinputpath" aria-hidden="true"><span class="icon icon-link"></span></a></h2>
<p><code>string</code></p>
<p>指定读取最后一条记录的文件的名称。这可以用来重命名一个记录文件，可以查看下面的实例：</p>
<h2 id="recordsoutputpath"><code>recordsOutputPath</code><a href="#recordsoutputpath" aria-hidden="true"><span class="icon icon-link"></span></a></h2>
<p><code>string</code></p>
<p>指定记录要写入的位置。以下示例描述了如何用这个选项和 <code>recordsInptuPaht</code> 来重命名一个记录文件：</p>
<p><strong>webpack.config.js</strong></p>
<pre><code class="hljs language-javascript"><span class="token keyword">const</span> path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'path'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  recordsInputPath<span class="token punctuation">:</span> path<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">'records.json'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  recordsOutputPath<span class="token punctuation">:</span> path<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">'newRecords.json'</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<h2 id="name"><code>name</code><a href="#name" aria-hidden="true"><span class="icon icon-link"></span></a></h2>
<p><code>string</code></p>
<p>配置的名称。当加载不同的配置时会被使用。</p>
<p><strong>webpack.config.js</strong></p>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  name<span class="token punctuation">:</span> <span class="token string">'admin-app'</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<h3 id="infrastructurelogging">infrastructureLogging<a href="#infrastructurelogging" aria-hidden="true"><span class="icon icon-link"></span></a></h3>
<p>用于基础设施水平的日志选项。</p>
<p><code>object = {}</code></p>
<h4 id="infrastructurelogginglevel">infrastructureLogging.level<a href="#infrastructurelogginglevel" aria-hidden="true"><span class="icon icon-link"></span></a></h4>
<p><code>string</code></p>
<p>开启基础设施日志输出。与 <a href="/configuration/stats/#statslogging"><code>stats.logging</code></a> 选项类似但仅仅是对于基础设施而言。 没有默认值提供。</p>
<p>可能的取值：</p>
<ul>
<li><code>'none'</code> - 禁用日志</li>
<li><code>'error'</code> - 仅仅显示错误</li>
<li><code>'warn'</code> - 仅仅显示错误与告警</li>
<li><code>'info'</code> - 显示错误、告警与信息</li>
<li><code>'log'</code> - 显示错误、告警，信息，日志信息，组别，清楚。 收缩的组别会在收缩的状态中被显示。</li>
<li><code>'verbose'</code> - 输出所有日志除了调试与追踪。收缩的组别会在扩展的状态中被显示。</li>
</ul>
<p><strong>webpack.config.js</strong></p>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  infrastructureLogging<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    level<span class="token punctuation">:</span> <span class="token string">'info'</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<h4 id="infrastructureloggingdebug">infrastructureLogging.debug<a href="#infrastructureloggingdebug" aria-hidden="true"><span class="icon icon-link"></span></a></h4>
<p><code>string</code> <code>RegExp</code> <code>function(name) => boolean</code> <code>[string, RegExp, function(name) => boolean]</code></p>
<p>开启特定日志比如插件(plugins)和加载器(loaders)的调试信息。 与 <a href="/configuration/stats/#statsloggingdebug"><code>stats.loggingDebug</code></a> 选项类似但仅仅对于基础设施而言。没有默认配置提供。</p>
<p><strong>webpack.config.js</strong></p>
<pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  infrastructureLogging<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    level<span class="token punctuation">:</span> <span class="token string">'info'</span><span class="token punctuation">,</span>
    debug<span class="token punctuation">:</span> <span class="token punctuation">[</span>
      <span class="token string">'MyPlugin'</span><span class="token punctuation">,</span>
      <span class="token regex">/MyPlugin/</span><span class="token punctuation">,</span>
      <span class="token punctuation">(</span>name<span class="token punctuation">)</span> <span class="token operator">=></span> name<span class="token punctuation">.</span><span class="token function">contains</span><span class="token punctuation">(</span><span class="token string">'MyPlugin'</span><span class="token punctuation">)</span>
    <span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
</div><div class="contributors__section"><hr/><h3>Contributors</h3><div class="contributors"><div class="contributors__list"><a class="contributor" href="https://github.com/webpack"><img alt="webpack" src="/cb0093496837d3dc43dfae5a9104d663.png"/><span class="contributor__name"> <!-- -->webpack</span></a></div></div></div></div></section><div class="gitter"><div class="gitter__button"><i class="gitter__icon icon-gitter"></i></div></div></div><footer class="footer"><div class="container footer__inner"><section class="footer__left"><a class="footer__link" href="/guides/getting-started/">起步</a><a class="footer__link" href="/organization/">组织</a><a class="footer__link" href="/starter-kits/">配套工具</a><a class="footer__link" href="/comparison/">比较</a></section><section class="footer__middle"><a class="footer__icon" href="/"><img src="/d19378a95ebe6b15d5ddea281138dcf4.svg" alt="webpack icon"/></a></section><section class="footer__right"><a href="https://webpack.threadless.com/" target="_blank" rel="noopener" class="footer__link">商店</a><a class="footer__link" href="/glossary/">概念术语</a><a class="footer__link" href="/branding/">品牌</a><a href="https://gitter.im/webpack/webpack" target="_blank" rel="noopener" class="footer__link">Gitter</a><a href="https://github.com/webpack/webpack/releases" target="_blank" rel="noopener" class="footer__link">更新日志</a><a class="footer__link footer__license" href="/license"><img alt="Creative Commons License" src="/7052446b5e67df4434f4031afd2f1497.svg"/><img alt="Creative Commons License" src="/7ebb1b3901ce119694f65e04f6347ef5.svg"/></a></section></div></footer></div></div><script>
window.matchMedia('print').addListener(function(mql) {
  if (!mql.matches) {
      window.close();
  }
});
window.print();
</script></body></html>