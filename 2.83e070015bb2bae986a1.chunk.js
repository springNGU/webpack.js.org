(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{307:function(e,a,n){"use strict";n.r(a);var t=n(0),o=n.n(t),p=n(462);a.default=function(e){var a=e.components;!function(e,a){var n={};for(var t in e)a.indexOf(t)>=0||Object.prototype.hasOwnProperty.call(e,t)&&(n[t]=e[t])}(e,["components"]);return o.a.createElement(p.MDXTag,{name:"wrapper",components:a},o.a.createElement(p.MDXTag,{name:"hr",components:a}),o.a.createElement(p.MDXTag,{name:"p",components:a},"title: Node 接口\nsort: 2\ncontributors:"),o.a.createElement(p.MDXTag,{name:"ul",components:a},o.a.createElement(p.MDXTag,{name:"li",components:a,parentName:"ul"},"sallar"),o.a.createElement(p.MDXTag,{name:"li",components:a,parentName:"ul"},"rynclark"),o.a.createElement(p.MDXTag,{name:"li",components:a,parentName:"ul"},"byzyk"),o.a.createElement(p.MDXTag,{name:"li",components:a,parentName:"ul"},"wizardofhogwarts"),o.a.createElement(p.MDXTag,{name:"li",components:a,parentName:"ul"},"EugeneHlushko"),o.a.createElement(p.MDXTag,{name:"li",components:a,parentName:"ul"},"lukasgeiter"),o.a.createElement(p.MDXTag,{name:"li",components:a,parentName:"ul"},"toshihidetagami"),o.a.createElement(p.MDXTag,{name:"li",components:a,parentName:"ul"},"chenxsan"),o.a.createElement(p.MDXTag,{name:"li",components:a,parentName:"ul"},"jamesgeorge007")),o.a.createElement(p.MDXTag,{name:"hr",components:a}),o.a.createElement(p.MDXTag,{name:"p",components:a},"webpack 提供了 Node.js API，可以在 Node.js 运行时下直接使用。"),o.a.createElement(p.MDXTag,{name:"p",components:a},"当你需要自定义构建或开发流程时，Node.js API 非常有用，因为此时所有的报告和错误处理都必须自行实现，webpack 仅仅负责编译的部分。所以 ",o.a.createElement(p.MDXTag,{name:"a",components:a,parentName:"p",props:{href:"/configuration/stats"}},o.a.createElement(p.MDXTag,{name:"inlineCode",components:a,parentName:"a"},"stats"))," 配置选项不会在 ",o.a.createElement(p.MDXTag,{name:"inlineCode",components:a,parentName:"p"},"webpack()")," 调用中生效。"),o.a.createElement(p.MDXTag,{name:"h2",components:a,props:{id:"安装installation"}},"安装(Installation)",o.a.createElement(p.MDXTag,{name:"a",components:a,parentName:"h2",props:{href:"#%E5%AE%89%E8%A3%85installation","aria-hidden":"true"}},o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"a",props:{className:"icon icon-link"}}))),o.a.createElement(p.MDXTag,{name:"p",components:a},"开始使用 webpack 的 Node.js API 之前，首先你需要安装 webpack："),o.a.createElement(p.MDXTag,{name:"pre",components:a},o.a.createElement(p.MDXTag,{name:"code",components:a,parentName:"pre",props:{className:"hljs language-bash",metaString:""}},o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token function"}},"npm")," ",o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token function"}},"install")," --save-dev webpack")),o.a.createElement(p.MDXTag,{name:"p",components:a},"在 Node.js 文件中，引入 webpack 模块:"),o.a.createElement(p.MDXTag,{name:"pre",components:a},o.a.createElement(p.MDXTag,{name:"code",components:a,parentName:"pre",props:{className:"hljs language-js",metaString:""}},o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token keyword"}},"const")," webpack ",o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token operator"}},"=")," ",o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token function"}},"require"),o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token punctuation"}},"("),o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token string"}},"'webpack'"),o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token punctuation"}},")"),o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token punctuation"}},";"))),o.a.createElement(p.MDXTag,{name:"p",components:a},"或者如果你更喜欢 ES2015:"),o.a.createElement(p.MDXTag,{name:"pre",components:a},o.a.createElement(p.MDXTag,{name:"code",components:a,parentName:"pre",props:{className:"hljs language-js",metaString:""}},o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token keyword"}},"import")," webpack ",o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token keyword"}},"from")," ",o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token string"}},"'webpack'"),o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token punctuation"}},";"))),o.a.createElement(p.MDXTag,{name:"h2",components:a,props:{id:"webpack"}},o.a.createElement(p.MDXTag,{name:"inlineCode",components:a,parentName:"h2"},"webpack()"),o.a.createElement(p.MDXTag,{name:"a",components:a,parentName:"h2",props:{href:"#webpack","aria-hidden":"true"}},o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"a",props:{className:"icon icon-link"}}))),o.a.createElement(p.MDXTag,{name:"p",components:a},"导入的 ",o.a.createElement(p.MDXTag,{name:"inlineCode",components:a,parentName:"p"},"webpack")," 函数会将 ",o.a.createElement(p.MDXTag,{name:"a",components:a,parentName:"p",props:{href:"/configuration/"}},"配置对象")," 传给 webpack，如果同时传入回调函数会在 webpack compiler 运行时被执行:"),o.a.createElement(p.MDXTag,{name:"pre",components:a},o.a.createElement(p.MDXTag,{name:"code",components:a,parentName:"pre",props:{className:"hljs language-js-with-links",metaString:""}},o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token keyword"}},"const")," webpack ",o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token operator"}},"=")," ",o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token function"}},"require"),o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token punctuation"}},"("),o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token string"}},"'webpack'"),o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token punctuation"}},")"),o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token punctuation"}},";"),"\n\n",o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token function"}},"webpack"),o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token punctuation"}},"("),o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token punctuation"}},"{"),"\n  ",o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token comment"}},"// [配置对象](/configuration/)"),"\n",o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token punctuation"}},"}"),o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token punctuation"}},",")," ",o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token punctuation"}},"("),"err",o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token punctuation"}},",")," stats",o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token punctuation"}},")")," ",o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token operator"}},"=>")," ",o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token punctuation"}},"{")," ",o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token comment"}},"// [Stats Object](#stats-object)"),"\n  ",o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token keyword"}},"if")," ",o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token punctuation"}},"("),"err ",o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token operator"}},"||")," stats",o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token punctuation"}},"."),o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token function"}},"hasErrors"),o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token punctuation"}},"("),o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token punctuation"}},")"),o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token punctuation"}},")")," ",o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token punctuation"}},"{"),"\n    ",o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token comment"}},"// [在这里处理错误](#error-handling)"),"\n  ",o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token punctuation"}},"}"),"\n  ",o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token comment"}},"// 处理完成"),"\n",o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token punctuation"}},"}"),o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token punctuation"}},")"),o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token punctuation"}},";"))),o.a.createElement(p.MDXTag,{name:"blockquote",components:a,props:{className:"tip"}},o.a.createElement(p.MDXTag,{name:"p",components:a,parentName:"blockquote"},"",o.a.createElement(p.MDXTag,{name:"inlineCode",components:a,parentName:"p"},"err"),"对象 ",o.a.createElement(p.MDXTag,{name:"strong",components:a,parentName:"p"},"不包含")," 编译错误，必须使用 ",o.a.createElement(p.MDXTag,{name:"inlineCode",components:a,parentName:"p"},"stats.hasErrors()")," 单独处理，文档的 ",o.a.createElement(p.MDXTag,{name:"a",components:a,parentName:"p",props:{href:"#error-handling"}},"错误处理")," 将对这部分将对此进行详细介绍。",o.a.createElement(p.MDXTag,{name:"inlineCode",components:a,parentName:"p"},"err")," 对象只包含 webpack 相关的问题，例如配置错误等。")),o.a.createElement(p.MDXTag,{name:"blockquote",components:a,props:{className:"tip"}},o.a.createElement(p.MDXTag,{name:"p",components:a,parentName:"blockquote"},"你也可以为 ",o.a.createElement(p.MDXTag,{name:"inlineCode",components:a,parentName:"p"},"webpack")," 函数提供一个配置数组。更多详细信息，请查看 ",o.a.createElement(p.MDXTag,{name:"a",components:a,parentName:"p",props:{href:"#multicompiler"}},"MultiCompiler")," 章节。")),o.a.createElement(p.MDXTag,{name:"h2",components:a,props:{id:"compiler-实例（compiler-instance）"}},"Compiler 实例（Compiler Instance）",o.a.createElement(p.MDXTag,{name:"a",components:a,parentName:"h2",props:{href:"#compiler-%E5%AE%9E%E4%BE%8B%EF%BC%88compiler-instance%EF%BC%89","aria-hidden":"true"}},o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"a",props:{className:"icon icon-link"}}))),o.a.createElement(p.MDXTag,{name:"p",components:a},"如果你不向 ",o.a.createElement(p.MDXTag,{name:"inlineCode",components:a,parentName:"p"},"webpack")," 传入可执行的回调函数，\n它会返回一个 webpack ",o.a.createElement(p.MDXTag,{name:"inlineCode",components:a,parentName:"p"},"Compiler")," 实例。\n你可以通过手动执行它或者为它的构建时添加一个监听器，\n就像 ",o.a.createElement(p.MDXTag,{name:"a",components:a,parentName:"p",props:{href:"/api/cli/"}},"CLI")," 类似。",o.a.createElement(p.MDXTag,{name:"inlineCode",components:a,parentName:"p"},"Compiler")," 实例提供了以下方法:"),o.a.createElement(p.MDXTag,{name:"ul",components:a},o.a.createElement(p.MDXTag,{name:"li",components:a,parentName:"ul"},o.a.createElement(p.MDXTag,{name:"inlineCode",components:a,parentName:"li"},".run(callback)")),o.a.createElement(p.MDXTag,{name:"li",components:a,parentName:"ul"},o.a.createElement(p.MDXTag,{name:"inlineCode",components:a,parentName:"li"},".watch(watchOptions, handler)"))),o.a.createElement(p.MDXTag,{name:"p",components:a},"通常情况下，仅会创建一个主要 ",o.a.createElement(p.MDXTag,{name:"inlineCode",components:a,parentName:"p"},"Compiler")," 实例，\n虽然可以创建一些子 compiler 来代理到特定任务。\n",o.a.createElement(p.MDXTag,{name:"inlineCode",components:a,parentName:"p"},"Compiler")," 基本上只是执行最低限度的功能，以维持生命周期运行的功能。\n它将所有的加载、打包和写入工作，\n都委托到注册过的插件上。"),o.a.createElement(p.MDXTag,{name:"p",components:a},o.a.createElement(p.MDXTag,{name:"inlineCode",components:a,parentName:"p"},"Compiler")," 实例上的 ",o.a.createElement(p.MDXTag,{name:"inlineCode",components:a,parentName:"p"},"hooks")," 属性，用于将一个插件注册\n到 ",o.a.createElement(p.MDXTag,{name:"inlineCode",components:a,parentName:"p"},"Compiler")," 的生命周期中的所有钩子事件上。\n",o.a.createElement(p.MDXTag,{name:"inlineCode",components:a,parentName:"p"},"webpack")," 使用\n",o.a.createElement(p.MDXTag,{name:"a",components:a,parentName:"p",props:{href:"https://github.com/webpack/webpack/blob/master/lib/WebpackOptionsDefaulter.js"}},o.a.createElement(p.MDXTag,{name:"inlineCode",components:a,parentName:"a"},"WebpackOptionsDefaulter")),"\n和 ",o.a.createElement(p.MDXTag,{name:"a",components:a,parentName:"p",props:{href:"https://github.com/webpack/webpack/blob/master/lib/WebpackOptionsApply.js"}},o.a.createElement(p.MDXTag,{name:"inlineCode",components:a,parentName:"a"},"WebpackOptionsApply")),"\n来配置 ",o.a.createElement(p.MDXTag,{name:"inlineCode",components:a,parentName:"p"},"Compiler")," 实例以及所有内置插件。"),o.a.createElement(p.MDXTag,{name:"p",components:a},"使用 ",o.a.createElement(p.MDXTag,{name:"inlineCode",components:a,parentName:"p"},"run")," 方法启动所有编译工作。\n完成之后，执行传入的的 ",o.a.createElement(p.MDXTag,{name:"inlineCode",components:a,parentName:"p"},"callback")," 函数。\n最终记录下来的概括信息（stats）和错误（errors），都应在这个 callback 函数中获取。"),o.a.createElement(p.MDXTag,{name:"blockquote",components:a,props:{className:"warning"}},o.a.createElement(p.MDXTag,{name:"p",components:a,parentName:"blockquote"},"这个 API 一次仅支持一个编译。当使用 ",o.a.createElement(p.MDXTag,{name:"inlineCode",components:a,parentName:"p"},"run")," 时，\n再次调用 ",o.a.createElement(p.MDXTag,{name:"inlineCode",components:a,parentName:"p"},"run")," 或 ",o.a.createElement(p.MDXTag,{name:"inlineCode",components:a,parentName:"p"},"watch")," 之前需等待它完成。\n当使用 ",o.a.createElement(p.MDXTag,{name:"inlineCode",components:a,parentName:"p"},"watch")," 时，调用 ",o.a.createElement(p.MDXTag,{name:"inlineCode",components:a,parentName:"p"},"close"),"，并等待它完成后，\n然后才能再次调用 ",o.a.createElement(p.MDXTag,{name:"inlineCode",components:a,parentName:"p"},"run")," 或 ",o.a.createElement(p.MDXTag,{name:"inlineCode",components:a,parentName:"p"},"watch"),"。并发编译将破坏输出文件。")),o.a.createElement(p.MDXTag,{name:"h2",components:a,props:{id:"执行（run）"}},"执行（Run）",o.a.createElement(p.MDXTag,{name:"a",components:a,parentName:"h2",props:{href:"#%E6%89%A7%E8%A1%8C%EF%BC%88run%EF%BC%89","aria-hidden":"true"}},o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"a",props:{className:"icon icon-link"}}))),o.a.createElement(p.MDXTag,{name:"p",components:a},"调用 ",o.a.createElement(p.MDXTag,{name:"inlineCode",components:a,parentName:"p"},"Compiler")," 实例的 ",o.a.createElement(p.MDXTag,{name:"inlineCode",components:a,parentName:"p"},"run")," 方法跟上文提到的\n快速执行方法很类似："),o.a.createElement(p.MDXTag,{name:"pre",components:a},o.a.createElement(p.MDXTag,{name:"code",components:a,parentName:"pre",props:{className:"hljs language-js-with-links",metaString:""}},o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token keyword"}},"const")," webpack ",o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token operator"}},"=")," ",o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token function"}},"require"),o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token punctuation"}},"("),o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token string"}},"'webpack'"),o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token punctuation"}},")"),o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token punctuation"}},";"),"\n\n",o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token keyword"}},"const")," compiler ",o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token operator"}},"=")," ",o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token function"}},"webpack"),o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token punctuation"}},"("),o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token punctuation"}},"{"),"\n  ",o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token comment"}},"// [配置对象](/configuration/)"),"\n",o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token punctuation"}},"}"),o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token punctuation"}},")"),o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token punctuation"}},";"),"\n\ncompiler",o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token punctuation"}},"."),o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token function"}},"run"),o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token punctuation"}},"("),o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token punctuation"}},"("),"err",o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token punctuation"}},",")," stats",o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token punctuation"}},")")," ",o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token operator"}},"=>")," ",o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token punctuation"}},"{")," ",o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token comment"}},"// [Stats Object](#stats-object)"),"\n  ",o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token comment"}},"// ..."),"\n",o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token punctuation"}},"}"),o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token punctuation"}},")"),o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token punctuation"}},";"))),o.a.createElement(p.MDXTag,{name:"h2",components:a,props:{id:"监听watching"}},"监听(Watching)",o.a.createElement(p.MDXTag,{name:"a",components:a,parentName:"h2",props:{href:"#%E7%9B%91%E5%90%ACwatching","aria-hidden":"true"}},o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"a",props:{className:"icon icon-link"}}))),o.a.createElement(p.MDXTag,{name:"p",components:a},"调用 ",o.a.createElement(p.MDXTag,{name:"inlineCode",components:a,parentName:"p"},"watch")," 方法会触发 webpack 执行，但之后会监听变更（很像 CLI 命令: ",o.a.createElement(p.MDXTag,{name:"inlineCode",components:a,parentName:"p"},"webpack --watch"),"），\n一旦 webpack 检测到文件变更，就会重新执行编译。\n该方法返回一个 ",o.a.createElement(p.MDXTag,{name:"inlineCode",components:a,parentName:"p"},"Watching")," 实例。"),o.a.createElement(p.MDXTag,{name:"pre",components:a},o.a.createElement(p.MDXTag,{name:"code",components:a,parentName:"pre",props:{className:"hljs language-js",metaString:""}},o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token function"}},"watch"),o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token punctuation"}},"("),"watchOptions",o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token punctuation"}},",")," callback",o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token punctuation"}},")"),o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token punctuation"}},";"))),o.a.createElement(p.MDXTag,{name:"pre",components:a},o.a.createElement(p.MDXTag,{name:"code",components:a,parentName:"pre",props:{className:"hljs language-js-with-links",metaString:""}},o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token keyword"}},"const")," webpack ",o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token operator"}},"=")," ",o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token function"}},"require"),o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token punctuation"}},"("),o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token string"}},"'webpack'"),o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token punctuation"}},")"),o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token punctuation"}},";"),"\n\n",o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token keyword"}},"const")," compiler ",o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token operator"}},"=")," ",o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token function"}},"webpack"),o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token punctuation"}},"("),o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token punctuation"}},"{"),"\n  ",o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token comment"}},"// [配置对象](/configuration/)"),"\n",o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token punctuation"}},"}"),o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token punctuation"}},")"),o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token punctuation"}},";"),"\n\n",o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token keyword"}},"const")," watching ",o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token operator"}},"=")," compiler",o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token punctuation"}},"."),o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token function"}},"watch"),o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token punctuation"}},"("),o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token punctuation"}},"{"),"\n  ",o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token comment"}},"// [watchOptions](/configuration/watch/#watchoptions) 示例"),"\n  aggregateTimeout",o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token punctuation"}},":")," ",o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token number"}},"300"),o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token punctuation"}},","),"\n  poll",o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token punctuation"}},":")," undefined\n",o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token punctuation"}},"}"),o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token punctuation"}},",")," ",o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token punctuation"}},"("),"err",o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token punctuation"}},",")," stats",o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token punctuation"}},")")," ",o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token operator"}},"=>")," ",o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token punctuation"}},"{")," ",o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token comment"}},"// [Stats Object](#stats-object)"),"\n  ",o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token comment"}},"// 这里打印 watch/build 结果..."),"\n  console",o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token punctuation"}},"."),o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token function"}},"log"),o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token punctuation"}},"("),"stats",o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token punctuation"}},")"),o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token punctuation"}},";"),"\n",o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token punctuation"}},"}"),o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token punctuation"}},")"),o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token punctuation"}},";"))),o.a.createElement(p.MDXTag,{name:"p",components:a},o.a.createElement(p.MDXTag,{name:"inlineCode",components:a,parentName:"p"},"Watching")," 配置选项的细节可以在\n",o.a.createElement(p.MDXTag,{name:"a",components:a,parentName:"p",props:{href:"/configuration/watch/#watchoptions"}},"这里"),"查询。"),o.a.createElement(p.MDXTag,{name:"blockquote",components:a,props:{className:"warning"}},o.a.createElement(p.MDXTag,{name:"p",components:a,parentName:"blockquote"},"文件系统不正确的问题，可能会对单次修改触发多次构建。\n因此，在上面的示例中，一次修改可能会多次触发 ",o.a.createElement(p.MDXTag,{name:"inlineCode",components:a,parentName:"p"},"console.log")," 语句。\n用户应该预知此行为，\n并且可能需要检查 ",o.a.createElement(p.MDXTag,{name:"inlineCode",components:a,parentName:"p"},"stats.hash")," 来查看文件哈希是否确实变更。")),o.a.createElement(p.MDXTag,{name:"h3",components:a,props:{id:"关闭-watching-close-watching"}},"关闭 ",o.a.createElement(p.MDXTag,{name:"inlineCode",components:a,parentName:"h3"},"Watching")," (Close ",o.a.createElement(p.MDXTag,{name:"inlineCode",components:a,parentName:"h3"},"Watching"),")",o.a.createElement(p.MDXTag,{name:"a",components:a,parentName:"h3",props:{href:"#%E5%85%B3%E9%97%AD-watching-close-watching","aria-hidden":"true"}},o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"a",props:{className:"icon icon-link"}}))),o.a.createElement(p.MDXTag,{name:"p",components:a},o.a.createElement(p.MDXTag,{name:"inlineCode",components:a,parentName:"p"},"watch")," 方法返回一个 ",o.a.createElement(p.MDXTag,{name:"inlineCode",components:a,parentName:"p"},"Watching")," 实例，该实例会暴露一个 ",o.a.createElement(p.MDXTag,{name:"inlineCode",components:a,parentName:"p"},".close(callback)")," 方法。\n调用该方法将会结束监听:"),o.a.createElement(p.MDXTag,{name:"pre",components:a},o.a.createElement(p.MDXTag,{name:"code",components:a,parentName:"pre",props:{className:"hljs language-js",metaString:""}},"watching",o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token punctuation"}},"."),o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token function"}},"close"),o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token punctuation"}},"("),o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token punctuation"}},"("),o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token punctuation"}},")")," ",o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token operator"}},"=>")," ",o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token punctuation"}},"{"),"\n  console",o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token punctuation"}},"."),o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token function"}},"log"),o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token punctuation"}},"("),o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token string"}},"'Watching Ended.'"),o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token punctuation"}},")"),o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token punctuation"}},";"),"\n",o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token punctuation"}},"}"),o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token punctuation"}},")"),o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token punctuation"}},";"))),o.a.createElement(p.MDXTag,{name:"blockquote",components:a,props:{className:"warning"}},o.a.createElement(p.MDXTag,{name:"p",components:a,parentName:"blockquote"},"不允许在监听器关闭或者失效前\n再次监听或执行。")),o.a.createElement(p.MDXTag,{name:"h3",components:a,props:{id:"invalidate-watching"}},"Invalidate ",o.a.createElement(p.MDXTag,{name:"inlineCode",components:a,parentName:"h3"},"Watching"),o.a.createElement(p.MDXTag,{name:"a",components:a,parentName:"h3",props:{href:"#invalidate-watching","aria-hidden":"true"}},o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"a",props:{className:"icon icon-link"}}))),o.a.createElement(p.MDXTag,{name:"p",components:a},"使用 ",o.a.createElement(p.MDXTag,{name:"inlineCode",components:a,parentName:"p"},"watching.invalidate"),"，你可以手动使当前编译循环（compiling round）无效，\n而不会停止监听进程（process）："),o.a.createElement(p.MDXTag,{name:"pre",components:a},o.a.createElement(p.MDXTag,{name:"code",components:a,parentName:"pre",props:{className:"hljs language-js",metaString:""}},"watching",o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token punctuation"}},"."),o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token function"}},"invalidate"),o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token punctuation"}},"("),o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token punctuation"}},")"),o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token punctuation"}},";"))),o.a.createElement(p.MDXTag,{name:"h2",components:a,props:{id:"stats-对象stats-object"}},"Stats 对象(Stats Object)",o.a.createElement(p.MDXTag,{name:"a",components:a,parentName:"h2",props:{href:"#stats-%E5%AF%B9%E8%B1%A1stats-object","aria-hidden":"true"}},o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"a",props:{className:"icon icon-link"}}))),o.a.createElement(p.MDXTag,{name:"p",components:a},o.a.createElement(p.MDXTag,{name:"inlineCode",components:a,parentName:"p"},"stats")," 对象会被作为 ",o.a.createElement(p.MDXTag,{name:"a",components:a,parentName:"p",props:{href:"#webpack"}},o.a.createElement(p.MDXTag,{name:"inlineCode",components:a,parentName:"a"},"webpack()"))," 回调函数的第二个参数传递，\n可以通过它获取到代码编译过程中的有用信息，\n包括："),o.a.createElement(p.MDXTag,{name:"ul",components:a},o.a.createElement(p.MDXTag,{name:"li",components:a,parentName:"ul"},"错误和警告(有过有的话)"),o.a.createElement(p.MDXTag,{name:"li",components:a,parentName:"ul"},"计时信息"),o.a.createElement(p.MDXTag,{name:"li",components:a,parentName:"ul"},"module 和 chunk 信息")),o.a.createElement(p.MDXTag,{name:"p",components:a},o.a.createElement(p.MDXTag,{name:"a",components:a,parentName:"p",props:{href:"/api/cli"}},"webpack CLI")," 正是基于这些信息在控制台\n展示友好的格式输出。"),o.a.createElement(p.MDXTag,{name:"blockquote",components:a,props:{className:"tip"}},o.a.createElement(p.MDXTag,{name:"p",components:a,parentName:"blockquote"},"当使用 ",o.a.createElement(p.MDXTag,{name:"a",components:a,parentName:"p",props:{href:"#multicompiler"}},o.a.createElement(p.MDXTag,{name:"inlineCode",components:a,parentName:"a"},"MultiCompiler"))," 时，\n会返回一个 ",o.a.createElement(p.MDXTag,{name:"inlineCode",components:a,parentName:"p"},"MultiStats")," 实例，\n它实现与 ",o.a.createElement(p.MDXTag,{name:"inlineCode",components:a,parentName:"p"},"stats")," 相同的接口，也就是下面描述的方法。")),o.a.createElement(p.MDXTag,{name:"p",components:a},o.a.createElement(p.MDXTag,{name:"inlineCode",components:a,parentName:"p"},"stats")," 对象暴露了以下方法:"),o.a.createElement(p.MDXTag,{name:"h3",components:a,props:{id:"statshaserrors"}},o.a.createElement(p.MDXTag,{name:"inlineCode",components:a,parentName:"h3"},"stats.hasErrors()"),o.a.createElement(p.MDXTag,{name:"a",components:a,parentName:"h3",props:{href:"#statshaserrors","aria-hidden":"true"}},o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"a",props:{className:"icon icon-link"}}))),o.a.createElement(p.MDXTag,{name:"p",components:a},"可以用来检查编译期是否有错误，\n返回值为 ",o.a.createElement(p.MDXTag,{name:"inlineCode",components:a,parentName:"p"},"true")," 或 ",o.a.createElement(p.MDXTag,{name:"inlineCode",components:a,parentName:"p"},"false"),"。"),o.a.createElement(p.MDXTag,{name:"h3",components:a,props:{id:"statshaswarnings"}},o.a.createElement(p.MDXTag,{name:"inlineCode",components:a,parentName:"h3"},"stats.hasWarnings()"),o.a.createElement(p.MDXTag,{name:"a",components:a,parentName:"h3",props:{href:"#statshaswarnings","aria-hidden":"true"}},o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"a",props:{className:"icon icon-link"}}))),o.a.createElement(p.MDXTag,{name:"p",components:a},"可以用来检查编译期是否有警告，\n返回值为 ",o.a.createElement(p.MDXTag,{name:"inlineCode",components:a,parentName:"p"},"true")," 或 ",o.a.createElement(p.MDXTag,{name:"inlineCode",components:a,parentName:"p"},"false"),"。"),o.a.createElement(p.MDXTag,{name:"h3",components:a,props:{id:"statstojsonoptions"}},o.a.createElement(p.MDXTag,{name:"inlineCode",components:a,parentName:"h3"},"stats.toJson(options)"),o.a.createElement(p.MDXTag,{name:"a",components:a,parentName:"h3",props:{href:"#statstojsonoptions","aria-hidden":"true"}},o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"a",props:{className:"icon icon-link"}}))),o.a.createElement(p.MDXTag,{name:"p",components:a},"以 JSON 对象形式返回编译信息。\n",o.a.createElement(p.MDXTag,{name:"inlineCode",components:a,parentName:"p"},"options")," 可以是一个字符串（预设值）或是颗粒化控制的对象:"),o.a.createElement(p.MDXTag,{name:"pre",components:a},o.a.createElement(p.MDXTag,{name:"code",components:a,parentName:"pre",props:{className:"hljs language-js-with-links",metaString:""}},"stats",o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token punctuation"}},"."),o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token function"}},"toJson"),o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token punctuation"}},"("),o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token string"}},"'minimal'"),o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token punctuation"}},")"),o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token punctuation"}},";")," ",o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token comment"}},'// [更多选项如: "verbose" 等](/configuration/stats).'))),o.a.createElement(p.MDXTag,{name:"pre",components:a},o.a.createElement(p.MDXTag,{name:"code",components:a,parentName:"pre",props:{className:"hljs language-js",metaString:""}},"stats",o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token punctuation"}},"."),o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token function"}},"toJson"),o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token punctuation"}},"("),o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token punctuation"}},"{"),"\n  assets",o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token punctuation"}},":")," ",o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token boolean"}},"false"),o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token punctuation"}},","),"\n  hash",o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token punctuation"}},":")," ",o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token boolean"}},"true"),"\n",o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token punctuation"}},"}"),o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token punctuation"}},")"),o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token punctuation"}},";"))),o.a.createElement(p.MDXTag,{name:"p",components:a},"所有可用的配置选项和预设值都可查询 stats ",o.a.createElement(p.MDXTag,{name:"a",components:a,parentName:"p",props:{href:"/configuration/stats"}},"文档"),"。"),o.a.createElement(p.MDXTag,{name:"blockquote",components:a},o.a.createElement(p.MDXTag,{name:"p",components:a,parentName:"blockquote"},"这里有\n该函数输出的\n",o.a.createElement(p.MDXTag,{name:"a",components:a,parentName:"p",props:{href:"https://raw.githubusercontent.com/webpack/analyse/master/app/pages/upload/example2.json"}},"示例"),"。")),o.a.createElement(p.MDXTag,{name:"h3",components:a,props:{id:"statstostringoptions"}},o.a.createElement(p.MDXTag,{name:"inlineCode",components:a,parentName:"h3"},"stats.toString(options)"),o.a.createElement(p.MDXTag,{name:"a",components:a,parentName:"h3",props:{href:"#statstostringoptions","aria-hidden":"true"}},o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"a",props:{className:"icon icon-link"}}))),o.a.createElement(p.MDXTag,{name:"p",components:a},"以格式化的字符串形式返回描述编译信息\n（类似 ",o.a.createElement(p.MDXTag,{name:"a",components:a,parentName:"p",props:{href:"/api/cli"}},"CLI")," 的输出）。"),o.a.createElement(p.MDXTag,{name:"p",components:a},"配置对象与 ",o.a.createElement(p.MDXTag,{name:"a",components:a,parentName:"p",props:{href:"/api/node/#statstojsonoptions"}},o.a.createElement(p.MDXTag,{name:"inlineCode",components:a,parentName:"a"},"stats.toJson(options)"))," 一致，除了额外增加的一个选项:"),o.a.createElement(p.MDXTag,{name:"pre",components:a},o.a.createElement(p.MDXTag,{name:"code",components:a,parentName:"pre",props:{className:"hljs language-js",metaString:""}},"stats",o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token punctuation"}},"."),o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token function"}},"toString"),o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token punctuation"}},"("),o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token punctuation"}},"{"),"\n  ",o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token comment"}},"// 增加控制台颜色开关"),"\n  colors",o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token punctuation"}},":")," ",o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token boolean"}},"true"),"\n",o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token punctuation"}},"}"),o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token punctuation"}},")"),o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token punctuation"}},";"))),o.a.createElement(p.MDXTag,{name:"p",components:a},"下面是 ",o.a.createElement(p.MDXTag,{name:"inlineCode",components:a,parentName:"p"},"stats.toString()")," 用法的示例:"),o.a.createElement(p.MDXTag,{name:"pre",components:a},o.a.createElement(p.MDXTag,{name:"code",components:a,parentName:"pre",props:{className:"hljs language-js-with-links",metaString:""}},o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token keyword"}},"const")," webpack ",o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token operator"}},"=")," ",o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token function"}},"require"),o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token punctuation"}},"("),o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token string"}},"'webpack'"),o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token punctuation"}},")"),o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token punctuation"}},";"),"\n\n",o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token function"}},"webpack"),o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token punctuation"}},"("),o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token punctuation"}},"{"),"\n  ",o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token comment"}},"// [配置对象](/configuration/)"),"\n",o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token punctuation"}},"}"),o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token punctuation"}},",")," ",o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token punctuation"}},"("),"err",o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token punctuation"}},",")," stats",o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token punctuation"}},")")," ",o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token operator"}},"=>")," ",o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token punctuation"}},"{"),"\n  ",o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token keyword"}},"if")," ",o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token punctuation"}},"("),"err",o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token punctuation"}},")")," ",o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token punctuation"}},"{"),"\n    console",o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token punctuation"}},"."),o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token function"}},"error"),o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token punctuation"}},"("),"err",o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token punctuation"}},")"),o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token punctuation"}},";"),"\n    ",o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token keyword"}},"return"),o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token punctuation"}},";"),"\n  ",o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token punctuation"}},"}"),"\n\n  console",o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token punctuation"}},"."),o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token function"}},"log"),o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token punctuation"}},"("),"stats",o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token punctuation"}},"."),o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token function"}},"toString"),o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token punctuation"}},"("),o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token punctuation"}},"{"),"\n    chunks",o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token punctuation"}},":")," ",o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token boolean"}},"false"),o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token punctuation"}},","),"  ",o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token comment"}},"// 使构建过程更静默无输出"),"\n    colors",o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token punctuation"}},":")," ",o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token boolean"}},"true"),"    ",o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token comment"}},"// 在控制台展示颜色"),"\n  ",o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token punctuation"}},"}"),o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token punctuation"}},")"),o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token punctuation"}},")"),o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token punctuation"}},";"),"\n",o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token punctuation"}},"}"),o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token punctuation"}},")"),o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token punctuation"}},";"))),o.a.createElement(p.MDXTag,{name:"h2",components:a,props:{id:"multicompiler"}},"MultiCompiler",o.a.createElement(p.MDXTag,{name:"a",components:a,parentName:"h2",props:{href:"#multicompiler","aria-hidden":"true"}},o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"a",props:{className:"icon icon-link"}}))),o.a.createElement(p.MDXTag,{name:"p",components:a},o.a.createElement(p.MDXTag,{name:"inlineCode",components:a,parentName:"p"},"MultiCompiler")," 模块可以让 webpack 在单个 compiler 中执行多个配置。\n如果传给 webpack 的 Node.js API 的 ",o.a.createElement(p.MDXTag,{name:"inlineCode",components:a,parentName:"p"},"options")," 参数，\n是一个由配置对象构成的数组，则 webpack 会应用单独 compiler，\n并且在每次 compiler 执行结束时，都会调用 ",o.a.createElement(p.MDXTag,{name:"inlineCode",components:a,parentName:"p"},"callback")," 方法。"),o.a.createElement(p.MDXTag,{name:"pre",components:a},o.a.createElement(p.MDXTag,{name:"code",components:a,parentName:"pre",props:{className:"hljs language-js-with-links",metaString:""}},o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token keyword"}},"var")," webpack ",o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token operator"}},"=")," ",o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token function"}},"require"),o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token punctuation"}},"("),o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token string"}},"'webpack'"),o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token punctuation"}},")"),o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token punctuation"}},";"),"\n\n",o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token function"}},"webpack"),o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token punctuation"}},"("),o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token punctuation"}},"["),"\n  ",o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token punctuation"}},"{")," entry",o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token punctuation"}},":")," ",o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token string"}},"'./index1.js'"),o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token punctuation"}},",")," output",o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token punctuation"}},":")," ",o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token punctuation"}},"{")," filename",o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token punctuation"}},":")," ",o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token string"}},"'bundle1.js'")," ",o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token punctuation"}},"}")," ",o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token punctuation"}},"}"),o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token punctuation"}},","),"\n  ",o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token punctuation"}},"{")," entry",o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token punctuation"}},":")," ",o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token string"}},"'./index2.js'"),o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token punctuation"}},",")," output",o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token punctuation"}},":")," ",o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token punctuation"}},"{")," filename",o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token punctuation"}},":")," ",o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token string"}},"'bundle2.js'")," ",o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token punctuation"}},"}")," ",o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token punctuation"}},"}"),"\n",o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token punctuation"}},"]"),o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token punctuation"}},",")," ",o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token punctuation"}},"("),"err",o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token punctuation"}},",")," stats",o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token punctuation"}},")")," ",o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token operator"}},"=>")," ",o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token punctuation"}},"{")," ",o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token comment"}},"// [Stats Object](#stats-object)"),"\n  process",o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token punctuation"}},"."),"stdout",o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token punctuation"}},"."),o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token function"}},"write"),o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token punctuation"}},"("),"stats",o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token punctuation"}},"."),o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token function"}},"toString"),o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token punctuation"}},"("),o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token punctuation"}},")")," ",o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token operator"}},"+")," ",o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token string"}},"'\\n'"),o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token punctuation"}},")"),o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token punctuation"}},";"),"\n",o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token punctuation"}},"}"),o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token punctuation"}},")"))),o.a.createElement(p.MDXTag,{name:"blockquote",components:a,props:{className:"warning"}},o.a.createElement(p.MDXTag,{name:"p",components:a,parentName:"blockquote"},"多个配置对象在执行时，",o.a.createElement(p.MDXTag,{name:"strong",components:a,parentName:"p"},"不会并行执行"),"。\n每个配置都只会在前一个处理结束后，才进行处理。\n想要并行处理，你可以使用第三方解决方案，\n例如 ",o.a.createElement(p.MDXTag,{name:"a",components:a,parentName:"p",props:{href:"https://www.npmjs.com/package/parallel-webpack"}},"parallel-webpack"),"。")),o.a.createElement(p.MDXTag,{name:"h2",components:a,props:{id:"错误处理error-handling"}},"错误处理(Error Handling)",o.a.createElement(p.MDXTag,{name:"a",components:a,parentName:"h2",props:{href:"#%E9%94%99%E8%AF%AF%E5%A4%84%E7%90%86error-handling","aria-hidden":"true"}},o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"a",props:{className:"icon icon-link"}}))),o.a.createElement(p.MDXTag,{name:"p",components:a},"完备的错误处理中需要考虑以下三种类型的错误:"),o.a.createElement(p.MDXTag,{name:"ul",components:a},o.a.createElement(p.MDXTag,{name:"li",components:a,parentName:"ul"},"致命的 wepback 错误（配置出错等）"),o.a.createElement(p.MDXTag,{name:"li",components:a,parentName:"ul"},"编译错误（缺失的 module，语法错误等）"),o.a.createElement(p.MDXTag,{name:"li",components:a,parentName:"ul"},"编译警告")),o.a.createElement(p.MDXTag,{name:"p",components:a},"下面是一个覆盖这些场景的示例:"),o.a.createElement(p.MDXTag,{name:"pre",components:a},o.a.createElement(p.MDXTag,{name:"code",components:a,parentName:"pre",props:{className:"hljs language-js-with-links",metaString:""}},o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token keyword"}},"const")," webpack ",o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token operator"}},"=")," ",o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token function"}},"require"),o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token punctuation"}},"("),o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token string"}},"'webpack'"),o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token punctuation"}},")"),o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token punctuation"}},";"),"\n\n",o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token function"}},"webpack"),o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token punctuation"}},"("),o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token punctuation"}},"{"),"\n  ",o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token comment"}},"// [配置对象](/configuration/)"),"\n",o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token punctuation"}},"}"),o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token punctuation"}},",")," ",o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token punctuation"}},"("),"err",o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token punctuation"}},",")," stats",o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token punctuation"}},")")," ",o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token operator"}},"=>")," ",o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token punctuation"}},"{"),"\n  ",o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token keyword"}},"if")," ",o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token punctuation"}},"("),"err",o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token punctuation"}},")")," ",o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token punctuation"}},"{"),"\n    console",o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token punctuation"}},"."),o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token function"}},"error"),o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token punctuation"}},"("),"err",o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token punctuation"}},"."),"stack ",o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token operator"}},"||")," err",o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token punctuation"}},")"),o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token punctuation"}},";"),"\n    ",o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token keyword"}},"if")," ",o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token punctuation"}},"("),"err",o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token punctuation"}},"."),"details",o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token punctuation"}},")")," ",o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token punctuation"}},"{"),"\n      console",o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token punctuation"}},"."),o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token function"}},"error"),o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token punctuation"}},"("),"err",o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token punctuation"}},"."),"details",o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token punctuation"}},")"),o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token punctuation"}},";"),"\n    ",o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token punctuation"}},"}"),"\n    ",o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token keyword"}},"return"),o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token punctuation"}},";"),"\n  ",o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token punctuation"}},"}"),"\n\n  ",o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token keyword"}},"const")," info ",o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token operator"}},"=")," stats",o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token punctuation"}},"."),o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token function"}},"toJson"),o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token punctuation"}},"("),o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token punctuation"}},")"),o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token punctuation"}},";"),"\n\n  ",o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token keyword"}},"if")," ",o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token punctuation"}},"("),"stats",o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token punctuation"}},"."),o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token function"}},"hasErrors"),o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token punctuation"}},"("),o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token punctuation"}},")"),o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token punctuation"}},")")," ",o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token punctuation"}},"{"),"\n    console",o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token punctuation"}},"."),o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token function"}},"error"),o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token punctuation"}},"("),"info",o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token punctuation"}},"."),"errors",o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token punctuation"}},")"),o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token punctuation"}},";"),"\n  ",o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token punctuation"}},"}"),"\n\n  ",o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token keyword"}},"if")," ",o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token punctuation"}},"("),"stats",o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token punctuation"}},"."),o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token function"}},"hasWarnings"),o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token punctuation"}},"("),o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token punctuation"}},")"),o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token punctuation"}},")")," ",o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token punctuation"}},"{"),"\n    console",o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token punctuation"}},"."),o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token function"}},"warn"),o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token punctuation"}},"("),"info",o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token punctuation"}},"."),"warnings",o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token punctuation"}},")"),o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token punctuation"}},";"),"\n  ",o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token punctuation"}},"}"),"\n\n  ",o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token comment"}},"// Log result..."),"\n",o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token punctuation"}},"}"),o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token punctuation"}},")"),o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token punctuation"}},";"))),o.a.createElement(p.MDXTag,{name:"h2",components:a,props:{id:"自定义文件系统custom-file-systems"}},"自定义文件系统(Custom File Systems)",o.a.createElement(p.MDXTag,{name:"a",components:a,parentName:"h2",props:{href:"#%E8%87%AA%E5%AE%9A%E4%B9%89%E6%96%87%E4%BB%B6%E7%B3%BB%E7%BB%9Fcustom-file-systems","aria-hidden":"true"}},o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"a",props:{className:"icon icon-link"}}))),o.a.createElement(p.MDXTag,{name:"p",components:a},"默认情况下，webpack 使用普通文件系统来读取文件并将文件写入磁盘。\n但是，还可以使用不同类型的文件系统（内存(memory), webDAV 等）来更改输入或输出行为。\n为了实现这一点，\n可以改变 ",o.a.createElement(p.MDXTag,{name:"inlineCode",components:a,parentName:"p"},"inputFileSystem")," 或 ",o.a.createElement(p.MDXTag,{name:"inlineCode",components:a,parentName:"p"},"outputFileSystem"),"。\n例如，可以使用 ",o.a.createElement(p.MDXTag,{name:"a",components:a,parentName:"p",props:{href:"https://github.com/streamich/memfs"}},o.a.createElement(p.MDXTag,{name:"inlineCode",components:a,parentName:"a"},"memfs"))," 替换默认的 ",o.a.createElement(p.MDXTag,{name:"inlineCode",components:a,parentName:"p"},"outputFileSystem"),"，\n以将文件写入到内存中，\n而不是写入到磁盘:"),o.a.createElement(p.MDXTag,{name:"pre",components:a},o.a.createElement(p.MDXTag,{name:"code",components:a,parentName:"pre",props:{className:"hljs language-js",metaString:""}},o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token keyword"}},"const")," ",o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token punctuation"}},"{")," createFsFromVolume",o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token punctuation"}},",")," Volume ",o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token punctuation"}},"}")," ",o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token operator"}},"=")," ",o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token function"}},"require"),o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token punctuation"}},"("),o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token string"}},"'memfs'"),o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token punctuation"}},")"),o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token punctuation"}},";"),"\n",o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token keyword"}},"const")," webpack ",o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token operator"}},"=")," ",o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token function"}},"require"),o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token punctuation"}},"("),o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token string"}},"'webpack'"),o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token punctuation"}},")"),o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token punctuation"}},";"),"\n\n",o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token keyword"}},"const")," fs ",o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token operator"}},"=")," ",o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token function"}},"createFsFromVolume"),o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token punctuation"}},"("),o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token keyword"}},"new")," ",o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token class-name"}},"Volume"),o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token punctuation"}},"("),o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token punctuation"}},")"),o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token punctuation"}},")"),o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token punctuation"}},";"),"\n",o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token keyword"}},"const")," compiler ",o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token operator"}},"=")," ",o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token function"}},"webpack"),o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token punctuation"}},"("),o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token punctuation"}},"{")," ",o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token comment"}},"/* options */")," ",o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token punctuation"}},"}"),o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token punctuation"}},")"),o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token punctuation"}},";"),"\n\ncompiler",o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token punctuation"}},"."),"outputFileSystem ",o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token operator"}},"=")," fs",o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token punctuation"}},";"),"\ncompiler",o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token punctuation"}},"."),o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token function"}},"run"),o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token punctuation"}},"("),o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token punctuation"}},"("),"err",o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token punctuation"}},",")," stats",o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token punctuation"}},")")," ",o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token operator"}},"=>")," ",o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token punctuation"}},"{"),"\n  ",o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token comment"}},"// 之后读取输出:"),"\n  ",o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token keyword"}},"const")," content ",o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token operator"}},"=")," fs",o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token punctuation"}},"."),o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token function"}},"readFileSync"),o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token punctuation"}},"("),o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token string"}},"'...'"),o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token punctuation"}},")"),o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token punctuation"}},";"),"\n",o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token punctuation"}},"}"),o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token punctuation"}},")"),o.a.createElement(p.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"token punctuation"}},";"))),o.a.createElement(p.MDXTag,{name:"p",components:a},"值得一提的是，被\n",o.a.createElement(p.MDXTag,{name:"a",components:a,parentName:"p",props:{href:"https://github.com/webpack/webpack-dev-middleware"}},"webpack-dev-middleware"),"\n及众多其他包依赖的\n",o.a.createElement(p.MDXTag,{name:"a",components:a,parentName:"p",props:{href:"https://github.com/webpack/webpack-dev-server"}},"webpack-dev-server")," 就是通过这种方式，\n将你的文件神秘地隐藏起来，但却仍然可以用它们为浏览器提供服务！"),o.a.createElement(p.MDXTag,{name:"blockquote",components:a,props:{className:"tip"}},o.a.createElement(p.MDXTag,{name:"p",components:a,parentName:"blockquote"},"你指定的输出文件系统需要\n兼容 Node 自身的 ",o.a.createElement(p.MDXTag,{name:"a",components:a,parentName:"p",props:{href:"https://nodejs.org/api/fs.html"}},o.a.createElement(p.MDXTag,{name:"inlineCode",components:a,parentName:"a"},"fs"))," 模块接口，\n接口需要提供 ",o.a.createElement(p.MDXTag,{name:"inlineCode",components:a,parentName:"p"},"mkdirp")," 和 ",o.a.createElement(p.MDXTag,{name:"inlineCode",components:a,parentName:"p"},"join")," 工具方法。")))}},461:function(e,a,n){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.withMDXComponents=void 0;var t=Object.assign||function(e){for(var a=1;a<arguments.length;a++){var n=arguments[a];for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&(e[t]=n[t])}return e},o=s(n(0)),p=s(n(464)),m=s(n(1));function s(e){return e&&e.__esModule?e:{default:e}}var c=(0,p.default)({}),r=c.Provider,l=c.Consumer;a.withMDXComponents=function(e){return function(a){var n=a.components,p=function(e,a){var n={};for(var t in e)a.indexOf(t)>=0||Object.prototype.hasOwnProperty.call(e,t)&&(n[t]=e[t]);return n}(a,["components"]);return o.default.createElement(l,null,(function(a){return o.default.createElement(e,t({components:n||a},p))}))}};var N=function(e){var a=e.components,n=e.children;return o.default.createElement(r,{value:a},n)};N.propTypes={components:m.default.object.isRequired,children:m.default.element.isRequired},a.default=N},462:function(e,a,n){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var t=n(463);Object.defineProperty(a,"MDXTag",{enumerable:!0,get:function(){return p(t).default}});var o=n(461);function p(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(a,"MDXProvider",{enumerable:!0,get:function(){return p(o).default}})},463:function(e,a,n){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var t=Object.assign||function(e){for(var a=1;a<arguments.length;a++){var n=arguments[a];for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&(e[t]=n[t])}return e},o=function(){function e(e,a){for(var n=0;n<a.length;n++){var t=a[n];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}}return function(a,n,t){return n&&e(a.prototype,n),t&&e(a,t),a}}(),p=n(0),m=r(p),s=r(n(36)),c=n(461);function r(e){return e&&e.__esModule?e:{default:e}}function l(e,a){if(!(e instanceof a))throw new TypeError("Cannot call a class as a function")}function N(e,a){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!a||"object"!=typeof a&&"function"!=typeof a?e:a}var i={inlineCode:"code",wrapper:"div"},u=function(e){function a(){return l(this,a),N(this,(a.__proto__||Object.getPrototypeOf(a)).apply(this,arguments))}return function(e,a){if("function"!=typeof a&&null!==a)throw new TypeError("Super expression must either be null or a function, not "+typeof a);e.prototype=Object.create(a&&a.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),a&&(Object.setPrototypeOf?Object.setPrototypeOf(e,a):e.__proto__=a)}(a,e),o(a,[{key:"render",value:function(){var e=this.props,a=e.name,n=e.parentName,o=e.props,p=void 0===o?{}:o,c=e.children,r=e.components,l=void 0===r?{}:r,N=e.Layout,u=e.layoutProps,g=l[n+"."+a]||l[a]||i[a]||a;return N?((0,s.default)(this,N),m.default.createElement(N,t({components:l},u),m.default.createElement(g,p,c))):m.default.createElement(g,p,c)}}]),a}(p.Component);a.default=(0,c.withMDXComponents)(u)},464:function(e,a,n){"use strict";a.__esModule=!0;var t=p(n(0)),o=p(n(465));function p(e){return e&&e.__esModule?e:{default:e}}a.default=t.default.createContext||o.default,e.exports=a.default},465:function(e,a,n){"use strict";a.__esModule=!0;var t=n(0),o=(m(t),m(n(1))),p=m(n(466));m(n(467));function m(e){return e&&e.__esModule?e:{default:e}}function s(e,a){if(!(e instanceof a))throw new TypeError("Cannot call a class as a function")}function c(e,a){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!a||"object"!=typeof a&&"function"!=typeof a?e:a}function r(e,a){if("function"!=typeof a&&null!==a)throw new TypeError("Super expression must either be null or a function, not "+typeof a);e.prototype=Object.create(a&&a.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),a&&(Object.setPrototypeOf?Object.setPrototypeOf(e,a):e.__proto__=a)}function l(e){var a=[];return{on:function(e){a.push(e)},off:function(e){a=a.filter((function(a){return a!==e}))},get:function(){return e},set:function(n,t){e=n,a.forEach((function(a){return a(e,t)}))}}}a.default=function(e,a){var n,m,N="__create-react-context-"+(0,p.default)()+"__",i=function(e){function n(){var a,t;s(this,n);for(var o=arguments.length,p=Array(o),m=0;m<o;m++)p[m]=arguments[m];return a=t=c(this,e.call.apply(e,[this].concat(p))),t.emitter=l(t.props.value),c(t,a)}return r(n,e),n.prototype.getChildContext=function(){var e;return(e={})[N]=this.emitter,e},n.prototype.componentWillReceiveProps=function(e){if(this.props.value!==e.value){var n=this.props.value,t=e.value,o=void 0;((p=n)===(m=t)?0!==p||1/p==1/m:p!=p&&m!=m)?o=0:(o="function"==typeof a?a(n,t):1073741823,0!==(o|=0)&&this.emitter.set(e.value,o))}var p,m},n.prototype.render=function(){return this.props.children},n}(t.Component);i.childContextTypes=((n={})[N]=o.default.object.isRequired,n);var u=function(a){function n(){var e,t;s(this,n);for(var o=arguments.length,p=Array(o),m=0;m<o;m++)p[m]=arguments[m];return e=t=c(this,a.call.apply(a,[this].concat(p))),t.state={value:t.getValue()},t.onUpdate=function(e,a){0!=((0|t.observedBits)&a)&&t.setState({value:t.getValue()})},c(t,e)}return r(n,a),n.prototype.componentWillReceiveProps=function(e){var a=e.observedBits;this.observedBits=null==a?1073741823:a},n.prototype.componentDidMount=function(){this.context[N]&&this.context[N].on(this.onUpdate);var e=this.props.observedBits;this.observedBits=null==e?1073741823:e},n.prototype.componentWillUnmount=function(){this.context[N]&&this.context[N].off(this.onUpdate)},n.prototype.getValue=function(){return this.context[N]?this.context[N].get():e},n.prototype.render=function(){return(e=this.props.children,Array.isArray(e)?e[0]:e)(this.state.value);var e},n}(t.Component);return u.contextTypes=((m={})[N]=o.default.object,m),{Provider:i,Consumer:u}},e.exports=a.default},466:function(e,a,n){"use strict";(function(a){var n="__global_unique_id__";e.exports=function(){return a[n]=(a[n]||0)+1}}).call(this,n(16))},467:function(e,a,n){"use strict";var t=n(468);e.exports=t},468:function(e,a,n){"use strict";function t(e){return function(){return e}}var o=function(){};o.thatReturns=t,o.thatReturnsFalse=t(!1),o.thatReturnsTrue=t(!0),o.thatReturnsNull=t(null),o.thatReturnsThis=function(){return this},o.thatReturnsArgument=function(e){return e},e.exports=o}}]);